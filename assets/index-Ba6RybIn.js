var JE=Object.defineProperty;var GE=(t,e,r)=>e in t?JE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dr=(t,e,r)=>(GE(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var iS={exports:{}},Yc={},oS={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),XE=Symbol.for("react.portal"),YE=Symbol.for("react.fragment"),ZE=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),o0=Symbol.for("react.memo"),s0=Symbol.for("react.lazy"),Lf=Symbol.iterator;function a0(t){return t===null||typeof t!="object"?null:(t=Lf&&t[Lf]||t["@@iterator"],typeof t=="function"?t:null)}var sS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aS=Object.assign,cS={};function di(t,e,r){this.props=t,this.context=e,this.refs=cS,this.updater=r||sS}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uS(){}uS.prototype=di.prototype;function th(t,e,r){this.props=t,this.context=e,this.refs=cS,this.updater=r||sS}var rh=th.prototype=new uS;rh.constructor=th;aS(rh,di.prototype);rh.isPureReactComponent=!0;var zf=Array.isArray,lS=Object.prototype.hasOwnProperty,nh={current:null},pS={key:!0,ref:!0,__self:!0,__source:!0};function dS(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)lS.call(e,n)&&!pS.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:la,type:t,key:o,ref:a,props:i,_owner:nh.current}}function c0(t,e){return{$$typeof:la,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ih(t){return typeof t=="object"&&t!==null&&t.$$typeof===la}function u0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jf=/\/+/g;function zl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u0(""+t.key):e.toString(36)}function tc(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case la:case XE:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+zl(a,0):n,zf(i)?(r="",t!=null&&(r=t.replace(jf,"$&/")+"/"),tc(i,e,r,"",function(u){return u})):i!=null&&(ih(i)&&(i=c0(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jf,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",zf(t))for(var s=0;s<t.length;s++){o=t[s];var c=n+zl(o,s);a+=tc(o,e,r,c,i)}else if(c=a0(t),typeof c=="function")for(t=c.call(t),s=0;!(o=t.next()).done;)o=o.value,c=n+zl(o,s++),a+=tc(o,e,r,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ka(t,e,r){if(t==null)return t;var n=[],i=0;return tc(t,n,"","",function(o){return e.call(r,o,i++)}),n}function l0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},rc={transition:null},p0={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:rc,ReactCurrentOwner:nh};G.Children={map:ka,forEach:function(t,e,r){ka(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ka(t,function(){e++}),e},toArray:function(t){return ka(t,function(e){return e})||[]},only:function(t){if(!ih(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=di;G.Fragment=YE;G.Profiler=e0;G.PureComponent=th;G.StrictMode=ZE;G.Suspense=i0;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p0;G.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=aS({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=nh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)lS.call(e,c)&&!pS.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:la,type:t.type,key:i,ref:o,props:n,_owner:a}};G.createContext=function(t){return t={$$typeof:r0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t0,_context:t},t.Consumer=t};G.createElement=dS;G.createFactory=function(t){var e=dS.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:n0,render:t}};G.isValidElement=ih;G.lazy=function(t){return{$$typeof:s0,_payload:{_status:-1,_result:t},_init:l0}};G.memo=function(t,e){return{$$typeof:o0,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=rc.transition;rc.transition={};try{t()}finally{rc.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return Ge.current.useCallback(t,e)};G.useContext=function(t){return Ge.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ge.current.useEffect(t,e)};G.useId=function(){return Ge.current.useId()};G.useImperativeHandle=function(t,e,r){return Ge.current.useImperativeHandle(t,e,r)};G.useInsertionEffect=function(t,e){return Ge.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ge.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ge.current.useMemo(t,e)};G.useReducer=function(t,e,r){return Ge.current.useReducer(t,e,r)};G.useRef=function(t){return Ge.current.useRef(t)};G.useState=function(t){return Ge.current.useState(t)};G.useSyncExternalStore=function(t,e,r){return Ge.current.useSyncExternalStore(t,e,r)};G.useTransition=function(){return Ge.current.useTransition()};G.version="18.2.0";oS.exports=G;var P=oS.exports;const ht=nS(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=P,h0=Symbol.for("react.element"),f0=Symbol.for("react.fragment"),v0=Object.prototype.hasOwnProperty,g0=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m0={key:!0,ref:!0,__self:!0,__source:!0};function hS(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)v0.call(e,n)&&!m0.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:h0,type:t,key:o,ref:a,props:i,_owner:g0.current}}Yc.Fragment=f0;Yc.jsx=hS;Yc.jsxs=hS;iS.exports=Yc;var H=iS.exports,jp={},fS={exports:{}},ut={},vS={exports:{}},gS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,D){var z=b.length;b.push(D);e:for(;0<z;){var Q=z-1>>>1,re=b[Q];if(0<i(re,D))b[Q]=D,b[z]=re,z=Q;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var D=b[0],z=b.pop();if(z!==D){b[0]=z;e:for(var Q=0,re=b.length,Et=re>>>1;Q<Et;){var pt=2*(Q+1)-1,Pi=b[pt],Ht=pt+1,bn=b[Ht];if(0>i(Pi,z))Ht<re&&0>i(bn,Pi)?(b[Q]=bn,b[Ht]=z,Q=Ht):(b[Q]=Pi,b[pt]=z,Q=pt);else if(Ht<re&&0>i(bn,z))b[Q]=bn,b[Ht]=z,Q=Ht;else break e}}return D}function i(b,D){var z=b.sortIndex-D.sortIndex;return z!==0?z:b.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var c=[],u=[],l=1,p=null,d=3,h=!1,f=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(b){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=b)n(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=r(u)}}function C(b){if(g=!1,S(b),!f)if(r(c)!==null)f=!0,te(R);else{var D=r(u);D!==null&&Se(C,D.startTime-b)}}function R(b,D){f=!1,g&&(g=!1,v(E),E=-1),h=!0;var z=d;try{for(S(D),p=r(c);p!==null&&(!(p.expirationTime>D)||b&&!U());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,d=p.priorityLevel;var re=Q(p.expirationTime<=D);D=t.unstable_now(),typeof re=="function"?p.callback=re:p===r(c)&&n(c),S(D)}else n(c);p=r(c)}if(p!==null)var Et=!0;else{var pt=r(u);pt!==null&&Se(C,pt.startTime-D),Et=!1}return Et}finally{p=null,d=z,h=!1}}var w=!1,T=null,E=-1,x=5,N=-1;function U(){return!(t.unstable_now()-N<x)}function j(){if(T!==null){var b=t.unstable_now();N=b;var D=!0;try{D=T(!0,b)}finally{D?Y():(w=!1,T=null)}}else w=!1}var Y;if(typeof m=="function")Y=function(){m(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ee=O.port2;O.port1.onmessage=j,Y=function(){ee.postMessage(null)}}else Y=function(){y(j,0)};function te(b){T=b,w||(w=!0,Y())}function Se(b,D){E=y(function(){b(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,te(R))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(b){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var z=d;d=D;try{return b()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,D){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var z=d;d=b;try{return D()}finally{d=z}},t.unstable_scheduleCallback=function(b,D,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,b){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,b={id:l++,callback:D,priorityLevel:b,startTime:z,expirationTime:re,sortIndex:-1},z>Q?(b.sortIndex=z,e(u,b),r(c)===null&&b===r(u)&&(g?(v(E),E=-1):g=!0,Se(C,z-Q))):(b.sortIndex=re,e(c,b),f||h||(f=!0,te(R))),b},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(b){var D=d;return function(){var z=d;d=D;try{return b.apply(this,arguments)}finally{d=z}}}})(gS);vS.exports=gS;var y0=vS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=P,ct=y0;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yS=new Set,Bs={};function Tn(t,e){ei(t,e),ei(t+"Capture",e)}function ei(t,e){for(Bs[t]=e,t=0;t<e.length;t++)yS.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,S0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ff={},Bf={};function C0(t){return Fp.call(Bf,t)?!0:Fp.call(Ff,t)?!1:S0.test(t)?Bf[t]=!0:(Ff[t]=!0,!1)}function P0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R0(t,e,r,n){if(e===null||typeof e>"u"||P0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var oh=/[\-:]([a-z])/g;function sh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oh,sh);Me[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oh,sh);Me[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oh,sh);Me[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function ah(t,e,r,n){var i=Me.hasOwnProperty(e)?Me[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R0(e,r,i,n)&&(r=null),n||i===null?C0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var lr=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oa=Symbol.for("react.element"),xn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),CS=Symbol.for("react.context"),uh=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),lh=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),PS=Symbol.for("react.offscreen"),$f=Symbol.iterator;function Ri(t){return t===null||typeof t!="object"?null:(t=$f&&t[$f]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,jl;function Ps(t){if(jl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);jl=e&&e[1]||""}return`
`+jl+t}var Fl=!1;function Bl(t,e){if(!t||Fl)return"";Fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=s);break}}}finally{Fl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ps(t):""}function w0(t){switch(t.tag){case 5:return Ps(t.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return t=Bl(t.type,!1),t;case 11:return t=Bl(t.type.render,!1),t;case 1:return t=Bl(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ln:return"Fragment";case xn:return"Portal";case Bp:return"Profiler";case ch:return"StrictMode";case $p:return"Suspense";case Up:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CS:return(t.displayName||"Context")+".Consumer";case SS:return(t._context.displayName||"Context")+".Provider";case uh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lh:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case mr:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function E0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T0(t){var e=RS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ma(t){t._valueTracker||(t._valueTracker=T0(t))}function wS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=RS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vp(t,e){var r=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Uf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=xr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ES(t,e){e=e.checked,e!=null&&ah(t,"checked",e,!1)}function Hp(t,e){ES(t,e);var r=xr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wp(t,e,r){(e!=="number"||Cc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rs=Array.isArray;function Jn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(_(92));if(Rs(r)){if(1<r.length)throw Error(_(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:xr(r)}}function TS(t,e){var r=xr(e.value),n=xr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Hf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Da,AS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Da=Da||document.createElement("div"),Da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $s(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I0=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(t){I0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_s[e]=_s[t]})});function _S(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_s.hasOwnProperty(t)&&_s[t]?(""+e).trim():e+"px"}function bS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_S(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var A0=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(t,e){if(e){if(A0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function Qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function ph(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yp=null,Gn=null,Qn=null;function Wf(t){if(t=ha(t)){if(typeof Yp!="function")throw Error(_(280));var e=t.stateNode;e&&(e=nu(e),Yp(t.stateNode,t.type,e))}}function kS(t){Gn?Qn?Qn.push(t):Qn=[t]:Gn=t}function OS(){if(Gn){var t=Gn,e=Qn;if(Qn=Gn=null,Wf(t),e)for(t=0;t<e.length;t++)Wf(e[t])}}function MS(t,e){return t(e)}function DS(){}var $l=!1;function NS(t,e,r){if($l)return t(e,r);$l=!0;try{return MS(t,e,r)}finally{$l=!1,(Gn!==null||Qn!==null)&&(DS(),OS())}}function Us(t,e){var r=t.stateNode;if(r===null)return null;var n=nu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(_(231,e,typeof r));return r}var Zp=!1;if(or)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Zp=!1}function _0(t,e,r,n,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(l){this.onError(l)}}var bs=!1,Pc=null,Rc=!1,ed=null,b0={onError:function(t){bs=!0,Pc=t}};function k0(t,e,r,n,i,o,a,s,c){bs=!1,Pc=null,_0.apply(b0,arguments)}function O0(t,e,r,n,i,o,a,s,c){if(k0.apply(this,arguments),bs){if(bs){var u=Pc;bs=!1,Pc=null}else throw Error(_(198));Rc||(Rc=!0,ed=u)}}function In(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kf(t){if(In(t)!==t)throw Error(_(188))}function M0(t){var e=t.alternate;if(!e){if(e=In(t),e===null)throw Error(_(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Kf(i),t;if(o===n)return Kf(i),e;o=o.sibling}throw Error(_(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(_(189))}}if(r.alternate!==n)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?t:e}function LS(t){return t=M0(t),t!==null?zS(t):null}function zS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zS(t);if(e!==null)return e;t=t.sibling}return null}var jS=ct.unstable_scheduleCallback,Jf=ct.unstable_cancelCallback,D0=ct.unstable_shouldYield,N0=ct.unstable_requestPaint,ve=ct.unstable_now,x0=ct.unstable_getCurrentPriorityLevel,dh=ct.unstable_ImmediatePriority,FS=ct.unstable_UserBlockingPriority,wc=ct.unstable_NormalPriority,L0=ct.unstable_LowPriority,BS=ct.unstable_IdlePriority,Zc=null,$t=null;function z0(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Zc,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:B0,j0=Math.log,F0=Math.LN2;function B0(t){return t>>>=0,t===0?32:31-(j0(t)/F0|0)|0}var Na=64,xa=4194304;function ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ec(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=ws(s):(o&=a,o!==0&&(n=ws(o)))}else a=r&~i,a!==0?n=ws(a):o!==0&&(n=ws(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-bt(e),i=1<<r,n|=t[r],e&=~i;return n}function $0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-bt(o),s=1<<a,c=i[a];c===-1?(!(s&r)||s&n)&&(i[a]=$0(s,e)):c<=e&&(t.expiredLanes|=s),o&=~s}}function td(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $S(){var t=Na;return Na<<=1,!(Na&4194240)&&(Na=64),t}function Ul(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pa(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bt(e),t[e]=r}function q0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-bt(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function hh(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-bt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ne=0;function US(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qS,fh,VS,HS,WS,rd=!1,La=[],Ir=null,Ar=null,_r=null,qs=new Map,Vs=new Map,Pr=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(t,e){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":qs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function Ei(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ha(e),e!==null&&fh(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function H0(t,e,r,n,i){switch(e){case"focusin":return Ir=Ei(Ir,t,e,r,n,i),!0;case"dragenter":return Ar=Ei(Ar,t,e,r,n,i),!0;case"mouseover":return _r=Ei(_r,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return qs.set(o,Ei(qs.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Vs.set(o,Ei(Vs.get(o)||null,t,e,r,n,i)),!0}return!1}function KS(t){var e=pn(t.target);if(e!==null){var r=In(e);if(r!==null){if(e=r.tag,e===13){if(e=xS(r),e!==null){t.blockedOn=e,WS(t.priority,function(){VS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Xp=n,r.target.dispatchEvent(n),Xp=null}else return e=ha(r),e!==null&&fh(e),t.blockedOn=r,!1;e.shift()}return!0}function Qf(t,e,r){nc(t)&&r.delete(e)}function W0(){rd=!1,Ir!==null&&nc(Ir)&&(Ir=null),Ar!==null&&nc(Ar)&&(Ar=null),_r!==null&&nc(_r)&&(_r=null),qs.forEach(Qf),Vs.forEach(Qf)}function Ti(t,e){t.blockedOn===e&&(t.blockedOn=null,rd||(rd=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,W0)))}function Hs(t){function e(i){return Ti(i,t)}if(0<La.length){Ti(La[0],t);for(var r=1;r<La.length;r++){var n=La[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ir!==null&&Ti(Ir,t),Ar!==null&&Ti(Ar,t),_r!==null&&Ti(_r,t),qs.forEach(e),Vs.forEach(e),r=0;r<Pr.length;r++)n=Pr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pr.length&&(r=Pr[0],r.blockedOn===null);)KS(r),r.blockedOn===null&&Pr.shift()}var Xn=lr.ReactCurrentBatchConfig,Tc=!0;function K0(t,e,r,n){var i=ne,o=Xn.transition;Xn.transition=null;try{ne=1,vh(t,e,r,n)}finally{ne=i,Xn.transition=o}}function J0(t,e,r,n){var i=ne,o=Xn.transition;Xn.transition=null;try{ne=4,vh(t,e,r,n)}finally{ne=i,Xn.transition=o}}function vh(t,e,r,n){if(Tc){var i=nd(t,e,r,n);if(i===null)Yl(t,e,n,Ic,r),Gf(t,n);else if(H0(i,t,e,r,n))n.stopPropagation();else if(Gf(t,n),e&4&&-1<V0.indexOf(t)){for(;i!==null;){var o=ha(i);if(o!==null&&qS(o),o=nd(t,e,r,n),o===null&&Yl(t,e,n,Ic,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Yl(t,e,n,null,r)}}var Ic=null;function nd(t,e,r,n){if(Ic=null,t=ph(n),t=pn(t),t!==null)if(e=In(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ic=t,null}function JS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x0()){case dh:return 1;case FS:return 4;case wc:case L0:return 16;case BS:return 536870912;default:return 16}default:return 16}}var wr=null,gh=null,ic=null;function GS(){if(ic)return ic;var t,e=gh,r=e.length,n,i="value"in wr?wr.value:wr.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return ic=i.slice(t,1<n?1-n:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function Xf(){return!1}function lt(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?za:Xf,this.isPropagationStopped=Xf,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mh=lt(hi),da=pe({},hi,{view:0,detail:0}),G0=lt(da),ql,Vl,Ii,eu=pe({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(ql=t.screenX-Ii.screenX,Vl=t.screenY-Ii.screenY):Vl=ql=0,Ii=t),ql)},movementY:function(t){return"movementY"in t?t.movementY:Vl}}),Yf=lt(eu),Q0=pe({},eu,{dataTransfer:0}),X0=lt(Q0),Y0=pe({},da,{relatedTarget:0}),Hl=lt(Y0),Z0=pe({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),e1=lt(Z0),t1=pe({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r1=lt(t1),n1=pe({},hi,{data:0}),Zf=lt(n1),i1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s1[t])?!!e[t]:!1}function yh(){return a1}var c1=pe({},da,{key:function(t){if(t.key){var e=i1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u1=lt(c1),l1=pe({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ev=lt(l1),p1=pe({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),d1=lt(p1),h1=pe({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),f1=lt(h1),v1=pe({},eu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g1=lt(v1),m1=[9,13,27,32],Sh=or&&"CompositionEvent"in window,ks=null;or&&"documentMode"in document&&(ks=document.documentMode);var y1=or&&"TextEvent"in window&&!ks,QS=or&&(!Sh||ks&&8<ks&&11>=ks),tv=" ",rv=!1;function XS(t,e){switch(t){case"keyup":return m1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zn=!1;function S1(t,e){switch(t){case"compositionend":return YS(e);case"keypress":return e.which!==32?null:(rv=!0,tv);case"textInput":return t=e.data,t===tv&&rv?null:t;default:return null}}function C1(t,e){if(zn)return t==="compositionend"||!Sh&&XS(t,e)?(t=GS(),ic=gh=wr=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QS&&e.locale!=="ko"?null:e.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P1[t.type]:e==="textarea"}function ZS(t,e,r,n){kS(n),e=Ac(e,"onChange"),0<e.length&&(r=new mh("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Os=null,Ws=null;function R1(t){lC(t,0)}function tu(t){var e=Bn(t);if(wS(e))return t}function w1(t,e){if(t==="change")return e}var eC=!1;if(or){var Wl;if(or){var Kl="oninput"in document;if(!Kl){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),Kl=typeof iv.oninput=="function"}Wl=Kl}else Wl=!1;eC=Wl&&(!document.documentMode||9<document.documentMode)}function ov(){Os&&(Os.detachEvent("onpropertychange",tC),Ws=Os=null)}function tC(t){if(t.propertyName==="value"&&tu(Ws)){var e=[];ZS(e,Ws,t,ph(t)),NS(R1,e)}}function E1(t,e,r){t==="focusin"?(ov(),Os=e,Ws=r,Os.attachEvent("onpropertychange",tC)):t==="focusout"&&ov()}function T1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(Ws)}function I1(t,e){if(t==="click")return tu(e)}function A1(t,e){if(t==="input"||t==="change")return tu(e)}function _1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:_1;function Ks(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fp.call(e,i)||!Ot(t[i],e[i]))return!1}return!0}function sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function av(t,e){var r=sv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sv(r)}}function rC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nC(){for(var t=window,e=Cc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Cc(t.document)}return e}function Ch(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function b1(t){var e=nC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rC(r.ownerDocument.documentElement,r)){if(n!==null&&Ch(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=av(r,o);var a=av(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k1=or&&"documentMode"in document&&11>=document.documentMode,jn=null,id=null,Ms=null,od=!1;function cv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;od||jn==null||jn!==Cc(n)||(n=jn,"selectionStart"in n&&Ch(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ms&&Ks(Ms,n)||(Ms=n,n=Ac(id,"onSelect"),0<n.length&&(e=new mh("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jn)))}function ja(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fn={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Jl={},iC={};or&&(iC=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function ru(t){if(Jl[t])return Jl[t];if(!Fn[t])return t;var e=Fn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iC)return Jl[t]=e[r];return t}var oC=ru("animationend"),sC=ru("animationiteration"),aC=ru("animationstart"),cC=ru("transitionend"),uC=new Map,uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,e){uC.set(t,e),Tn(e,[t])}for(var Gl=0;Gl<uv.length;Gl++){var Ql=uv[Gl],O1=Ql.toLowerCase(),M1=Ql[0].toUpperCase()+Ql.slice(1);jr(O1,"on"+M1)}jr(oC,"onAnimationEnd");jr(sC,"onAnimationIteration");jr(aC,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(cC,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function lv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,O0(n,e,void 0,t),t.currentTarget=null}function lC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;lv(i,s,u),o=c}else for(a=0;a<n.length;a++){if(s=n[a],c=s.instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;lv(i,s,u),o=c}}}if(Rc)throw t=ed,Rc=!1,ed=null,t}function se(t,e){var r=e[ld];r===void 0&&(r=e[ld]=new Set);var n=t+"__bubble";r.has(n)||(pC(e,t,2,!1),r.add(n))}function Xl(t,e,r){var n=0;e&&(n|=4),pC(r,t,n,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Js(t){if(!t[Fa]){t[Fa]=!0,yS.forEach(function(r){r!=="selectionchange"&&(D1.has(r)||Xl(r,!1,t),Xl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,Xl("selectionchange",!1,e))}}function pC(t,e,r,n){switch(JS(e)){case 1:var i=K0;break;case 4:i=J0;break;default:i=vh}r=i.bind(null,e,r,t),i=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Yl(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=pn(s),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}s=s.parentNode}}n=n.return}NS(function(){var u=o,l=ph(r),p=[];e:{var d=uC.get(t);if(d!==void 0){var h=mh,f=t;switch(t){case"keypress":if(oc(r)===0)break e;case"keydown":case"keyup":h=u1;break;case"focusin":f="focus",h=Hl;break;case"focusout":f="blur",h=Hl;break;case"beforeblur":case"afterblur":h=Hl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=d1;break;case oC:case sC:case aC:h=e1;break;case cC:h=f1;break;case"scroll":h=G0;break;case"wheel":h=g1;break;case"copy":case"cut":case"paste":h=r1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ev}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var m=u,S;m!==null;){S=m;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,v!==null&&(C=Us(m,v),C!=null&&g.push(Gs(m,C,S)))),y)break;m=m.return}0<g.length&&(d=new h(d,f,null,r,l),p.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==Xp&&(f=r.relatedTarget||r.fromElement)&&(pn(f)||f[sr]))break e;if((h||d)&&(d=l.window===l?l:(d=l.ownerDocument)?d.defaultView||d.parentWindow:window,h?(f=r.relatedTarget||r.toElement,h=u,f=f?pn(f):null,f!==null&&(y=In(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=u),h!==f)){if(g=Yf,C="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=ev,C="onPointerLeave",v="onPointerEnter",m="pointer"),y=h==null?d:Bn(h),S=f==null?d:Bn(f),d=new g(C,m+"leave",h,r,l),d.target=y,d.relatedTarget=S,C=null,pn(l)===u&&(g=new g(v,m+"enter",f,r,l),g.target=S,g.relatedTarget=y,C=g),y=C,h&&f)t:{for(g=h,v=f,m=0,S=g;S;S=kn(S))m++;for(S=0,C=v;C;C=kn(C))S++;for(;0<m-S;)g=kn(g),m--;for(;0<S-m;)v=kn(v),S--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=kn(g),v=kn(v)}g=null}else g=null;h!==null&&pv(p,d,h,g,!1),f!==null&&y!==null&&pv(p,y,f,g,!0)}}e:{if(d=u?Bn(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var R=w1;else if(nv(d))if(eC)R=A1;else{R=T1;var w=E1}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=I1);if(R&&(R=R(t,u))){ZS(p,R,r,l);break e}w&&w(t,d,u),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&Wp(d,"number",d.value)}switch(w=u?Bn(u):window,t){case"focusin":(nv(w)||w.contentEditable==="true")&&(jn=w,id=u,Ms=null);break;case"focusout":Ms=id=jn=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,cv(p,r,l);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":cv(p,r,l)}var T;if(Sh)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else zn?XS(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(QS&&r.locale!=="ko"&&(zn||E!=="onCompositionStart"?E==="onCompositionEnd"&&zn&&(T=GS()):(wr=l,gh="value"in wr?wr.value:wr.textContent,zn=!0)),w=Ac(u,E),0<w.length&&(E=new Zf(E,t,null,r,l),p.push({event:E,listeners:w}),T?E.data=T:(T=YS(r),T!==null&&(E.data=T)))),(T=y1?S1(t,r):C1(t,r))&&(u=Ac(u,"onBeforeInput"),0<u.length&&(l=new Zf("onBeforeInput","beforeinput",null,r,l),p.push({event:l,listeners:u}),l.data=T))}lC(p,e)})}function Gs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ac(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Us(t,r),o!=null&&n.unshift(Gs(t,o,i)),o=Us(t,e),o!=null&&n.push(Gs(t,o,i))),t=t.return}return n}function kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pv(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=Us(r,o),c!=null&&a.unshift(Gs(r,c,s))):i||(c=Us(r,o),c!=null&&a.push(Gs(r,c,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var N1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function dv(t){return(typeof t=="string"?t:""+t).replace(N1,`
`).replace(x1,"")}function Ba(t,e,r){if(e=dv(e),dv(t)!==e&&r)throw Error(_(425))}function _c(){}var sd=null,ad=null;function cd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ud=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(j1)}:ud;function j1(t){setTimeout(function(){throw t})}function Zl(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Hs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hs(e)}function br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fi=Math.random().toString(36).slice(2),zt="__reactFiber$"+fi,Qs="__reactProps$"+fi,sr="__reactContainer$"+fi,ld="__reactEvents$"+fi,F1="__reactListeners$"+fi,B1="__reactHandles$"+fi;function pn(t){var e=t[zt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sr]||r[zt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=fv(t);t!==null;){if(r=t[zt])return r;t=fv(t)}return e}t=r,r=t.parentNode}return null}function ha(t){return t=t[zt]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function nu(t){return t[Qs]||null}var pd=[],$n=-1;function Fr(t){return{current:t}}function ae(t){0>$n||(t.current=pd[$n],pd[$n]=null,$n--)}function ie(t,e){$n++,pd[$n]=t.current,t.current=e}var Lr={},Ve=Fr(Lr),et=Fr(!1),mn=Lr;function ti(t,e){var r=t.type.contextTypes;if(!r)return Lr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tt(t){return t=t.childContextTypes,t!=null}function bc(){ae(et),ae(Ve)}function vv(t,e,r){if(Ve.current!==Lr)throw Error(_(168));ie(Ve,e),ie(et,r)}function dC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(_(108,E0(t)||"Unknown",i));return pe({},r,n)}function kc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,mn=Ve.current,ie(Ve,t),ie(et,et.current),!0}function gv(t,e,r){var n=t.stateNode;if(!n)throw Error(_(169));r?(t=dC(t,e,mn),n.__reactInternalMemoizedMergedChildContext=t,ae(et),ae(Ve),ie(Ve,t)):ae(et),ie(et,r)}var Yt=null,iu=!1,ep=!1;function hC(t){Yt===null?Yt=[t]:Yt.push(t)}function $1(t){iu=!0,hC(t)}function Br(){if(!ep&&Yt!==null){ep=!0;var t=0,e=ne;try{var r=Yt;for(ne=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Yt=null,iu=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(t+1)),jS(dh,Br),i}finally{ne=e,ep=!1}}return null}var Un=[],qn=0,Oc=null,Mc=0,gt=[],mt=0,yn=null,Zt=1,er="";function cn(t,e){Un[qn++]=Mc,Un[qn++]=Oc,Oc=t,Mc=e}function fC(t,e,r){gt[mt++]=Zt,gt[mt++]=er,gt[mt++]=yn,yn=t;var n=Zt;t=er;var i=32-bt(n)-1;n&=~(1<<i),r+=1;var o=32-bt(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Zt=1<<32-bt(e)+i|r<<i|n,er=o+t}else Zt=1<<o|r<<i|n,er=t}function Ph(t){t.return!==null&&(cn(t,1),fC(t,1,0))}function Rh(t){for(;t===Oc;)Oc=Un[--qn],Un[qn]=null,Mc=Un[--qn],Un[qn]=null;for(;t===yn;)yn=gt[--mt],gt[mt]=null,er=gt[--mt],gt[mt]=null,Zt=gt[--mt],gt[mt]=null}var at=null,st=null,ce=!1,_t=null;function vC(t,e){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,at=t,st=br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,at=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yn!==null?{id:Zt,overflow:er}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,at=t,st=null,!0):!1;default:return!1}}function dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hd(t){if(ce){var e=st;if(e){var r=e;if(!mv(t,e)){if(dd(t))throw Error(_(418));e=br(r.nextSibling);var n=at;e&&mv(t,e)?vC(n,r):(t.flags=t.flags&-4097|2,ce=!1,at=t)}}else{if(dd(t))throw Error(_(418));t.flags=t.flags&-4097|2,ce=!1,at=t}}}function yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function $a(t){if(t!==at)return!1;if(!ce)return yv(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cd(t.type,t.memoizedProps)),e&&(e=st)){if(dd(t))throw gC(),Error(_(418));for(;e;)vC(t,e),e=br(e.nextSibling)}if(yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){st=br(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}st=null}}else st=at?br(t.stateNode.nextSibling):null;return!0}function gC(){for(var t=st;t;)t=br(t.nextSibling)}function ri(){st=at=null,ce=!1}function wh(t){_t===null?_t=[t]:_t.push(t)}var U1=lr.ReactCurrentBatchConfig;function It(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Dc=Fr(null),Nc=null,Vn=null,Eh=null;function Th(){Eh=Vn=Nc=null}function Ih(t){var e=Dc.current;ae(Dc),t._currentValue=e}function fd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yn(t,e){Nc=t,Eh=Vn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ze=!0),t.firstContext=null)}function Pt(t){var e=t._currentValue;if(Eh!==t)if(t={context:t,memoizedValue:e,next:null},Vn===null){if(Nc===null)throw Error(_(308));Vn=t,Nc.dependencies={lanes:0,firstContext:t}}else Vn=Vn.next=t;return e}var dn=null;function Ah(t){dn===null?dn=[t]:dn.push(t)}function mC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Ah(e)):(r.next=i.next,i.next=r),e.interleaved=r,ar(t,n)}function ar(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ar(t,r)}return i=n.interleaved,i===null?(e.next=e,Ah(n)):(e.next=i.next,i.next=e),n.interleaved=e,ar(t,r)}function sc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hh(t,r)}}function Sv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xc(t,e,r,n){var i=t.updateQueue;yr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var l=t.alternate;l!==null&&(l=l.updateQueue,s=l.lastBaseUpdate,s!==a&&(s===null?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;a=0,l=u=c=null,s=o;do{var d=s.lane,h=s.eventTime;if((n&d)===d){l!==null&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=t,g=s;switch(d=e,h=r,g.tag){case 1:if(f=g.payload,typeof f=="function"){p=f.call(h,p,d);break e}p=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=g.payload,d=typeof f=="function"?f.call(h,p,d):f,d==null)break e;p=pe({},p,d);break e;case 2:yr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},l===null?(u=l=h,c=p):l=l.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(l===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cn|=a,t.lanes=a,t.memoizedState=p}}function Cv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(_(191,i));i.call(n)}}}var SC=new mS.Component().refs;function vd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ou={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Je(),i=Mr(t),o=rr(n,i);o.payload=e,r!=null&&(o.callback=r),e=kr(t,o,i),e!==null&&(kt(e,t,i,n),sc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Je(),i=Mr(t),o=rr(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=kr(t,o,i),e!==null&&(kt(e,t,i,n),sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Je(),n=Mr(t),i=rr(r,n);i.tag=2,e!=null&&(i.callback=e),e=kr(t,i,n),e!==null&&(kt(e,t,n,r),sc(e,t,n))}};function Pv(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ks(r,n)||!Ks(i,o):!0}function CC(t,e,r){var n=!1,i=Lr,o=e.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(i=tt(e)?mn:Ve.current,n=e.contextTypes,o=(n=n!=null)?ti(t,i):Lr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ou,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Rv(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ou.enqueueReplaceState(e,e.state,null)}function gd(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=SC,_h(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pt(o):(o=tt(e)?mn:Ve.current,i.context=ti(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vd(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ou.enqueueReplaceState(i,i.state,null),xc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ai(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var n=r.stateNode}if(!n)throw Error(_(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===SC&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,t))}return t}function Ua(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function PC(t){function e(v,m){if(t){var S=v.deletions;S===null?(v.deletions=[m],v.flags|=16):S.push(m)}}function r(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Dr(v,m),v.index=0,v.sibling=null,v}function o(v,m,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<m?(v.flags|=2,m):S):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,m,S,C){return m===null||m.tag!==6?(m=ap(S,v.mode,C),m.return=v,m):(m=i(m,S),m.return=v,m)}function c(v,m,S,C){var R=S.type;return R===Ln?l(v,m,S.props.children,C,S.key):m!==null&&(m.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===mr&&wv(R)===m.type)?(C=i(m,S.props),C.ref=Ai(v,m,S),C.return=v,C):(C=dc(S.type,S.key,S.props,null,v.mode,C),C.ref=Ai(v,m,S),C.return=v,C)}function u(v,m,S,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==S.containerInfo||m.stateNode.implementation!==S.implementation?(m=cp(S,v.mode,C),m.return=v,m):(m=i(m,S.children||[]),m.return=v,m)}function l(v,m,S,C,R){return m===null||m.tag!==7?(m=gn(S,v.mode,C,R),m.return=v,m):(m=i(m,S),m.return=v,m)}function p(v,m,S){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ap(""+m,v.mode,S),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Oa:return S=dc(m.type,m.key,m.props,null,v.mode,S),S.ref=Ai(v,null,m),S.return=v,S;case xn:return m=cp(m,v.mode,S),m.return=v,m;case mr:var C=m._init;return p(v,C(m._payload),S)}if(Rs(m)||Ri(m))return m=gn(m,v.mode,S,null),m.return=v,m;Ua(v,m)}return null}function d(v,m,S,C){var R=m!==null?m.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:s(v,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Oa:return S.key===R?c(v,m,S,C):null;case xn:return S.key===R?u(v,m,S,C):null;case mr:return R=S._init,d(v,m,R(S._payload),C)}if(Rs(S)||Ri(S))return R!==null?null:l(v,m,S,C,null);Ua(v,S)}return null}function h(v,m,S,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(S)||null,s(m,v,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Oa:return v=v.get(C.key===null?S:C.key)||null,c(m,v,C,R);case xn:return v=v.get(C.key===null?S:C.key)||null,u(m,v,C,R);case mr:var w=C._init;return h(v,m,S,w(C._payload),R)}if(Rs(C)||Ri(C))return v=v.get(S)||null,l(m,v,C,R,null);Ua(m,C)}return null}function f(v,m,S,C){for(var R=null,w=null,T=m,E=m=0,x=null;T!==null&&E<S.length;E++){T.index>E?(x=T,T=null):x=T.sibling;var N=d(v,T,S[E],C);if(N===null){T===null&&(T=x);break}t&&T&&N.alternate===null&&e(v,T),m=o(N,m,E),w===null?R=N:w.sibling=N,w=N,T=x}if(E===S.length)return r(v,T),ce&&cn(v,E),R;if(T===null){for(;E<S.length;E++)T=p(v,S[E],C),T!==null&&(m=o(T,m,E),w===null?R=T:w.sibling=T,w=T);return ce&&cn(v,E),R}for(T=n(v,T);E<S.length;E++)x=h(T,v,E,S[E],C),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?E:x.key),m=o(x,m,E),w===null?R=x:w.sibling=x,w=x);return t&&T.forEach(function(U){return e(v,U)}),ce&&cn(v,E),R}function g(v,m,S,C){var R=Ri(S);if(typeof R!="function")throw Error(_(150));if(S=R.call(S),S==null)throw Error(_(151));for(var w=R=null,T=m,E=m=0,x=null,N=S.next();T!==null&&!N.done;E++,N=S.next()){T.index>E?(x=T,T=null):x=T.sibling;var U=d(v,T,N.value,C);if(U===null){T===null&&(T=x);break}t&&T&&U.alternate===null&&e(v,T),m=o(U,m,E),w===null?R=U:w.sibling=U,w=U,T=x}if(N.done)return r(v,T),ce&&cn(v,E),R;if(T===null){for(;!N.done;E++,N=S.next())N=p(v,N.value,C),N!==null&&(m=o(N,m,E),w===null?R=N:w.sibling=N,w=N);return ce&&cn(v,E),R}for(T=n(v,T);!N.done;E++,N=S.next())N=h(T,v,E,N.value,C),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?E:N.key),m=o(N,m,E),w===null?R=N:w.sibling=N,w=N);return t&&T.forEach(function(j){return e(v,j)}),ce&&cn(v,E),R}function y(v,m,S,C){if(typeof S=="object"&&S!==null&&S.type===Ln&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Oa:e:{for(var R=S.key,w=m;w!==null;){if(w.key===R){if(R=S.type,R===Ln){if(w.tag===7){r(v,w.sibling),m=i(w,S.props.children),m.return=v,v=m;break e}}else if(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===mr&&wv(R)===w.type){r(v,w.sibling),m=i(w,S.props),m.ref=Ai(v,w,S),m.return=v,v=m;break e}r(v,w);break}else e(v,w);w=w.sibling}S.type===Ln?(m=gn(S.props.children,v.mode,C,S.key),m.return=v,v=m):(C=dc(S.type,S.key,S.props,null,v.mode,C),C.ref=Ai(v,m,S),C.return=v,v=C)}return a(v);case xn:e:{for(w=S.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===S.containerInfo&&m.stateNode.implementation===S.implementation){r(v,m.sibling),m=i(m,S.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else e(v,m);m=m.sibling}m=cp(S,v.mode,C),m.return=v,v=m}return a(v);case mr:return w=S._init,y(v,m,w(S._payload),C)}if(Rs(S))return f(v,m,S,C);if(Ri(S))return g(v,m,S,C);Ua(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,m!==null&&m.tag===6?(r(v,m.sibling),m=i(m,S),m.return=v,v=m):(r(v,m),m=ap(S,v.mode,C),m.return=v,v=m),a(v)):r(v,m)}return y}var ni=PC(!0),RC=PC(!1),fa={},Ut=Fr(fa),Xs=Fr(fa),Ys=Fr(fa);function hn(t){if(t===fa)throw Error(_(174));return t}function bh(t,e){switch(ie(Ys,e),ie(Xs,t),ie(Ut,fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jp(e,t)}ae(Ut),ie(Ut,e)}function ii(){ae(Ut),ae(Xs),ae(Ys)}function wC(t){hn(Ys.current);var e=hn(Ut.current),r=Jp(e,t.type);e!==r&&(ie(Xs,t),ie(Ut,r))}function kh(t){Xs.current===t&&(ae(Ut),ae(Xs))}var ue=Fr(0);function Lc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tp=[];function Oh(){for(var t=0;t<tp.length;t++)tp[t]._workInProgressVersionPrimary=null;tp.length=0}var ac=lr.ReactCurrentDispatcher,rp=lr.ReactCurrentBatchConfig,Sn=0,le=null,Ce=null,Re=null,zc=!1,Ds=!1,Zs=0,q1=0;function xe(){throw Error(_(321))}function Mh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ot(t[r],e[r]))return!1;return!0}function Dh(t,e,r,n,i,o){if(Sn=o,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ac.current=t===null||t.memoizedState===null?K1:J1,t=r(n,i),Ds){o=0;do{if(Ds=!1,Zs=0,25<=o)throw Error(_(301));o+=1,Re=Ce=null,e.updateQueue=null,ac.current=G1,t=r(n,i)}while(Ds)}if(ac.current=jc,e=Ce!==null&&Ce.next!==null,Sn=0,Re=Ce=le=null,zc=!1,e)throw Error(_(300));return t}function Nh(){var t=Zs!==0;return Zs=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?le.memoizedState=Re=t:Re=Re.next=t,Re}function Rt(){if(Ce===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=Re===null?le.memoizedState:Re.next;if(e!==null)Re=e,Ce=t;else{if(t===null)throw Error(_(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Re===null?le.memoizedState=Re=t:Re=Re.next=t}return Re}function ea(t,e){return typeof e=="function"?e(t):e}function np(t){var e=Rt(),r=e.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=t;var n=Ce,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,c=null,u=o;do{var l=u.lane;if((Sn&l)===l)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=p,a=n):c=c.next=p,le.lanes|=l,Cn|=l}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=s,Ot(n,e.memoizedState)||(Ze=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,le.lanes|=o,Cn|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ip(t){var e=Rt(),r=e.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ot(o,e.memoizedState)||(Ze=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function EC(){}function TC(t,e){var r=le,n=Rt(),i=e(),o=!Ot(n.memoizedState,i);if(o&&(n.memoizedState=i,Ze=!0),n=n.queue,xh(_C.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,ta(9,AC.bind(null,r,n,i,e),void 0,null),we===null)throw Error(_(349));Sn&30||IC(r,e,i)}return i}function IC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function AC(t,e,r,n){e.value=r,e.getSnapshot=n,bC(e)&&kC(t)}function _C(t,e,r){return r(function(){bC(e)&&kC(t)})}function bC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ot(t,r)}catch{return!0}}function kC(t){var e=ar(t,1);e!==null&&kt(e,t,1,-1)}function Ev(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},e.queue=t,t=t.dispatch=W1.bind(null,le,t),[e.memoizedState,t]}function ta(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function OC(){return Rt().memoizedState}function cc(t,e,r,n){var i=Lt();le.flags|=t,i.memoizedState=ta(1|e,r,void 0,n===void 0?null:n)}function su(t,e,r,n){var i=Rt();n=n===void 0?null:n;var o=void 0;if(Ce!==null){var a=Ce.memoizedState;if(o=a.destroy,n!==null&&Mh(n,a.deps)){i.memoizedState=ta(e,r,o,n);return}}le.flags|=t,i.memoizedState=ta(1|e,r,o,n)}function Tv(t,e){return cc(8390656,8,t,e)}function xh(t,e){return su(2048,8,t,e)}function MC(t,e){return su(4,2,t,e)}function DC(t,e){return su(4,4,t,e)}function NC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xC(t,e,r){return r=r!=null?r.concat([t]):null,su(4,4,NC.bind(null,e,t),r)}function Lh(){}function LC(t,e){var r=Rt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Mh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zC(t,e){var r=Rt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Mh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function jC(t,e,r){return Sn&21?(Ot(r,e)||(r=$S(),le.lanes|=r,Cn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ze=!0),t.memoizedState=r)}function V1(t,e){var r=ne;ne=r!==0&&4>r?r:4,t(!0);var n=rp.transition;rp.transition={};try{t(!1),e()}finally{ne=r,rp.transition=n}}function FC(){return Rt().memoizedState}function H1(t,e,r){var n=Mr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BC(t))$C(e,r);else if(r=mC(t,e,r,n),r!==null){var i=Je();kt(r,t,n,i),UC(r,e,n)}}function W1(t,e,r){var n=Mr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BC(t))$C(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,Ot(s,a)){var c=e.interleaved;c===null?(i.next=i,Ah(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=mC(t,e,i,n),r!==null&&(i=Je(),kt(r,t,n,i),UC(r,e,n))}}function BC(t){var e=t.alternate;return t===le||e!==null&&e===le}function $C(t,e){Ds=zc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function UC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hh(t,r)}}var jc={readContext:Pt,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},K1={readContext:Pt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:Pt,useEffect:Tv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,cc(4194308,4,NC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return cc(4,2,t,e)},useMemo:function(t,e){var r=Lt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Lt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=H1.bind(null,le,t),[n.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:Ev,useDebugValue:Lh,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=Ev(!1),e=t[0];return t=V1.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=le,i=Lt();if(ce){if(r===void 0)throw Error(_(407));r=r()}else{if(r=e(),we===null)throw Error(_(349));Sn&30||IC(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Tv(_C.bind(null,n,o,t),[t]),n.flags|=2048,ta(9,AC.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Lt(),e=we.identifierPrefix;if(ce){var r=er,n=Zt;r=(n&~(1<<32-bt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=q1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J1={readContext:Pt,useCallback:LC,useContext:Pt,useEffect:xh,useImperativeHandle:xC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:zC,useReducer:np,useRef:OC,useState:function(){return np(ea)},useDebugValue:Lh,useDeferredValue:function(t){var e=Rt();return jC(e,Ce.memoizedState,t)},useTransition:function(){var t=np(ea)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:EC,useSyncExternalStore:TC,useId:FC,unstable_isNewReconciler:!1},G1={readContext:Pt,useCallback:LC,useContext:Pt,useEffect:xh,useImperativeHandle:xC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:zC,useReducer:ip,useRef:OC,useState:function(){return ip(ea)},useDebugValue:Lh,useDeferredValue:function(t){var e=Rt();return Ce===null?e.memoizedState=t:jC(e,Ce.memoizedState,t)},useTransition:function(){var t=ip(ea)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:EC,useSyncExternalStore:TC,useId:FC,unstable_isNewReconciler:!1};function oi(t,e){try{var r="",n=e;do r+=w0(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function op(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function md(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Q1=typeof WeakMap=="function"?WeakMap:Map;function qC(t,e,r){r=rr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bc||(Bc=!0,Ad=n),md(t,e)},r}function VC(t,e,r){r=rr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){md(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){md(t,e),typeof n!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Iv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Q1;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=lT.bind(null,t,e,r),e.then(t,t))}function Av(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _v(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=rr(-1,1),e.tag=2,kr(r,e,1))),r.lanes|=1),t)}var X1=lr.ReactCurrentOwner,Ze=!1;function Ke(t,e,r,n){e.child=t===null?RC(e,null,r,n):ni(e,t.child,r,n)}function bv(t,e,r,n,i){r=r.render;var o=e.ref;return Yn(e,i),n=Dh(t,e,r,n,o,i),r=Nh(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(ce&&r&&Ph(e),e.flags|=1,Ke(t,e,n,i),e.child)}function kv(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!Vh(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,HC(t,e,o,n,i)):(t=dc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ks,r(a,n)&&t.ref===e.ref)return cr(t,e,i)}return e.flags|=1,t=Dr(o,n),t.ref=e.ref,t.return=e,e.child=t}function HC(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Ks(o,n)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,cr(t,e,i)}return yd(t,e,r,n,i)}function WC(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Wn,it),it|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Wn,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ie(Wn,it),it|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ie(Wn,it),it|=n;return Ke(t,e,i,r),e.child}function KC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yd(t,e,r,n,i){var o=tt(r)?mn:Ve.current;return o=ti(e,o),Yn(e,i),r=Dh(t,e,r,n,o,i),n=Nh(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(ce&&n&&Ph(e),e.flags|=1,Ke(t,e,r,i),e.child)}function Ov(t,e,r,n,i){if(tt(r)){var o=!0;kc(e)}else o=!1;if(Yn(e,i),e.stateNode===null)uc(t,e),CC(e,r,n),gd(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=tt(r)?mn:Ve.current,u=ti(e,u));var l=r.getDerivedStateFromProps,p=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||c!==u)&&Rv(e,a,n,u),yr=!1;var d=e.memoizedState;a.state=d,xc(e,n,a,i),c=e.memoizedState,s!==n||d!==c||et.current||yr?(typeof l=="function"&&(vd(e,r,l,n),c=e.memoizedState),(s=yr||Pv(e,r,s,n,d,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,yC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:It(e.type,s),a.props=u,p=e.pendingProps,d=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pt(c):(c=tt(r)?mn:Ve.current,c=ti(e,c));var h=r.getDerivedStateFromProps;(l=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||d!==c)&&Rv(e,a,n,c),yr=!1,d=e.memoizedState,a.state=d,xc(e,n,a,i);var f=e.memoizedState;s!==p||d!==f||et.current||yr?(typeof h=="function"&&(vd(e,r,h,n),f=e.memoizedState),(u=yr||Pv(e,r,u,n,d,f,c)||!1)?(l||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,f,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,f,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Sd(t,e,r,n,o,i)}function Sd(t,e,r,n,i,o){KC(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&gv(e,r,!1),cr(t,e,o);n=e.stateNode,X1.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ni(e,t.child,null,o),e.child=ni(e,null,s,o)):Ke(t,e,s,o),e.memoizedState=n.state,i&&gv(e,r,!0),e.child}function JC(t){var e=t.stateNode;e.pendingContext?vv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vv(t,e.context,!1),bh(t,e.containerInfo)}function Mv(t,e,r,n,i){return ri(),wh(i),e.flags|=256,Ke(t,e,r,n),e.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Pd(t){return{baseLanes:t,cachePool:null,transitions:null}}function GC(t,e,r){var n=e.pendingProps,i=ue.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(ue,i&1),t===null)return hd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=uu(a,n,0,null),t=gn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pd(r),e.memoizedState=Cd,t):zh(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Y1(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Dr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Dr(s,o):(o=gn(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?Pd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Cd,n}return o=t.child,t=o.sibling,n=Dr(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zh(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qa(t,e,r,n){return n!==null&&wh(n),ni(e,t.child,null,r),t=zh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y1(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=op(Error(_(422))),qa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=uu({mode:"visible",children:n.children},i,0,null),o=gn(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&ni(e,t.child,null,a),e.child.memoizedState=Pd(a),e.memoizedState=Cd,o);if(!(e.mode&1))return qa(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(_(419)),n=op(o,n,void 0),qa(t,e,a,n)}if(s=(a&t.childLanes)!==0,Ze||s){if(n=we,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ar(t,i),kt(n,t,i,-1))}return qh(),n=op(Error(_(421))),qa(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pT.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,st=br(i.nextSibling),at=e,ce=!0,_t=null,t!==null&&(gt[mt++]=Zt,gt[mt++]=er,gt[mt++]=yn,Zt=t.id,er=t.overflow,yn=e),e=zh(e,n.children),e.flags|=4096,e)}function Dv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fd(t.return,e,r)}function sp(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function QC(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Ke(t,e,n.children,r),n=ue.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dv(t,r,e);else if(t.tag===19)Dv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ie(ue,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),sp(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}sp(e,!0,r,null,o);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,r=Dr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Dr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Z1(t,e,r){switch(e.tag){case 3:JC(e),ri();break;case 5:wC(e);break;case 1:tt(e.type)&&kc(e);break;case 4:bh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ie(Dc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ie(ue,ue.current&1),e.flags|=128,null):r&e.child.childLanes?GC(t,e,r):(ie(ue,ue.current&1),t=cr(t,e,r),t!==null?t.sibling:null);ie(ue,ue.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return QC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(ue,ue.current),n)break;return null;case 22:case 23:return e.lanes=0,WC(t,e,r)}return cr(t,e,r)}var XC,Rd,YC,ZC;XC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rd=function(){};YC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,hn(Ut.current);var o=null;switch(r){case"input":i=Vp(t,i),n=Vp(t,n),o=[];break;case"select":i=pe({},i,{value:void 0}),n=pe({},n,{value:void 0}),o=[];break;case"textarea":i=Kp(t,i),n=Kp(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_c)}Gp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",t),o||s===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ZC=function(t,e,r,n){r!==n&&(e.flags|=4)};function _i(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function eT(t,e,r){var n=e.pendingProps;switch(Rh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return tt(e.type)&&bc(),Le(e),null;case 3:return n=e.stateNode,ii(),ae(et),ae(Ve),Oh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($a(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&(kd(_t),_t=null))),Rd(t,e),Le(e),null;case 5:kh(e);var i=hn(Ys.current);if(r=e.type,t!==null&&e.stateNode!=null)YC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(_(166));return Le(e),null}if(t=hn(Ut.current),$a(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[zt]=e,n[Qs]=o,t=(e.mode&1)!==0,r){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(i=0;i<Es.length;i++)se(Es[i],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":Uf(n,o),se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},se("invalid",n);break;case"textarea":Vf(n,o),se("invalid",n)}Gp(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ba(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ba(n.textContent,s,t),i=["children",""+s]):Bs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&se("scroll",n)}switch(r){case"input":Ma(n),qf(n,o,!0);break;case"textarea":Ma(n),Hf(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=_c)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[zt]=e,t[Qs]=n,XC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Qp(r,n),r){case"dialog":se("cancel",t),se("close",t),i=n;break;case"iframe":case"object":case"embed":se("load",t),i=n;break;case"video":case"audio":for(i=0;i<Es.length;i++)se(Es[i],t);i=n;break;case"source":se("error",t),i=n;break;case"img":case"image":case"link":se("error",t),se("load",t),i=n;break;case"details":se("toggle",t),i=n;break;case"input":Uf(t,n),i=Vp(t,n),se("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pe({},n,{value:void 0}),se("invalid",t);break;case"textarea":Vf(t,n),i=Kp(t,n),se("invalid",t);break;default:i=n}Gp(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?bS(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AS(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$s(t,c):typeof c=="number"&&$s(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bs.hasOwnProperty(o)?c!=null&&o==="onScroll"&&se("scroll",t):c!=null&&ah(t,o,c,a))}switch(r){case"input":Ma(t),qf(t,n,!1);break;case"textarea":Ma(t),Hf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+xr(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Jn(t,!!n.multiple,o,!1):n.defaultValue!=null&&Jn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_c)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Le(e),null;case 6:if(t&&e.stateNode!=null)ZC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(_(166));if(r=hn(Ys.current),hn(Ut.current),$a(e)){if(n=e.stateNode,r=e.memoizedProps,n[zt]=e,(o=n.nodeValue!==r)&&(t=at,t!==null))switch(t.tag){case 3:Ba(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ba(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zt]=e,e.stateNode=n}return Le(e),null;case 13:if(ae(ue),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&st!==null&&e.mode&1&&!(e.flags&128))gC(),ri(),e.flags|=98560,o=!1;else if(o=$a(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(_(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_(317));o[zt]=e}else ri(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),o=!1}else _t!==null&&(kd(_t),_t=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Pe===0&&(Pe=3):qh())),e.updateQueue!==null&&(e.flags|=4),Le(e),null);case 4:return ii(),Rd(t,e),t===null&&Js(e.stateNode.containerInfo),Le(e),null;case 10:return Ih(e.type._context),Le(e),null;case 17:return tt(e.type)&&bc(),Le(e),null;case 19:if(ae(ue),o=e.memoizedState,o===null)return Le(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)_i(o,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lc(t),a!==null){for(e.flags|=128,_i(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ie(ue,ue.current&1|2),e.child}t=t.sibling}o.tail!==null&&ve()>si&&(e.flags|=128,n=!0,_i(o,!1),e.lanes=4194304)}else{if(!n)if(t=Lc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_i(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ce)return Le(e),null}else 2*ve()-o.renderingStartTime>si&&r!==1073741824&&(e.flags|=128,n=!0,_i(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ve(),e.sibling=null,r=ue.current,ie(ue,n?r&1|2:r&1),e):(Le(e),null);case 22:case 23:return Uh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?it&1073741824&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function tT(t,e){switch(Rh(e),e.tag){case 1:return tt(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ii(),ae(et),ae(Ve),Oh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kh(e),null;case 13:if(ae(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));ri()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(ue),null;case 4:return ii(),null;case 10:return Ih(e.type._context),null;case 22:case 23:return Uh(),null;case 24:return null;default:return null}}var Va=!1,qe=!1,rT=typeof WeakSet=="function"?WeakSet:Set,k=null;function Hn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){he(t,e,n)}else r.current=null}function wd(t,e,r){try{r()}catch(n){he(t,e,n)}}var Nv=!1;function nT(t,e){if(sd=Tc,t=nC(),Ch(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,c=-1,u=0,l=0,p=t,d=null;t:for(;;){for(var h;p!==r||i!==0&&p.nodeType!==3||(s=a+i),p!==o||n!==0&&p.nodeType!==3||(c=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(h=p.firstChild)!==null;)d=p,p=h;for(;;){if(p===t)break t;if(d===r&&++u===i&&(s=a),d===o&&++l===n&&(c=a),(h=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=h}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ad={focusedElem:t,selectionRange:r},Tc=!1,k=e;k!==null;)if(e=k,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,k=t;else for(;k!==null;){e=k;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var g=f.memoizedProps,y=f.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:It(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(C){he(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,k=t;break}k=e.return}return f=Nv,Nv=!1,f}function Ns(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&wd(e,r,o)}i=i.next}while(i!==n)}}function au(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ed(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function eP(t){var e=t.alternate;e!==null&&(t.alternate=null,eP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[Qs],delete e[ld],delete e[F1],delete e[B1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tP(t){return t.tag===5||t.tag===3||t.tag===4}function xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_c));else if(n!==4&&(t=t.child,t!==null))for(Td(t,e,r),t=t.sibling;t!==null;)Td(t,e,r),t=t.sibling}function Id(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Id(t,e,r),t=t.sibling;t!==null;)Id(t,e,r),t=t.sibling}var _e=null,At=!1;function hr(t,e,r){for(r=r.child;r!==null;)rP(t,e,r),r=r.sibling}function rP(t,e,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Zc,r)}catch{}switch(r.tag){case 5:qe||Hn(r,e);case 6:var n=_e,i=At;_e=null,hr(t,e,r),_e=n,At=i,_e!==null&&(At?(t=_e,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(At?(t=_e,r=r.stateNode,t.nodeType===8?Zl(t.parentNode,r):t.nodeType===1&&Zl(t,r),Hs(t)):Zl(_e,r.stateNode));break;case 4:n=_e,i=At,_e=r.stateNode.containerInfo,At=!0,hr(t,e,r),_e=n,At=i;break;case 0:case 11:case 14:case 15:if(!qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&wd(r,e,a),i=i.next}while(i!==n)}hr(t,e,r);break;case 1:if(!qe&&(Hn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){he(r,e,s)}hr(t,e,r);break;case 21:hr(t,e,r);break;case 22:r.mode&1?(qe=(n=qe)||r.memoizedState!==null,hr(t,e,r),qe=n):hr(t,e,r);break;default:hr(t,e,r)}}function Lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new rT),e.forEach(function(n){var i=dT.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:_e=s.stateNode,At=!1;break e;case 3:_e=s.stateNode.containerInfo,At=!0;break e;case 4:_e=s.stateNode.containerInfo,At=!0;break e}s=s.return}if(_e===null)throw Error(_(160));rP(o,a,i),_e=null,At=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){he(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nP(e,t),e=e.sibling}function nP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),xt(t),n&4){try{Ns(3,t,t.return),au(3,t)}catch(g){he(t,t.return,g)}try{Ns(5,t,t.return)}catch(g){he(t,t.return,g)}}break;case 1:Tt(e,t),xt(t),n&512&&r!==null&&Hn(r,r.return);break;case 5:if(Tt(e,t),xt(t),n&512&&r!==null&&Hn(r,r.return),t.flags&32){var i=t.stateNode;try{$s(i,"")}catch(g){he(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ES(i,o),Qp(s,a);var u=Qp(s,o);for(a=0;a<c.length;a+=2){var l=c[a],p=c[a+1];l==="style"?bS(i,p):l==="dangerouslySetInnerHTML"?AS(i,p):l==="children"?$s(i,p):ah(i,l,p,u)}switch(s){case"input":Hp(i,o);break;case"textarea":TS(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Jn(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Jn(i,!!o.multiple,o.defaultValue,!0):Jn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qs]=o}catch(g){he(t,t.return,g)}}break;case 6:if(Tt(e,t),xt(t),n&4){if(t.stateNode===null)throw Error(_(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){he(t,t.return,g)}}break;case 3:if(Tt(e,t),xt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hs(e.containerInfo)}catch(g){he(t,t.return,g)}break;case 4:Tt(e,t),xt(t);break;case 13:Tt(e,t),xt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bh=ve())),n&4&&Lv(t);break;case 22:if(l=r!==null&&r.memoizedState!==null,t.mode&1?(qe=(u=qe)||l,Tt(e,t),qe=u):Tt(e,t),xt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!l&&t.mode&1)for(k=t,l=t.child;l!==null;){for(p=k=l;k!==null;){switch(d=k,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ns(4,d,d.return);break;case 1:Hn(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(g){he(n,r,g)}}break;case 5:Hn(d,d.return);break;case 22:if(d.memoizedState!==null){jv(p);continue}}h!==null?(h.return=d,k=h):jv(p)}l=l.sibling}e:for(l=null,p=t;;){if(p.tag===5){if(l===null){l=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=_S("display",a))}catch(g){he(t,t.return,g)}}}else if(p.tag===6){if(l===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){he(t,t.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;l===p&&(l=null),p=p.return}l===p&&(l=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Tt(e,t),xt(t),n&4&&Lv(t);break;case 21:break;default:Tt(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tP(r)){var n=r;break e}r=r.return}throw Error(_(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($s(i,""),n.flags&=-33);var o=xv(t);Id(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=xv(t);Td(t,s,a);break;default:throw Error(_(161))}}catch(c){he(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iT(t,e,r){k=t,iP(t)}function iP(t,e,r){for(var n=(t.mode&1)!==0;k!==null;){var i=k,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Va;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||qe;s=Va;var u=qe;if(Va=a,(qe=c)&&!u)for(k=i;k!==null;)a=k,c=a.child,a.tag===22&&a.memoizedState!==null?Fv(i):c!==null?(c.return=a,k=c):Fv(i);for(;o!==null;)k=o,iP(o),o=o.sibling;k=i,Va=s,qe=u}zv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,k=o):zv(t)}}function zv(t){for(;k!==null;){var e=k;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||au(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qe)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:It(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cv(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Cv(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var p=l.dehydrated;p!==null&&Hs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}qe||e.flags&512&&Ed(e)}catch(d){he(e,e.return,d)}}if(e===t){k=null;break}if(r=e.sibling,r!==null){r.return=e.return,k=r;break}k=e.return}}function jv(t){for(;k!==null;){var e=k;if(e===t){k=null;break}var r=e.sibling;if(r!==null){r.return=e.return,k=r;break}k=e.return}}function Fv(t){for(;k!==null;){var e=k;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{au(4,e)}catch(c){he(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){he(e,i,c)}}var o=e.return;try{Ed(e)}catch(c){he(e,o,c)}break;case 5:var a=e.return;try{Ed(e)}catch(c){he(e,a,c)}}}catch(c){he(e,e.return,c)}if(e===t){k=null;break}var s=e.sibling;if(s!==null){s.return=e.return,k=s;break}k=e.return}}var oT=Math.ceil,Fc=lr.ReactCurrentDispatcher,jh=lr.ReactCurrentOwner,St=lr.ReactCurrentBatchConfig,Z=0,we=null,me=null,ke=0,it=0,Wn=Fr(0),Pe=0,ra=null,Cn=0,cu=0,Fh=0,xs=null,Ye=null,Bh=0,si=1/0,Xt=null,Bc=!1,Ad=null,Or=null,Ha=!1,Er=null,$c=0,Ls=0,_d=null,lc=-1,pc=0;function Je(){return Z&6?ve():lc!==-1?lc:lc=ve()}function Mr(t){return t.mode&1?Z&2&&ke!==0?ke&-ke:U1.transition!==null?(pc===0&&(pc=$S()),pc):(t=ne,t!==0||(t=window.event,t=t===void 0?16:JS(t.type)),t):1}function kt(t,e,r,n){if(50<Ls)throw Ls=0,_d=null,Error(_(185));pa(t,r,n),(!(Z&2)||t!==we)&&(t===we&&(!(Z&2)&&(cu|=r),Pe===4&&Rr(t,ke)),rt(t,n),r===1&&Z===0&&!(e.mode&1)&&(si=ve()+500,iu&&Br()))}function rt(t,e){var r=t.callbackNode;U0(t,e);var n=Ec(t,t===we?ke:0);if(n===0)r!==null&&Jf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Jf(r),e===1)t.tag===0?$1(Bv.bind(null,t)):hC(Bv.bind(null,t)),z1(function(){!(Z&6)&&Br()}),r=null;else{switch(US(n)){case 1:r=dh;break;case 4:r=FS;break;case 16:r=wc;break;case 536870912:r=BS;break;default:r=wc}r=dP(r,oP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oP(t,e){if(lc=-1,pc=0,Z&6)throw Error(_(327));var r=t.callbackNode;if(Zn()&&t.callbackNode!==r)return null;var n=Ec(t,t===we?ke:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Uc(t,n);else{e=n;var i=Z;Z|=2;var o=aP();(we!==t||ke!==e)&&(Xt=null,si=ve()+500,vn(t,e));do try{cT();break}catch(s){sP(t,s)}while(!0);Th(),Fc.current=o,Z=i,me!==null?e=0:(we=null,ke=0,e=Pe)}if(e!==0){if(e===2&&(i=td(t),i!==0&&(n=i,e=bd(t,i))),e===1)throw r=ra,vn(t,0),Rr(t,n),rt(t,ve()),r;if(e===6)Rr(t,n);else{if(i=t.current.alternate,!(n&30)&&!sT(i)&&(e=Uc(t,n),e===2&&(o=td(t),o!==0&&(n=o,e=bd(t,o))),e===1))throw r=ra,vn(t,0),Rr(t,n),rt(t,ve()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(_(345));case 2:un(t,Ye,Xt);break;case 3:if(Rr(t,n),(n&130023424)===n&&(e=Bh+500-ve(),10<e)){if(Ec(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ud(un.bind(null,t,Ye,Xt),e);break}un(t,Ye,Xt);break;case 4:if(Rr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-bt(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oT(n/1960))-n,10<n){t.timeoutHandle=ud(un.bind(null,t,Ye,Xt),n);break}un(t,Ye,Xt);break;case 5:un(t,Ye,Xt);break;default:throw Error(_(329))}}}return rt(t,ve()),t.callbackNode===r?oP.bind(null,t):null}function bd(t,e){var r=xs;return t.current.memoizedState.isDehydrated&&(vn(t,e).flags|=256),t=Uc(t,e),t!==2&&(e=Ye,Ye=r,e!==null&&kd(e)),t}function kd(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function sT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ot(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~Fh,e&=~cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-bt(e),n=1<<r;t[r]=-1,e&=~n}}function Bv(t){if(Z&6)throw Error(_(327));Zn();var e=Ec(t,0);if(!(e&1))return rt(t,ve()),null;var r=Uc(t,e);if(t.tag!==0&&r===2){var n=td(t);n!==0&&(e=n,r=bd(t,n))}if(r===1)throw r=ra,vn(t,0),Rr(t,e),rt(t,ve()),r;if(r===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,un(t,Ye,Xt),rt(t,ve()),null}function $h(t,e){var r=Z;Z|=1;try{return t(e)}finally{Z=r,Z===0&&(si=ve()+500,iu&&Br())}}function Pn(t){Er!==null&&Er.tag===0&&!(Z&6)&&Zn();var e=Z;Z|=1;var r=St.transition,n=ne;try{if(St.transition=null,ne=1,t)return t()}finally{ne=n,St.transition=r,Z=e,!(Z&6)&&Br()}}function Uh(){it=Wn.current,ae(Wn)}function vn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L1(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(Rh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bc();break;case 3:ii(),ae(et),ae(Ve),Oh();break;case 5:kh(n);break;case 4:ii();break;case 13:ae(ue);break;case 19:ae(ue);break;case 10:Ih(n.type._context);break;case 22:case 23:Uh()}r=r.return}if(we=t,me=t=Dr(t.current,null),ke=it=e,Pe=0,ra=null,Fh=cu=Cn=0,Ye=xs=null,dn!==null){for(e=0;e<dn.length;e++)if(r=dn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}dn=null}return t}function sP(t,e){do{var r=me;try{if(Th(),ac.current=jc,zc){for(var n=le.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zc=!1}if(Sn=0,Re=Ce=le=null,Ds=!1,Zs=0,jh.current=null,r===null||r.return===null){Pe=1,ra=e,me=null;break}e:{var o=t,a=r.return,s=r,c=e;if(e=ke,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,l=s,p=l.tag;if(!(l.mode&1)&&(p===0||p===11||p===15)){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var h=Av(a);if(h!==null){h.flags&=-257,_v(h,a,s,o,e),h.mode&1&&Iv(o,u,e),e=h,c=u;var f=e.updateQueue;if(f===null){var g=new Set;g.add(c),e.updateQueue=g}else f.add(c);break e}else{if(!(e&1)){Iv(o,u,e),qh();break e}c=Error(_(426))}}else if(ce&&s.mode&1){var y=Av(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_v(y,a,s,o,e),wh(oi(c,s));break e}}o=c=oi(c,s),Pe!==4&&(Pe=2),xs===null?xs=[o]:xs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=qC(o,c,e);Sv(o,v);break e;case 1:s=c;var m=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Or===null||!Or.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=VC(o,s,e);Sv(o,C);break e}}o=o.return}while(o!==null)}uP(r)}catch(R){e=R,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function aP(){var t=Fc.current;return Fc.current=jc,t===null?jc:t}function qh(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),we===null||!(Cn&268435455)&&!(cu&268435455)||Rr(we,ke)}function Uc(t,e){var r=Z;Z|=2;var n=aP();(we!==t||ke!==e)&&(Xt=null,vn(t,e));do try{aT();break}catch(i){sP(t,i)}while(!0);if(Th(),Z=r,Fc.current=n,me!==null)throw Error(_(261));return we=null,ke=0,Pe}function aT(){for(;me!==null;)cP(me)}function cT(){for(;me!==null&&!D0();)cP(me)}function cP(t){var e=pP(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?uP(t):me=e,jh.current=null}function uP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=tT(r,e),r!==null){r.flags&=32767,me=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,me=null;return}}else if(r=eT(r,e,it),r!==null){me=r;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);Pe===0&&(Pe=5)}function un(t,e,r){var n=ne,i=St.transition;try{St.transition=null,ne=1,uT(t,e,r,n)}finally{St.transition=i,ne=n}return null}function uT(t,e,r,n){do Zn();while(Er!==null);if(Z&6)throw Error(_(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(q0(t,o),t===we&&(me=we=null,ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ha||(Ha=!0,dP(wc,function(){return Zn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=St.transition,St.transition=null;var a=ne;ne=1;var s=Z;Z|=4,jh.current=null,nT(t,r),nP(r,t),b1(ad),Tc=!!sd,ad=sd=null,t.current=r,iT(r),N0(),Z=s,ne=a,St.transition=o}else t.current=r;if(Ha&&(Ha=!1,Er=t,$c=i),o=t.pendingLanes,o===0&&(Or=null),z0(r.stateNode),rt(t,ve()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bc)throw Bc=!1,t=Ad,Ad=null,t;return $c&1&&t.tag!==0&&Zn(),o=t.pendingLanes,o&1?t===_d?Ls++:(Ls=0,_d=t):Ls=0,Br(),null}function Zn(){if(Er!==null){var t=US($c),e=St.transition,r=ne;try{if(St.transition=null,ne=16>t?16:t,Er===null)var n=!1;else{if(t=Er,Er=null,$c=0,Z&6)throw Error(_(331));var i=Z;for(Z|=4,k=t.current;k!==null;){var o=k,a=o.child;if(k.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(k=u;k!==null;){var l=k;switch(l.tag){case 0:case 11:case 15:Ns(8,l,o)}var p=l.child;if(p!==null)p.return=l,k=p;else for(;k!==null;){l=k;var d=l.sibling,h=l.return;if(eP(l),l===u){k=null;break}if(d!==null){d.return=h,k=d;break}k=h}}}var f=o.alternate;if(f!==null){var g=f.child;if(g!==null){f.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}k=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,k=a;else e:for(;k!==null;){if(o=k,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ns(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,k=v;break e}k=o.return}}var m=t.current;for(k=m;k!==null;){a=k;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,k=S;else e:for(a=m;k!==null;){if(s=k,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:au(9,s)}}catch(R){he(s,s.return,R)}if(s===a){k=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,k=C;break e}k=s.return}}if(Z=i,Br(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Zc,t)}catch{}n=!0}return n}finally{ne=r,St.transition=e}}return!1}function $v(t,e,r){e=oi(r,e),e=qC(t,e,1),t=kr(t,e,1),e=Je(),t!==null&&(pa(t,1,e),rt(t,e))}function he(t,e,r){if(t.tag===3)$v(t,t,r);else for(;e!==null;){if(e.tag===3){$v(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Or===null||!Or.has(n))){t=oi(r,t),t=VC(e,t,1),e=kr(e,t,1),t=Je(),e!==null&&(pa(e,1,t),rt(e,t));break}}e=e.return}}function lT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&r,we===t&&(ke&r)===r&&(Pe===4||Pe===3&&(ke&130023424)===ke&&500>ve()-Bh?vn(t,0):Fh|=r),rt(t,e)}function lP(t,e){e===0&&(t.mode&1?(e=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):e=1);var r=Je();t=ar(t,e),t!==null&&(pa(t,e,r),rt(t,r))}function pT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),lP(t,r)}function dT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(_(314))}n!==null&&n.delete(e),lP(t,r)}var pP;pP=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Ze=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ze=!1,Z1(t,e,r);Ze=!!(t.flags&131072)}else Ze=!1,ce&&e.flags&1048576&&fC(e,Mc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;uc(t,e),t=e.pendingProps;var i=ti(e,Ve.current);Yn(e,r),i=Dh(null,e,n,t,i,r);var o=Nh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(n)?(o=!0,kc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_h(e),i.updater=ou,e.stateNode=i,i._reactInternals=e,gd(e,n,t,r),e=Sd(null,e,n,!0,o,r)):(e.tag=0,ce&&o&&Ph(e),Ke(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=fT(n),t=It(n,t),i){case 0:e=yd(null,e,n,t,r);break e;case 1:e=Ov(null,e,n,t,r);break e;case 11:e=bv(null,e,n,t,r);break e;case 14:e=kv(null,e,n,It(n.type,t),r);break e}throw Error(_(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),yd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),Ov(t,e,n,i,r);case 3:e:{if(JC(e),t===null)throw Error(_(387));n=e.pendingProps,o=e.memoizedState,i=o.element,yC(t,e),xc(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=oi(Error(_(423)),e),e=Mv(t,e,n,r,i);break e}else if(n!==i){i=oi(Error(_(424)),e),e=Mv(t,e,n,r,i);break e}else for(st=br(e.stateNode.containerInfo.firstChild),at=e,ce=!0,_t=null,r=RC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ri(),n===i){e=cr(t,e,r);break e}Ke(t,e,n,r)}e=e.child}return e;case 5:return wC(e),t===null&&hd(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,cd(n,i)?a=null:o!==null&&cd(n,o)&&(e.flags|=32),KC(t,e),Ke(t,e,a,r),e.child;case 6:return t===null&&hd(e),null;case 13:return GC(t,e,r);case 4:return bh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ni(e,null,n,r):Ke(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),bv(t,e,n,i,r);case 7:return Ke(t,e,e.pendingProps,r),e.child;case 8:return Ke(t,e,e.pendingProps.children,r),e.child;case 12:return Ke(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,ie(Dc,n._currentValue),n._currentValue=a,o!==null)if(Ot(o.value,a)){if(o.children===i.children&&!et.current){e=cr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=rr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?c.next=c:(c.next=l.next,l.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),fd(o.return,r,e),s.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(_(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),fd(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ke(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Yn(e,r),i=Pt(i),n=n(i),e.flags|=1,Ke(t,e,n,r),e.child;case 14:return n=e.type,i=It(n,e.pendingProps),i=It(n.type,i),kv(t,e,n,i,r);case 15:return HC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:It(n,i),uc(t,e),e.tag=1,tt(n)?(t=!0,kc(e)):t=!1,Yn(e,r),CC(e,n,i),gd(e,n,i,r),Sd(null,e,n,!0,t,r);case 19:return QC(t,e,r);case 22:return WC(t,e,r)}throw Error(_(156,e.tag))};function dP(t,e){return jS(t,e)}function hT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,r,n){return new hT(t,e,r,n)}function Vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fT(t){if(typeof t=="function")return Vh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uh)return 11;if(t===lh)return 14}return 2}function Dr(t,e){var r=t.alternate;return r===null?(r=yt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function dc(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")Vh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ln:return gn(r.children,i,o,e);case ch:a=8,i|=8;break;case Bp:return t=yt(12,r,e,i|2),t.elementType=Bp,t.lanes=o,t;case $p:return t=yt(13,r,e,i),t.elementType=$p,t.lanes=o,t;case Up:return t=yt(19,r,e,i),t.elementType=Up,t.lanes=o,t;case PS:return uu(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SS:a=10;break e;case CS:a=9;break e;case uh:a=11;break e;case lh:a=14;break e;case mr:a=16,n=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=yt(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function gn(t,e,r,n){return t=yt(7,t,n,e),t.lanes=r,t}function uu(t,e,r,n){return t=yt(22,t,n,e),t.elementType=PS,t.lanes=r,t.stateNode={isHidden:!1},t}function ap(t,e,r){return t=yt(6,t,null,e),t.lanes=r,t}function cp(t,e,r){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vT(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hh(t,e,r,n,i,o,a,s,c){return t=new vT(t,e,r,s,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=yt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(o),t}function gT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function hP(t){if(!t)return Lr;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var r=t.type;if(tt(r))return dC(t,r,e)}return e}function fP(t,e,r,n,i,o,a,s,c){return t=Hh(r,n,!0,t,i,o,a,s,c),t.context=hP(null),r=t.current,n=Je(),i=Mr(r),o=rr(n,i),o.callback=e??null,kr(r,o,i),t.current.lanes=i,pa(t,i,n),rt(t,n),t}function lu(t,e,r,n){var i=e.current,o=Je(),a=Mr(i);return r=hP(r),e.context===null?e.context=r:e.pendingContext=r,e=rr(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=kr(i,e,a),t!==null&&(kt(t,i,a,o),sc(t,i,a)),a}function qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Wh(t,e){Uv(t,e),(t=t.alternate)&&Uv(t,e)}function mT(){return null}var vP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kh(t){this._internalRoot=t}pu.prototype.render=Kh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));lu(t,e,null,null)};pu.prototype.unmount=Kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pn(function(){lu(null,t,null,null)}),e[sr]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var e=HS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pr.length&&e!==0&&e<Pr[r].priority;r++);Pr.splice(r,0,t),r===0&&KS(t)}};function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qv(){}function yT(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=qc(a);o.call(u)}}var a=fP(e,n,t,0,null,!1,!1,"",qv);return t._reactRootContainer=a,t[sr]=a.current,Js(t.nodeType===8?t.parentNode:t),Pn(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=qc(c);s.call(u)}}var c=Hh(t,0,!1,null,null,!1,!1,"",qv);return t._reactRootContainer=c,t[sr]=c.current,Js(t.nodeType===8?t.parentNode:t),Pn(function(){lu(e,c,r,n)}),c}function hu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=qc(a);s.call(c)}}lu(e,a,t,i)}else a=yT(r,e,t,i,n);return qc(a)}qS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ws(e.pendingLanes);r!==0&&(hh(e,r|1),rt(e,ve()),!(Z&6)&&(si=ve()+500,Br()))}break;case 13:Pn(function(){var n=ar(t,1);if(n!==null){var i=Je();kt(n,t,1,i)}}),Wh(t,1)}};fh=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var r=Je();kt(e,t,134217728,r)}Wh(t,134217728)}};VS=function(t){if(t.tag===13){var e=Mr(t),r=ar(t,e);if(r!==null){var n=Je();kt(r,t,e,n)}Wh(t,e)}};HS=function(){return ne};WS=function(t,e){var r=ne;try{return ne=t,e()}finally{ne=r}};Yp=function(t,e,r){switch(e){case"input":if(Hp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=nu(n);if(!i)throw Error(_(90));wS(n),Hp(n,i)}}}break;case"textarea":TS(t,r);break;case"select":e=r.value,e!=null&&Jn(t,!!r.multiple,e,!1)}};MS=$h;DS=Pn;var ST={usingClientEntryPoint:!1,Events:[ha,Bn,nu,kS,OS,$h]},bi={findFiberByHostInstance:pn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CT={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LS(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||mT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{Zc=Wa.inject(CT),$t=Wa}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ST;ut.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(e))throw Error(_(200));return gT(t,e,null,r)};ut.createRoot=function(t,e){if(!Jh(t))throw Error(_(299));var r=!1,n="",i=vP;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hh(t,1,!1,null,null,r,!1,n,i),t[sr]=e.current,Js(t.nodeType===8?t.parentNode:t),new Kh(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=LS(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return Pn(t)};ut.hydrate=function(t,e,r){if(!du(e))throw Error(_(200));return hu(null,t,e,!0,r)};ut.hydrateRoot=function(t,e,r){if(!Jh(t))throw Error(_(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=vP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=fP(e,null,t,1,r??null,i,!1,o,a),t[sr]=e.current,Js(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new pu(e)};ut.render=function(t,e,r){if(!du(e))throw Error(_(200));return hu(null,t,e,!1,r)};ut.unmountComponentAtNode=function(t){if(!du(t))throw Error(_(40));return t._reactRootContainer?(Pn(function(){hu(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};ut.unstable_batchedUpdates=$h;ut.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!du(r))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return hu(t,e,r,!1,n)};ut.version="18.2.0-next-9e3b772b8-20220608";function gP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gP)}catch(t){console.error(t)}}gP(),fS.exports=ut;var va=fS.exports;const PT=nS(va);var Vv=va;jp.createRoot=Vv.createRoot,jp.hydrateRoot=Vv.hydrateRoot;const RT={theme:"system",setTheme:()=>null},wT=P.createContext(RT);function ET({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,o]=P.useState(()=>localStorage.getItem(r)||e);P.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(c);return}s.classList.add(i)},[i]);const a={theme:i,setTheme:s=>{localStorage.setItem(r,s),o(s)}};return H.jsx(wT.Provider,{...n,value:a,children:t})}const Gh=P.createContext({displayToast:{},navigateTo:{}});var ft=(t=>(t[t.Home=0]="Home",t[t.Login=1]="Login",t[t.Speech=2]="Speech",t))(ft||{});function TT(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var IT=["color"],AT=P.forwardRef(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,i=TT(t,IT);return P.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),P.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});function Ee(){return Ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ee.apply(this,arguments)}function ot(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _T(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function mP(...t){return e=>t.forEach(r=>_T(r,e))}function Rn(...t){return P.useCallback(mP(...t),t)}function yP(t,e=[]){let r=[];function n(o,a){const s=P.createContext(a),c=r.length;r=[...r,a];function u(p){const{scope:d,children:h,...f}=p,g=(d==null?void 0:d[t][c])||s,y=P.useMemo(()=>f,Object.values(f));return P.createElement(g.Provider,{value:y},h)}function l(p,d){const h=(d==null?void 0:d[t][c])||s,f=P.useContext(h);if(f)return f;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,l]}const i=()=>{const o=r.map(a=>P.createContext(a));return function(s){const c=(s==null?void 0:s[t])||o;return P.useMemo(()=>({[`__scope${t}`]:{...s,[t]:c}}),[s,c])}};return i.scopeName=t,[n,bT(i,...e)]}function bT(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=n.reduce((s,{useScope:c,scopeName:u})=>{const p=c(o)[`__scope${u}`];return{...s,...p}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}const na=P.forwardRef((t,e)=>{const{children:r,...n}=t,i=P.Children.toArray(r),o=i.find(OT);if(o){const a=o.props.children,s=i.map(c=>c===o?P.Children.count(a)>1?P.Children.only(null):P.isValidElement(a)?a.props.children:null:c);return P.createElement(Od,Ee({},n,{ref:e}),P.isValidElement(a)?P.cloneElement(a,void 0,s):null)}return P.createElement(Od,Ee({},n,{ref:e}),r)});na.displayName="Slot";const Od=P.forwardRef((t,e)=>{const{children:r,...n}=t;return P.isValidElement(r)?P.cloneElement(r,{...MT(n,r.props),ref:e?mP(e,r.ref):r.ref}):P.Children.count(r)>1?P.Children.only(null):null});Od.displayName="SlotClone";const kT=({children:t})=>P.createElement(P.Fragment,null,t);function OT(t){return P.isValidElement(t)&&t.type===kT}function MT(t,e){const r={...e};for(const n in e){const i=t[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...s)=>{o(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...t,...r}}function DT(t){const e=t+"CollectionProvider",[r,n]=yP(e),[i,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:f,children:g}=h,y=ht.useRef(null),v=ht.useRef(new Map).current;return ht.createElement(i,{scope:f,itemMap:v,collectionRef:y},g)},s=t+"CollectionSlot",c=ht.forwardRef((h,f)=>{const{scope:g,children:y}=h,v=o(s,g),m=Rn(f,v.collectionRef);return ht.createElement(na,{ref:m},y)}),u=t+"CollectionItemSlot",l="data-radix-collection-item",p=ht.forwardRef((h,f)=>{const{scope:g,children:y,...v}=h,m=ht.useRef(null),S=Rn(f,m),C=o(u,g);return ht.useEffect(()=>(C.itemMap.set(m,{ref:m,...v}),()=>void C.itemMap.delete(m))),ht.createElement(na,{[l]:"",ref:S},y)});function d(h){const f=o(t+"CollectionConsumer",h);return ht.useCallback(()=>{const y=f.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${l}]`));return Array.from(f.itemMap.values()).sort((C,R)=>v.indexOf(C.ref.current)-v.indexOf(R.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},d,n]}const NT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qt=NT.reduce((t,e)=>{const r=P.forwardRef((n,i)=>{const{asChild:o,...a}=n,s=o?na:e;return P.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),P.createElement(s,Ee({},a,{ref:i}))});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SP(t,e){t&&va.flushSync(()=>t.dispatchEvent(e))}function ur(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...r)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...r)},[])}function xT(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t);P.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)},[r,e])}const Md="dismissableLayer.update",LT="dismissableLayer.pointerDownOutside",zT="dismissableLayer.focusOutside";let Hv;const CP=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jT=P.forwardRef((t,e)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:c,...u}=t,l=P.useContext(CP),[p,d]=P.useState(null),h=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,f]=P.useState({}),g=Rn(e,E=>d(E)),y=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),m=y.indexOf(v),S=p?y.indexOf(p):-1,C=l.layersWithOutsidePointerEventsDisabled.size>0,R=S>=m,w=BT(E=>{const x=E.target,N=[...l.branches].some(U=>U.contains(x));!R||N||(o==null||o(E),s==null||s(E),E.defaultPrevented||c==null||c())},h),T=$T(E=>{const x=E.target;[...l.branches].some(U=>U.contains(x))||(a==null||a(E),s==null||s(E),E.defaultPrevented||c==null||c())},h);return xT(E=>{S===l.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},h),P.useEffect(()=>{if(p)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Hv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(p)),l.layers.add(p),Wv(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Hv)}},[p,h,n,l]),P.useEffect(()=>()=>{p&&(l.layers.delete(p),l.layersWithOutsidePointerEventsDisabled.delete(p),Wv())},[p,l]),P.useEffect(()=>{const E=()=>f({});return document.addEventListener(Md,E),()=>document.removeEventListener(Md,E)},[]),P.createElement(qt.div,Ee({},u,{ref:g,style:{pointerEvents:C?R?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,T.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,w.onPointerDownCapture)}))}),FT=P.forwardRef((t,e)=>{const r=P.useContext(CP),n=P.useRef(null),i=Rn(e,n);return P.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),P.createElement(qt.div,Ee({},t,{ref:i}))});function BT(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const o=s=>{if(s.target&&!n.current){let l=function(){PP(LT,r,u,{discrete:!0})};var c=l;const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function $T(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=P.useRef(!1);return P.useEffect(()=>{const i=o=>{o.target&&!n.current&&PP(zT,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Wv(){const t=new CustomEvent(Md);document.dispatchEvent(t)}function PP(t,e,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SP(i,o):i.dispatchEvent(o)}const UT=jT,qT=FT,VT=P.forwardRef((t,e)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...i}=t;return n?PT.createPortal(P.createElement(qt.div,Ee({},i,{ref:e})),n):null}),Dd=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{};function HT(t,e){return P.useReducer((r,n)=>{const i=e[r][n];return i??r},t)}const RP=t=>{const{present:e,children:r}=t,n=WT(e),i=typeof r=="function"?r({present:n.isPresent}):P.Children.only(r),o=Rn(n.ref,i.ref);return typeof r=="function"||n.isPresent?P.cloneElement(i,{ref:o}):null};RP.displayName="Presence";function WT(t){const[e,r]=P.useState(),n=P.useRef({}),i=P.useRef(t),o=P.useRef("none"),a=t?"mounted":"unmounted",[s,c]=HT(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=Ka(n.current);o.current=s==="mounted"?u:"none"},[s]),Dd(()=>{const u=n.current,l=i.current;if(l!==t){const d=o.current,h=Ka(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(l&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Dd(()=>{if(e){const u=p=>{const h=Ka(n.current).includes(p.animationName);p.target===e&&h&&va.flushSync(()=>c("ANIMATION_END"))},l=p=>{p.target===e&&(o.current=Ka(n.current))};return e.addEventListener("animationstart",l),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",l),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:P.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ka(t){return(t==null?void 0:t.animationName)||"none"}function KT({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=JT({defaultProp:e,onChange:r}),o=t!==void 0,a=o?t:n,s=ur(r),c=P.useCallback(u=>{if(o){const p=typeof u=="function"?u(t):u;p!==t&&s(p)}else i(u)},[o,t,i,s]);return[a,c]}function JT({defaultProp:t,onChange:e}){const r=P.useState(t),[n]=r,i=P.useRef(n),o=ur(e);return P.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}const wP=P.forwardRef((t,e)=>P.createElement(qt.span,Ee({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),EP="ToastProvider",[Qh,GT,QT]=DT("Toast"),[TP,_x]=yP("Toast",[QT]),[XT,fu]=TP(EP),IP=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,c]=P.useState(null),[u,l]=P.useState(0),p=P.useRef(!1),d=P.useRef(!1);return P.createElement(Qh.Provider,{scope:e},P.createElement(XT,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:s,onViewportChange:c,onToastAdd:P.useCallback(()=>l(h=>h+1),[]),onToastRemove:P.useCallback(()=>l(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:d},a))};IP.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const e=`Invalid prop \`label\` supplied to \`${EP}\`. Expected non-empty \`string\`.`;return new Error(e)}return null}};const YT="ToastViewport",ZT=["F8"],Nd="toast.viewportPause",xd="toast.viewportResume",eI=P.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=ZT,label:i="Notifications ({hotkey})",...o}=t,a=fu(YT,r),s=GT(r),c=P.useRef(null),u=P.useRef(null),l=P.useRef(null),p=P.useRef(null),d=Rn(e,p,a.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=a.toastCount>0;P.useEffect(()=>{const y=v=>{var m;n.every(C=>v[C]||v.code===C)&&((m=p.current)===null||m===void 0||m.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),P.useEffect(()=>{const y=c.current,v=p.current;if(f&&y&&v){const m=()=>{if(!a.isClosePausedRef.current){const w=new CustomEvent(Nd);v.dispatchEvent(w),a.isClosePausedRef.current=!0}},S=()=>{if(a.isClosePausedRef.current){const w=new CustomEvent(xd);v.dispatchEvent(w),a.isClosePausedRef.current=!1}},C=w=>{!y.contains(w.relatedTarget)&&S()},R=()=>{y.contains(document.activeElement)||S()};return y.addEventListener("focusin",m),y.addEventListener("focusout",C),y.addEventListener("pointermove",m),y.addEventListener("pointerleave",R),window.addEventListener("blur",m),window.addEventListener("focus",S),()=>{y.removeEventListener("focusin",m),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",m),y.removeEventListener("pointerleave",R),window.removeEventListener("blur",m),window.removeEventListener("focus",S)}}},[f,a.isClosePausedRef]);const g=P.useCallback(({tabbingDirection:y})=>{const m=s().map(S=>{const C=S.ref.current,R=[C,...gI(C)];return y==="forwards"?R:R.reverse()});return(y==="forwards"?m.reverse():m).flat()},[s]);return P.useEffect(()=>{const y=p.current;if(y){const v=m=>{const S=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!S){const E=document.activeElement,x=m.shiftKey;if(m.target===y&&x){var R;(R=u.current)===null||R===void 0||R.focus();return}const j=g({tabbingDirection:x?"backwards":"forwards"}),Y=j.findIndex(O=>O===E);if(up(j.slice(Y+1)))m.preventDefault();else{var w,T;x?(w=u.current)===null||w===void 0||w.focus():(T=l.current)===null||T===void 0||T.focus()}}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[s,g]),P.createElement(qT,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:f?void 0:"none"}},f&&P.createElement(Kv,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});up(y)}}),P.createElement(Qh.Slot,{scope:r},P.createElement(qt.ol,Ee({tabIndex:-1},o,{ref:d}))),f&&P.createElement(Kv,{ref:l,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});up(y)}}))}),tI="ToastFocusProxy",Kv=P.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,o=fu(tI,r);return P.createElement(wP,Ee({"aria-hidden":!0,tabIndex:0},i,{ref:e,style:{position:"fixed"},onFocus:a=>{var s;const c=a.relatedTarget;!((s=o.viewport)!==null&&s!==void 0&&s.contains(c))&&n()}}))}),vu="Toast",rI="toast.swipeStart",nI="toast.swipeMove",iI="toast.swipeCancel",oI="toast.swipeEnd",sI=P.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...a}=t,[s=!0,c]=KT({prop:n,defaultProp:i,onChange:o});return P.createElement(RP,{present:r||s},P.createElement(AP,Ee({open:s},a,{ref:e,onClose:()=>c(!1),onPause:ur(t.onPause),onResume:ur(t.onResume),onSwipeStart:ot(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ot(t.onSwipeMove,u=>{const{x:l,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${l}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ot(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ot(t.onSwipeEnd,u=>{const{x:l,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${l}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})))}),[aI,cI]=TP(vu,{onClose(){}}),AP=P.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:c,onResume:u,onSwipeStart:l,onSwipeMove:p,onSwipeCancel:d,onSwipeEnd:h,...f}=t,g=fu(vu,r),[y,v]=P.useState(null),m=Rn(e,O=>v(O)),S=P.useRef(null),C=P.useRef(null),R=i||g.duration,w=P.useRef(0),T=P.useRef(R),E=P.useRef(0),{onToastAdd:x,onToastRemove:N}=g,U=ur(()=>{var O;(y==null?void 0:y.contains(document.activeElement))&&((O=g.viewport)===null||O===void 0||O.focus()),a()}),j=P.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),w.current=new Date().getTime(),E.current=window.setTimeout(U,O))},[U]);P.useEffect(()=>{const O=g.viewport;if(O){const ee=()=>{j(T.current),u==null||u()},te=()=>{const Se=new Date().getTime()-w.current;T.current=T.current-Se,window.clearTimeout(E.current),c==null||c()};return O.addEventListener(Nd,te),O.addEventListener(xd,ee),()=>{O.removeEventListener(Nd,te),O.removeEventListener(xd,ee)}}},[g.viewport,R,c,u,j]),P.useEffect(()=>{o&&!g.isClosePausedRef.current&&j(R)},[o,R,g.isClosePausedRef,j]),P.useEffect(()=>(x(),()=>N()),[x,N]);const Y=P.useMemo(()=>y?OP(y):null,[y]);return g.viewport?P.createElement(P.Fragment,null,Y&&P.createElement(uI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},Y),P.createElement(aI,{scope:r,onClose:U},va.createPortal(P.createElement(Qh.ItemSlot,{scope:r},P.createElement(UT,{asChild:!0,onEscapeKeyDown:ot(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||U(),g.isFocusedToastEscapeKeyDownRef.current=!1})},P.createElement(qt.li,Ee({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},f,{ref:m,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ot(t.onKeyDown,O=>{O.key==="Escape"&&(s==null||s(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:ot(t.onPointerDown,O=>{O.button===0&&(S.current={x:O.clientX,y:O.clientY})}),onPointerMove:ot(t.onPointerMove,O=>{if(!S.current)return;const ee=O.clientX-S.current.x,te=O.clientY-S.current.y,Se=!!C.current,b=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=b?D(0,ee):0,Q=b?0:D(0,te),re=O.pointerType==="touch"?10:2,Et={x:z,y:Q},pt={originalEvent:O,delta:Et};Se?(C.current=Et,Ja(nI,p,pt,{discrete:!1})):Jv(Et,g.swipeDirection,re)?(C.current=Et,Ja(rI,l,pt,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(ee)>re||Math.abs(te)>re)&&(S.current=null)}),onPointerUp:ot(t.onPointerUp,O=>{const ee=C.current,te=O.target;if(te.hasPointerCapture(O.pointerId)&&te.releasePointerCapture(O.pointerId),C.current=null,S.current=null,ee){const Se=O.currentTarget,b={originalEvent:O,delta:ee};Jv(ee,g.swipeDirection,g.swipeThreshold)?Ja(oI,h,b,{discrete:!0}):Ja(iI,d,b,{discrete:!0}),Se.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})))),g.viewport))):null});AP.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const e=`Invalid prop \`type\` supplied to \`${vu}\`. Expected \`foreground | background\`.`;return new Error(e)}return null}};const uI=t=>{const{__scopeToast:e,children:r,...n}=t,i=fu(vu,e),[o,a]=P.useState(!1),[s,c]=P.useState(!1);return fI(()=>a(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:P.createElement(VT,{asChild:!0},P.createElement(wP,n,o&&P.createElement(P.Fragment,null,i.label," ",r)))},lI=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return P.createElement(qt.div,Ee({},n,{ref:e}))}),pI=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return P.createElement(qt.div,Ee({},n,{ref:e}))}),dI="ToastAction",_P=P.forwardRef((t,e)=>{const{altText:r,...n}=t;return r?P.createElement(kP,{altText:r,asChild:!0},P.createElement(bP,Ee({},n,{ref:e}))):null});_P.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${dI}\``)}};const hI="ToastClose",bP=P.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=cI(hI,r);return P.createElement(kP,{asChild:!0},P.createElement(qt.button,Ee({type:"button"},n,{ref:e,onClick:ot(t.onClick,i.onClose)})))}),kP=P.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return P.createElement(qt.div,Ee({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},i,{ref:e}))});function OP(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),vI(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...OP(n))}}),e}function Ja(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SP(i,o):i.dispatchEvent(o)}const Jv=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),o=n>i;return e==="left"||e==="right"?o&&n>r:!o&&i>r};function fI(t=()=>{}){const e=ur(t);Dd(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function vI(t){return t.nodeType===t.ELEMENT_NODE}function gI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function up(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}const mI=IP,MP=eI,DP=sI,NP=lI,xP=pI,LP=_P,zP=bP;function jP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jP(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function yI(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jP(t))&&(n&&(n+=" "),n+=e);return n}const Gv=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Qv=yI,FP=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Qv(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(u=>{const l=r==null?void 0:r[u],p=o==null?void 0:o[u];if(l===null)return null;const d=Gv(l)||Gv(p);return i[u][d]}),s=r&&Object.entries(r).reduce((u,l)=>{let[p,d]=l;return d===void 0||(u[p]=d),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,l)=>{let{class:p,className:d,...h}=l;return Object.entries(h).every(f=>{let[g,y]=f;return Array.isArray(y)?y.includes({...o,...s}[g]):{...o,...s}[g]===y})?[...u,p,d]:u},[]);return Qv(t,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};function BP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=BP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function SI(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=BP(t))&&(n&&(n+=" "),n+=e);return n}const Xh="-";function CI(t){const e=RI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function i(a){const s=a.split(Xh);return s[0]===""&&s.length!==1&&s.shift(),$P(s,e)||PI(a)}function o(a,s){const c=r[a]||[];return s&&n[a]?[...c,...n[a]]:c}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function $P(t,e){var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?$P(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Xh);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId}const Xv=/^\[(.+)\]$/;function PI(t){if(Xv.test(t)){const e=Xv.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function RI(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return EI(Object.entries(t.classGroups),r).forEach(([o,a])=>{Ld(a,n,o,e)}),n}function Ld(t,e,r,n){t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Yv(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(wI(i)){Ld(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,a])=>{Ld(a,Yv(e,o),r,n)})})}function Yv(t,e){let r=t;return e.split(Xh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function wI(t){return t.isThemeGetter}function EI(t,e){return e?t.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[r,i]}):t}function TI(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function i(o,a){r.set(o,a),e++,e>t&&(e=0,n=r,r=new Map)}return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return i(o,a),a},set(o,a){r.has(o)?r.set(o,a):i(o,a)}}}const UP="!";function II(t){const e=t.separator,r=e.length===1,n=e[0],i=e.length;return function(a){const s=[];let c=0,u=0,l;for(let g=0;g<a.length;g++){let y=a[g];if(c===0){if(y===n&&(r||a.slice(g,g+i)===e)){s.push(a.slice(u,g)),u=g+i;continue}if(y==="/"){l=g;continue}}y==="["?c++:y==="]"&&c--}const p=s.length===0?a:a.substring(u),d=p.startsWith(UP),h=d?p.substring(1):p,f=l&&l>u?l-u:void 0;return{modifiers:s,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}}}function AI(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function _I(t){return{cache:TI(t.cacheSize),splitModifiers:II(t),...CI(t)}}const bI=/\s+/;function kI(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,o=new Set;return t.trim().split(bI).map(a=>{const{modifiers:s,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:l}=r(a);let p=n(l?u.substring(0,l):u),d=!!l;if(!p){if(!l)return{isTailwindClass:!1,originalClassName:a};if(p=n(u),!p)return{isTailwindClass:!1,originalClassName:a};d=!1}const h=AI(s).join(":");return{isTailwindClass:!0,modifierId:c?h+UP:h,classGroupId:p,originalClassName:a,hasPostfixModifier:d}}).reverse().filter(a=>{if(!a.isTailwindClass)return!0;const{modifierId:s,classGroupId:c,hasPostfixModifier:u}=a,l=s+c;return o.has(l)?!1:(o.add(l),i(c,u).forEach(p=>o.add(s+p)),!0)}).reverse().map(a=>a.originalClassName).join(" ")}function OI(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=qP(e))&&(n&&(n+=" "),n+=r);return n}function qP(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=qP(t[n]))&&(r&&(r+=" "),r+=e);return r}function MI(t,...e){let r,n,i,o=a;function a(c){const u=e.reduce((l,p)=>p(l),t());return r=_I(u),n=r.cache.get,i=r.cache.set,o=s,s(c)}function s(c){const u=n(c);if(u)return u;const l=kI(c,r);return i(c,l),l}return function(){return o(OI.apply(null,arguments))}}function oe(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const VP=/^\[(?:([a-z-]+):)?(.+)\]$/i,DI=/^\d+\/\d+$/,NI=new Set(["px","full","screen"]),xI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jI=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Wt(t){return fn(t)||NI.has(t)||DI.test(t)}function fr(t){return vi(t,"length",KI)}function fn(t){return!!t&&!Number.isNaN(Number(t))}function Ga(t){return vi(t,"number",fn)}function ki(t){return!!t&&Number.isInteger(Number(t))}function BI(t){return t.endsWith("%")&&fn(t.slice(0,-1))}function q(t){return VP.test(t)}function vr(t){return xI.test(t)}const $I=new Set(["length","size","percentage"]);function UI(t){return vi(t,$I,HP)}function qI(t){return vi(t,"position",HP)}const VI=new Set(["image","url"]);function HI(t){return vi(t,VI,GI)}function WI(t){return vi(t,"",JI)}function Oi(){return!0}function vi(t,e,r){const n=VP.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function KI(t){return LI.test(t)&&!zI.test(t)}function HP(){return!1}function JI(t){return jI.test(t)}function GI(t){return FI.test(t)}function QI(){const t=oe("colors"),e=oe("spacing"),r=oe("blur"),n=oe("brightness"),i=oe("borderColor"),o=oe("borderRadius"),a=oe("borderSpacing"),s=oe("borderWidth"),c=oe("contrast"),u=oe("grayscale"),l=oe("hueRotate"),p=oe("invert"),d=oe("gap"),h=oe("gradientColorStops"),f=oe("gradientColorStopPositions"),g=oe("inset"),y=oe("margin"),v=oe("opacity"),m=oe("padding"),S=oe("saturate"),C=oe("scale"),R=oe("sepia"),w=oe("skew"),T=oe("space"),E=oe("translate"),x=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",q,e],j=()=>[q,e],Y=()=>["",Wt,fr],O=()=>["auto",fn,q],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],b=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",q],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[fn,Ga],re=()=>[fn,q];return{cacheSize:500,separator:":",theme:{colors:[Oi],spacing:[Wt,fr],blur:["none","",vr,q],brightness:Q(),borderColor:[t],borderRadius:["none","","full",vr,q],borderSpacing:j(),borderWidth:Y(),contrast:Q(),grayscale:D(),hueRotate:re(),invert:D(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[BI,fr],inset:U(),margin:U(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:D(),skew:re(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[vr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),q]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ki,q]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",ki,q]}],"grid-cols":[{"grid-cols":[Oi]}],"col-start-end":[{col:["auto",{span:["full",ki,q]},q]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Oi]}],"row-start-end":[{row:["auto",{span:[ki,q]},q]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...b()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...b(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...b(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[vr]},vr]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",vr,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ga]}],"font-family":[{font:[Oi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",fn,Ga]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wt,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wt,fr]}],"underline-offset":[{"underline-offset":["auto",Wt,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),qI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Wt,q]}],"outline-w":[{outline:[Wt,fr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Wt,fr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",vr,WI]}],"shadow-color":[{shadow:[Oi]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":Se()}],"bg-blend":[{"bg-blend":Se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vr,q]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[ki,q]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wt,fr,Ga]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const XI=MI(QI);function $r(...t){return XI(SI(t))}const YI=mI,WP=P.forwardRef(({className:t,...e},r)=>H.jsx(MP,{ref:r,className:$r("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));WP.displayName=MP.displayName;const ZI=FP("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KP=P.forwardRef(({className:t,variant:e,...r},n)=>H.jsx(DP,{ref:n,className:$r(ZI({variant:e}),t),...r}));KP.displayName=DP.displayName;const eA=P.forwardRef(({className:t,...e},r)=>H.jsx(LP,{ref:r,className:$r("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));eA.displayName=LP.displayName;const JP=P.forwardRef(({className:t,...e},r)=>H.jsx(zP,{ref:r,className:$r("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:H.jsx(AT,{className:"h-4 w-4"})}));JP.displayName=zP.displayName;const GP=P.forwardRef(({className:t,...e},r)=>H.jsx(NP,{ref:r,className:$r("text-sm font-semibold [&+div]:text-xs",t),...e}));GP.displayName=NP.displayName;const QP=P.forwardRef(({className:t,...e},r)=>H.jsx(xP,{ref:r,className:$r("text-sm opacity-90",t),...e}));QP.displayName=xP.displayName;const tA=1,rA=1e6;let lp=0;function nA(){return lp=(lp+1)%Number.MAX_SAFE_INTEGER,lp.toString()}const pp=new Map,Zv=t=>{if(pp.has(t))return;const e=setTimeout(()=>{pp.delete(t),zs({type:"REMOVE_TOAST",toastId:t})},rA);pp.set(t,e)},iA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Zv(r):t.toasts.forEach(n=>{Zv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},hc=[];let fc={toasts:[]};function zs(t){fc=iA(fc,t),hc.forEach(e=>{e(fc)})}function oA({...t}){const e=nA(),r=i=>zs({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>zs({type:"DISMISS_TOAST",toastId:e});return zs({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function XP(){const[t,e]=P.useState(fc);return P.useEffect(()=>(hc.push(e),()=>{const r=hc.indexOf(e);r>-1&&hc.splice(r,1)}),[t]),{...t,toast:oA,dismiss:r=>zs({type:"DISMISS_TOAST",toastId:r})}}function sA(){const{toasts:t}=XP();return H.jsxs(YI,{children:[t.map(function({id:e,title:r,description:n,action:i,...o}){return H.jsxs(KP,{...o,children:[H.jsxs("div",{className:"grid gap-1",children:[r&&H.jsx(GP,{children:r}),n&&H.jsx(QP,{children:n})]}),i,H.jsx(JP,{})]},e)}),H.jsx(WP,{})]})}function aA(t={}){const{nonce:e,onScriptLoadSuccess:r,onScriptLoadError:n}=t,[i,o]=P.useState(!1),a=P.useRef(r);a.current=r;const s=P.useRef(n);return s.current=n,P.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=e,c.onload=()=>{var u;o(!0),(u=a.current)===null||u===void 0||u.call(a)},c.onerror=()=>{var u;o(!1),(u=s.current)===null||u===void 0||u.call(s)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[e]),i}const YP=P.createContext(null);function cA({clientId:t,nonce:e,onScriptLoadSuccess:r,onScriptLoadError:n,children:i}){const o=aA({nonce:e,onScriptLoadSuccess:r,onScriptLoadError:n}),a=P.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:o}),[t,o]);return ht.createElement(YP.Provider,{value:a},i)}function uA(){const t=P.useContext(YP);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function lA(t){var e;return(e=t==null?void 0:t.clientId)!==null&&e!==void 0?e:t==null?void 0:t.client_id}const pA={large:40,medium:32,small:20};function dA({onSuccess:t,onError:e,useOneTap:r,promptMomentNotification:n,type:i="standard",theme:o="outline",size:a="large",text:s,shape:c,logo_alignment:u,width:l,locale:p,click_listener:d,containerProps:h,...f}){const g=P.useRef(null),{clientId:y,scriptLoadedSuccessfully:v}=uA(),m=P.useRef(t);m.current=t;const S=P.useRef(e);S.current=e;const C=P.useRef(n);return C.current=n,P.useEffect(()=>{var R,w,T,E,x,N,U,j,Y;if(v)return(T=(w=(R=window==null?void 0:window.google)===null||R===void 0?void 0:R.accounts)===null||w===void 0?void 0:w.id)===null||T===void 0||T.initialize({client_id:y,callback:O=>{var ee;if(!(O!=null&&O.credential))return(ee=S.current)===null||ee===void 0?void 0:ee.call(S);const{credential:te,select_by:Se}=O;m.current({credential:te,clientId:lA(O),select_by:Se})},...f}),(N=(x=(E=window==null?void 0:window.google)===null||E===void 0?void 0:E.accounts)===null||x===void 0?void 0:x.id)===null||N===void 0||N.renderButton(g.current,{type:i,theme:o,size:a,text:s,shape:c,logo_alignment:u,width:l,locale:p,click_listener:d}),r&&((Y=(j=(U=window==null?void 0:window.google)===null||U===void 0?void 0:U.accounts)===null||j===void 0?void 0:j.id)===null||Y===void 0||Y.prompt(C.current)),()=>{var O,ee,te;r&&((te=(ee=(O=window==null?void 0:window.google)===null||O===void 0?void 0:O.accounts)===null||ee===void 0?void 0:ee.id)===null||te===void 0||te.cancel())}},[y,v,r,i,o,a,s,c,u,l,p]),ht.createElement("div",{...h,ref:g,style:{height:pA[a],...h==null?void 0:h.style}})}class Ts extends Error{}Ts.prototype.name="InvalidTokenError";function hA(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function fA(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return hA(e)}catch{return atob(e)}}function vA(t,e){if(typeof t!="string")throw new Ts("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Ts(`Invalid token specified: missing part #${r+1}`);let i;try{i=fA(n)}catch(o){throw new Ts(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Ts(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}/*! js-cookie v3.0.5 | MIT */function Qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var gA={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function zd(t,e){function r(i,o,a){if(!(typeof document>"u")){a=Qa({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,a[c]!==!0&&(s+="="+a[c].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+s}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],a={},s=0;s<o.length;s++){var c=o[s].split("="),u=c.slice(1).join("=");try{var l=decodeURIComponent(c[0]);if(a[l]=t.read(u,l),i===l)break}catch{}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,o){r(i,"",Qa({},o,{expires:-1}))},withAttributes:function(i){return zd(this.converter,Qa({},this.attributes,i))},withConverter:function(i){return zd(Qa({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var eg=zd(gA,{path:"/"});const Kn=class Kn{constructor(e){this.token=e}static fromCookie(e){const r=eg.get(`${Kn.cookiePrefix}${e}`);if(r)return new Kn(r)}get isExpired(){const e=this.expirationDate,r=new Date;return e?(e.setSeconds(e.getSeconds()-30),r>=e):!1}get expirationDate(){const e=vA(this.token);return new Date(e.exp*1e3)}storeInCookie(e){eg.set(`${Kn.cookiePrefix}${e}`,this.token,{secure:!0,expires:this.expirationDate,sameSite:"Strict"})}toString(){return this.token}};dr(Kn,"cookiePrefix","__Host-");let tr=Kn;function ZP(t,e){return function(){return t.apply(e,arguments)}}const{toString:mA}=Object.prototype,{getPrototypeOf:Yh}=Object,gu=(t=>e=>{const r=mA.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=t=>(t=t.toLowerCase(),e=>gu(e)===t),mu=t=>e=>typeof e===t,{isArray:gi}=Array,ia=mu("undefined");function yA(t){return t!==null&&!ia(t)&&t.constructor!==null&&!ia(t.constructor)&&Ct(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eR=Vt("ArrayBuffer");function SA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eR(t.buffer),e}const CA=mu("string"),Ct=mu("function"),tR=mu("number"),yu=t=>t!==null&&typeof t=="object",PA=t=>t===!0||t===!1,vc=t=>{if(gu(t)!=="object")return!1;const e=Yh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RA=Vt("Date"),wA=Vt("File"),EA=Vt("Blob"),TA=Vt("FileList"),IA=t=>yu(t)&&Ct(t.pipe),AA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ct(t.append)&&((e=gu(t))==="formdata"||e==="object"&&Ct(t.toString)&&t.toString()==="[object FormData]"))},_A=Vt("URLSearchParams"),bA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ga(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),gi(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(n=0;n<a;n++)s=o[n],e.call(null,t[s],s,t)}}function rR(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const nR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iR=t=>!ia(t)&&t!==nR;function jd(){const{caseless:t}=iR(this)&&this||{},e={},r=(n,i)=>{const o=t&&rR(e,i)||i;vc(e[o])&&vc(n)?e[o]=jd(e[o],n):vc(n)?e[o]=jd({},n):gi(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ga(arguments[n],r);return e}const kA=(t,e,r,{allOwnKeys:n}={})=>(ga(e,(i,o)=>{r&&Ct(i)?t[o]=ZP(i,r):t[o]=i},{allOwnKeys:n}),t),OA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MA=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},DA=(t,e,r,n)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!n||n(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=r!==!1&&Yh(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},NA=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},xA=t=>{if(!t)return null;if(gi(t))return t;let e=t.length;if(!tR(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},LA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yh(Uint8Array)),zA=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},jA=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},FA=Vt("HTMLFormElement"),BA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),tg=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),$A=Vt("RegExp"),oR=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ga(r,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(n[o]=a||i)}),Object.defineProperties(t,n)},UA=t=>{oR(t,(e,r)=>{if(Ct(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ct(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},qA=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return gi(t)?n(t):n(String(t).split(e)),r},VA=()=>{},HA=(t,e)=>(t=+t,Number.isFinite(t)?t:e),dp="abcdefghijklmnopqrstuvwxyz",rg="0123456789",sR={DIGIT:rg,ALPHA:dp,ALPHA_DIGIT:dp+dp.toUpperCase()+rg},WA=(t=16,e=sR.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function KA(t){return!!(t&&Ct(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const JA=t=>{const e=new Array(10),r=(n,i)=>{if(yu(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=gi(n)?[]:{};return ga(n,(a,s)=>{const c=r(a,i+1);!ia(c)&&(o[s]=c)}),e[i]=void 0,o}}return n};return r(t,0)},GA=Vt("AsyncFunction"),QA=t=>t&&(yu(t)||Ct(t))&&Ct(t.then)&&Ct(t.catch),I={isArray:gi,isArrayBuffer:eR,isBuffer:yA,isFormData:AA,isArrayBufferView:SA,isString:CA,isNumber:tR,isBoolean:PA,isObject:yu,isPlainObject:vc,isUndefined:ia,isDate:RA,isFile:wA,isBlob:EA,isRegExp:$A,isFunction:Ct,isStream:IA,isURLSearchParams:_A,isTypedArray:LA,isFileList:TA,forEach:ga,merge:jd,extend:kA,trim:bA,stripBOM:OA,inherits:MA,toFlatObject:DA,kindOf:gu,kindOfTest:Vt,endsWith:NA,toArray:xA,forEachEntry:zA,matchAll:jA,isHTMLForm:FA,hasOwnProperty:tg,hasOwnProp:tg,reduceDescriptors:oR,freezeMethods:UA,toObjectSet:qA,toCamelCase:BA,noop:VA,toFiniteNumber:HA,findKey:rR,global:nR,isContextDefined:iR,ALPHABET:sR,generateString:WA,isSpecCompliantForm:KA,toJSONObject:JA,isAsyncFn:GA,isThenable:QA};function X(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}I.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const aR=X.prototype,cR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cR[t]={value:t}});Object.defineProperties(X,cR);Object.defineProperty(aR,"isAxiosError",{value:!0});X.from=(t,e,r,n,i,o)=>{const a=Object.create(aR);return I.toFlatObject(t,a,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),X.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const XA=null;function Fd(t){return I.isPlainObject(t)||I.isArray(t)}function uR(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function ng(t,e,r){return t?t.concat(e).map(function(i,o){return i=uR(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function YA(t){return I.isArray(t)&&!t.some(Fd)}const ZA=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Su(t,e,r){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=I.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!I.isUndefined(y[g])});const n=r.metaTokens,i=r.visitor||l,o=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(I.isDate(f))return f.toISOString();if(!c&&I.isBlob(f))throw new X("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(f)||I.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,g,y){let v=f;if(f&&!y&&typeof f=="object"){if(I.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(I.isArray(f)&&YA(f)||(I.isFileList(f)||I.endsWith(g,"[]"))&&(v=I.toArray(f)))return g=uR(g),v.forEach(function(S,C){!(I.isUndefined(S)||S===null)&&e.append(a===!0?ng([g],C,o):a===null?g:g+"[]",u(S))}),!1}return Fd(f)?!0:(e.append(ng(y,g,o),u(f)),!1)}const p=[],d=Object.assign(ZA,{defaultVisitor:l,convertValue:u,isVisitable:Fd});function h(f,g){if(!I.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(f),I.forEach(f,function(v,m){(!(I.isUndefined(v)||v===null)&&i.call(e,v,I.isString(m)?m.trim():m,g,d))===!0&&h(v,g?g.concat(m):[m])}),p.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return h(t),e}function ig(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Zh(t,e){this._pairs=[],t&&Su(t,this,e)}const lR=Zh.prototype;lR.append=function(e,r){this._pairs.push([e,r])};lR.toString=function(e){const r=e?function(n){return e.call(this,n,ig)}:ig;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function e_(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pR(t,e,r){if(!e)return t;const n=r&&r.encode||e_,i=r&&r.serialize;let o;if(i?o=i(e,r):o=I.isURLSearchParams(e)?e.toString():new Zh(e,r).toString(n),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class og{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(n){n!==null&&e(n)})}}const dR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t_=typeof URLSearchParams<"u"?URLSearchParams:Zh,r_=typeof FormData<"u"?FormData:null,n_=typeof Blob<"u"?Blob:null,i_={isBrowser:!0,classes:{URLSearchParams:t_,FormData:r_,Blob:n_},protocols:["http","https","file","blob","url","data"]},hR=typeof window<"u"&&typeof document<"u",o_=(t=>hR&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),s_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hR,hasStandardBrowserEnv:o_,hasStandardBrowserWebWorkerEnv:s_},Symbol.toStringTag,{value:"Module"})),jt={...a_,...i_};function c_(t,e){return Su(t,new jt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return jt.isNode&&I.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function u_(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function l_(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function fR(t){function e(r,n,i,o){let a=r[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),c=o>=r.length;return a=!a&&I.isArray(i)?i.length:a,c?(I.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):((!i[a]||!I.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],o)&&I.isArray(i[a])&&(i[a]=l_(i[a])),!s)}if(I.isFormData(t)&&I.isFunction(t.entries)){const r={};return I.forEachEntry(t,(n,i)=>{e(u_(n),i,r,0)}),r}return null}function p_(t,e,r){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const ef={transitional:dR,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=I.isObject(e);if(o&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return i?JSON.stringify(fR(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return c_(e,this.formSerializer).toString();if((s=I.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Su(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),p_(e)):e}],transformResponse:[function(e){const r=this.transitional||ef.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&I.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?X.from(s,X.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{ef.headers[t]={}});const tf=ef,d_=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h_=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&d_[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},sg=Symbol("internals");function Mi(t){return t&&String(t).trim().toLowerCase()}function gc(t){return t===!1||t==null?t:I.isArray(t)?t.map(gc):String(t)}function f_(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const v_=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hp(t,e,r,n,i){if(I.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!I.isString(e)){if(I.isString(n))return e.indexOf(n)!==-1;if(I.isRegExp(n))return n.test(e)}}function g_(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function m_(t,e){const r=I.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}class Cu{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(s,c,u){const l=Mi(c);if(!l)throw new Error("header name must be a non-empty string");const p=I.findKey(i,l);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=gc(s))}const a=(s,c)=>I.forEach(s,(u,l)=>o(u,l,c));return I.isPlainObject(e)||e instanceof this.constructor?a(e,r):I.isString(e)&&(e=e.trim())&&!v_(e)?a(h_(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=Mi(e),e){const n=I.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return f_(i);if(I.isFunction(r))return r.call(this,i,n);if(I.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Mi(e),e){const n=I.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||hp(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(a){if(a=Mi(a),a){const s=I.findKey(n,a);s&&(!r||hp(n,n[s],s,r))&&(delete n[s],i=!0)}}return I.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||hp(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return I.forEach(this,(i,o)=>{const a=I.findKey(n,o);if(a){r[a]=gc(i),delete r[o];return}const s=e?g_(o):String(o).trim();s!==o&&delete r[o],r[s]=gc(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return I.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&I.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[sg]=this[sg]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=Mi(a);n[s]||(m_(i,a),n[s]=!0)}return I.isArray(e)?e.forEach(o):o(e),this}}Cu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Cu.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});I.freezeMethods(Cu);const nr=Cu;function fp(t,e){const r=this||tf,n=e||r,i=nr.from(n.headers);let o=n.data;return I.forEach(t,function(s){o=s.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function vR(t){return!!(t&&t.__CANCEL__)}function ma(t,e,r){X.call(this,t??"canceled",X.ERR_CANCELED,e,r),this.name="CanceledError"}I.inherits(ma,X,{__CANCEL__:!0});function y_(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new X("Request failed with status code "+r.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const S_=jt.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const a=[t+"="+encodeURIComponent(e)];I.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),I.isString(n)&&a.push("path="+n),I.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function C_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function P_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gR(t,e){return t&&!C_(e)?P_(t,e):e}const R_=jt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let a=o;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const s=I.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function w_(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function E_(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=n[o];a||(a=u),r[i]=c,n[i]=u;let p=o,d=0;for(;p!==i;)d+=r[p++],p=p%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-a<e)return;const h=l&&u-l;return h?Math.round(d*1e3/h):void 0}}function ag(t,e){let r=0;const n=E_(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,c=n(s),u=o<=a;r=o;const l={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}const T_=typeof XMLHttpRequest<"u",I_=T_&&function(t){return new Promise(function(r,n){let i=t.data;const o=nr.from(t.headers).normalize();let{responseType:a,withXSRFToken:s}=t,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let l;if(I.isFormData(i)){if(jt.hasStandardBrowserEnv||jt.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((l=o.getContentType())!==!1){const[g,...y]=l?l.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([g||"multipart/form-data",...y].join("; "))}}let p=new XMLHttpRequest;if(t.auth){const g=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(g+":"+y))}const d=gR(t.baseURL,t.url);p.open(t.method.toUpperCase(),pR(d,t.params,t.paramsSerializer),!0),p.timeout=t.timeout;function h(){if(!p)return;const g=nr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:g,config:t,request:p};y_(function(S){r(S),u()},function(S){n(S),u()},v),p=null}if("onloadend"in p?p.onloadend=h:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(h)},p.onabort=function(){p&&(n(new X("Request aborted",X.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||dR;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),n(new X(y,v.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,p)),p=null},jt.hasStandardBrowserEnv&&(s&&I.isFunction(s)&&(s=s(t)),s||s!==!1&&R_(d))){const g=t.xsrfHeaderName&&t.xsrfCookieName&&S_.read(t.xsrfCookieName);g&&o.set(t.xsrfHeaderName,g)}i===void 0&&o.setContentType(null),"setRequestHeader"in p&&I.forEach(o.toJSON(),function(y,v){p.setRequestHeader(v,y)}),I.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),a&&a!=="json"&&(p.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&p.addEventListener("progress",ag(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",ag(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=g=>{p&&(n(!g||g.type?new ma(null,t,p):g),p.abort(),p=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const f=w_(d);if(f&&jt.protocols.indexOf(f)===-1){n(new X("Unsupported protocol "+f+":",X.ERR_BAD_REQUEST,t));return}p.send(i||null)})},Bd={http:XA,xhr:I_};I.forEach(Bd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cg=t=>`- ${t}`,A_=t=>I.isFunction(t)||t===null||t===!1,mR={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let a;if(n=r,!A_(r)&&(n=Bd[(a=String(r)).toLowerCase()],n===void 0))throw new X(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(cg).join(`
`):" "+cg(o[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Bd};function vp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ma(null,t)}function ug(t){return vp(t),t.headers=nr.from(t.headers),t.data=fp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mR.getAdapter(t.adapter||tf.adapter)(t).then(function(n){return vp(t),n.data=fp.call(t,t.transformResponse,n),n.headers=nr.from(n.headers),n},function(n){return vR(n)||(vp(t),n&&n.response&&(n.response.data=fp.call(t,t.transformResponse,n.response),n.response.headers=nr.from(n.response.headers))),Promise.reject(n)})}const lg=t=>t instanceof nr?t.toJSON():t;function ai(t,e){e=e||{};const r={};function n(u,l,p){return I.isPlainObject(u)&&I.isPlainObject(l)?I.merge.call({caseless:p},u,l):I.isPlainObject(l)?I.merge({},l):I.isArray(l)?l.slice():l}function i(u,l,p){if(I.isUndefined(l)){if(!I.isUndefined(u))return n(void 0,u,p)}else return n(u,l,p)}function o(u,l){if(!I.isUndefined(l))return n(void 0,l)}function a(u,l){if(I.isUndefined(l)){if(!I.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function s(u,l,p){if(p in e)return n(u,l);if(p in t)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,l)=>i(lg(u),lg(l),!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(l){const p=c[l]||i,d=p(t[l],e[l],l);I.isUndefined(d)&&p!==s||(r[l]=d)}),r}const yR="1.6.7",rf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rf[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const pg={};rf.transitional=function(e,r,n){function i(o,a){return"[Axios v"+yR+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,s)=>{if(e===!1)throw new X(i(a," has been removed"+(r?" in "+r:"")),X.ERR_DEPRECATED);return r&&!pg[a]&&(pg[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,s):!0}};function __(t,e,r){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const s=t[o],c=s===void 0||a(s,o,t);if(c!==!0)throw new X("option "+o+" must be "+c,X.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const $d={assertOptions:__,validators:rf},gr=$d.validators;class Vc{constructor(e){this.defaults=e,this.interceptors={request:new og,response:new og}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ai(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&$d.assertOptions(n,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1),i!=null&&(I.isFunction(i)?r.paramsSerializer={serialize:i}:$d.assertOptions(i,{encode:gr.function,serialize:gr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&I.merge(o.common,o[r.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=nr.concat(a,o);const s=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,p=0,d;if(!c){const f=[ug.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,u),d=f.length,l=Promise.resolve(r);p<d;)l=l.then(f[p++],f[p++]);return l}d=s.length;let h=r;for(p=0;p<d;){const f=s[p++],g=s[p++];try{h=f(h)}catch(y){g.call(this,y);break}}try{l=ug.call(this,h)}catch(f){return Promise.reject(f)}for(p=0,d=u.length;p<d;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=ai(this.defaults,e);const r=gR(e.baseURL,e.url);return pR(r,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){Vc.prototype[e]=function(r,n){return this.request(ai(n||{},{method:e,url:r,data:(n||{}).data}))}});I.forEach(["post","put","patch"],function(e){function r(n){return function(o,a,s){return this.request(ai(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Vc.prototype[e]=r(),Vc.prototype[e+"Form"]=r(!0)});const mc=Vc;class nf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{n.subscribe(s),o=s}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,s){n.reason||(n.reason=new ma(o,a,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new nf(function(i){e=i}),cancel:e}}}const b_=nf;function k_(t){return function(r){return t.apply(null,r)}}function O_(t){return I.isObject(t)&&t.isAxiosError===!0}const Ud={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ud).forEach(([t,e])=>{Ud[e]=t});const M_=Ud;function SR(t){const e=new mc(t),r=ZP(mc.prototype.request,e);return I.extend(r,mc.prototype,e,{allOwnKeys:!0}),I.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return SR(ai(t,i))},r}const ye=SR(tf);ye.Axios=mc;ye.CanceledError=ma;ye.CancelToken=b_;ye.isCancel=vR;ye.VERSION=yR;ye.toFormData=Su;ye.AxiosError=X;ye.Cancel=ye.CanceledError;ye.all=function(e){return Promise.all(e)};ye.spread=k_;ye.isAxiosError=O_;ye.mergeConfig=ai;ye.AxiosHeaders=nr;ye.formToJSON=t=>fR(I.isHTMLForm(t)?new FormData(t):t);ye.getAdapter=mR.getAdapter;ye.HttpStatusCode=M_;ye.default=ye;const D_="https://skyincap-sky-s2t-auth.azurewebsites.net/api",dg=ye.create({baseURL:D_,headers:{"Content-Type":"application/json"},params:{code:"g_-J1jniP2A_P_rN3OR6Ra7La1TU5kXgAleWi79FTz1FAzFuPstPzQ=="}});class CR{static async login(e){return(await dg.post("/login",{},{headers:{Authorization:`Bearer ${e}`}})).data}static async refreshToken(e){return(await dg.post("/refreshToken",{},{headers:{Authorization:`Bearer ${e}`}})).data}}var Hc=(t=>(t[t.OTHER=0]="OTHER",t[t.INVALID_HOSTED_DOMAIN=1]="INVALID_HOSTED_DOMAIN",t[t.USER_ACCESS_REVOKED=2]="USER_ACCESS_REVOKED",t))(Hc||{});class qd{static getErrorMessage(e,r){let n=e("backendError.default");if(!r)return n;switch(r.code){case Hc.INVALID_HOSTED_DOMAIN:n=e("backendError.invalidHostedDomain");break;case Hc.USER_ACCESS_REVOKED:n=e("backendError.userAccessRevoked");break}return n}}const PR=({size:t=24,className:e,...r})=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,...r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:$r("animate-spin",e),children:H.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})});function N_(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const hg={};function Vd(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&hg[e[0]]||(typeof e[0]=="string"&&(hg[e[0]]=new Date),N_(...e))}const RR=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}};function fg(t,e,r){t.loadNamespaces(e,RR(t,r))}function vg(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,RR(t,n))}function x_(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(s,c)=>{const u=e.services.backendConnector.state[`${s}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,t)&&(!i||a(o,t)))}function L_(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Vd("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(i,o)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}):x_(t,e,r)}const z_=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,j_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},F_=t=>j_[t],B_=t=>t.replace(z_,F_);let Hd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:B_};function $_(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hd={...Hd,...t}}function U_(){return Hd}let wR;function q_(t){wR=t}function V_(){return wR}const H_={type:"3rdParty",init(t){$_(t.options.react),q_(t)}},W_=P.createContext();class K_{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const J_=(t,e)=>{const r=P.useRef();return P.useEffect(()=>{r.current=e?r.current:t},[t,e]),r.current};function ER(t,e,r,n){return t.getFixedT(e,r,n)}function G_(t,e,r,n){return P.useCallback(ER(t,e,r,n),[t,e,r,n])}function of(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:n,defaultNS:i}=P.useContext(W_)||{},o=r||n||V_();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new K_),!o){Vd("You will need to pass in an i18next instance by using initReactI18next");const C=(w,T)=>typeof T=="string"?T:T&&typeof T=="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(w)?w[w.length-1]:w,R=[C,{},!1];return R.t=C,R.i18n={},R.ready=!1,R}o.options.react&&o.options.react.wait!==void 0&&Vd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...U_(),...o.options.react,...e},{useSuspense:s,keyPrefix:c}=a;let u=t||i||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const l=(o.isInitialized||o.initializedStoreOnce)&&u.every(C=>L_(C,o,a)),p=G_(o,e.lng||null,a.nsMode==="fallback"?u:u[0],c),d=()=>p,h=()=>ER(o,e.lng||null,a.nsMode==="fallback"?u:u[0],c),[f,g]=P.useState(d);let y=u.join();e.lng&&(y=`${e.lng}${y}`);const v=J_(y),m=P.useRef(!0);P.useEffect(()=>{const{bindI18n:C,bindI18nStore:R}=a;m.current=!0,!l&&!s&&(e.lng?vg(o,e.lng,u,()=>{m.current&&g(h)}):fg(o,u,()=>{m.current&&g(h)})),l&&v&&v!==y&&m.current&&g(h);function w(){m.current&&g(h)}return C&&o&&o.on(C,w),R&&o&&o.store.on(R,w),()=>{m.current=!1,C&&o&&C.split(" ").forEach(T=>o.off(T,w)),R&&o&&R.split(" ").forEach(T=>o.store.off(T,w))}},[o,y]),P.useEffect(()=>{m.current&&l&&g(d)},[o,c,l]);const S=[f,o,l];if(S.t=f,S.i18n=o,S.ready=l,l||!l&&!s)return S;throw new Promise(C=>{e.lng?vg(o,e.lng,u,()=>C()):fg(o,u,()=>C())})}function Q_(){const{t}=of(),{navigateTo:e,displayToast:r}=P.useContext(Gh),[n,i]=P.useState(!1);async function o(s){i(!0),CR.login(s.credential).then(c=>{new tr(c.accessToken).storeInCookie("accessToken"),new tr(c.refreshToken).storeInCookie("refreshToken"),e(ft.Speech)}).catch(c=>{var p;const u=(p=c.response)==null?void 0:p.data,l=qd.getErrorMessage(t,u);r(l)}).finally(()=>{i(!1)})}function a(){const s={code:Hc.OTHER,message:"Google login failed."},c=qd.getErrorMessage(t,s);r(c)}return H.jsx("div",{className:"absolute inset-0 grid place-content-center",children:n?H.jsx(PR,{}):H.jsx(dA,{shape:"pill",theme:"filled_blue",use_fedcm_for_prompt:!0,onSuccess:o,onError:a})})}var Is={},gp={},Pu={},mp={},de={},mi={},wt={},TR={},Ru={},wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.default=Y_;let Xa;const X_=new Uint8Array(16);function Y_(){if(!Xa&&(Xa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xa(X_)}var Ur={},An={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.default=void 0;var Z_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Eu.default=Z_;Object.defineProperty(An,"__esModule",{value:!0});An.default=void 0;var eb=tb(Eu);function tb(t){return t&&t.__esModule?t:{default:t}}function rb(t){return typeof t=="string"&&eb.default.test(t)}var nb=rb;An.default=nb;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.default=void 0;Ur.unsafeStringify=IR;var ib=ob(An);function ob(t){return t&&t.__esModule?t:{default:t}}const Ae=[];for(let t=0;t<256;++t)Ae.push((t+256).toString(16).slice(1));function IR(t,e=0){return Ae[t[e+0]]+Ae[t[e+1]]+Ae[t[e+2]]+Ae[t[e+3]]+"-"+Ae[t[e+4]]+Ae[t[e+5]]+"-"+Ae[t[e+6]]+Ae[t[e+7]]+"-"+Ae[t[e+8]]+Ae[t[e+9]]+"-"+Ae[t[e+10]]+Ae[t[e+11]]+Ae[t[e+12]]+Ae[t[e+13]]+Ae[t[e+14]]+Ae[t[e+15]]}function sb(t,e=0){const r=IR(t,e);if(!(0,ib.default)(r))throw TypeError("Stringified UUID is invalid");return r}var ab=sb;Ur.default=ab;Object.defineProperty(Ru,"__esModule",{value:!0});Ru.default=void 0;var cb=lb(wu),ub=Ur;function lb(t){return t&&t.__esModule?t:{default:t}}let gg,yp,Sp=0,Cp=0;function pb(t,e,r){let n=e&&r||0;const i=e||new Array(16);t=t||{};let o=t.node||gg,a=t.clockseq!==void 0?t.clockseq:yp;if(o==null||a==null){const d=t.random||(t.rng||cb.default)();o==null&&(o=gg=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),a==null&&(a=yp=(d[6]<<8|d[7])&16383)}let s=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Cp+1;const u=s-Sp+(c-Cp)/1e4;if(u<0&&t.clockseq===void 0&&(a=a+1&16383),(u<0||s>Sp)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Sp=s,Cp=c,yp=a,s+=122192928e5;const l=((s&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;const p=s/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let d=0;d<6;++d)i[n+d]=o[d];return e||(0,ub.unsafeStringify)(i)}var db=pb;Ru.default=db;var Tu={},zr={},ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.default=void 0;var hb=fb(An);function fb(t){return t&&t.__esModule?t:{default:t}}function vb(t){if(!(0,hb.default)(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var gb=vb;ya.default=gb;Object.defineProperty(zr,"__esModule",{value:!0});zr.URL=zr.DNS=void 0;zr.default=Pb;var mb=Ur,yb=Sb(ya);function Sb(t){return t&&t.__esModule?t:{default:t}}function Cb(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const AR="6ba7b810-9dad-11d1-80b4-00c04fd430c8";zr.DNS=AR;const _R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";zr.URL=_R;function Pb(t,e,r){function n(i,o,a,s){var c;if(typeof i=="string"&&(i=Cb(i)),typeof o=="string"&&(o=(0,yb.default)(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(let l=0;l<16;++l)a[s+l]=u[l];return a}return(0,mb.unsafeStringify)(u)}try{n.name=t}catch{}return n.DNS=AR,n.URL=_R,n}var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.default=void 0;function Rb(t){if(typeof t=="string"){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return wb(Eb(Tb(t),t.length*8))}function wb(t){const e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){const o=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function bR(t){return(t+64>>>9<<4)+14+1}function Eb(t,e){t[e>>5]|=128<<e%32,t[bR(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let a=0;a<t.length;a+=16){const s=r,c=n,u=i,l=o;r=ze(r,n,i,o,t[a],7,-680876936),o=ze(o,r,n,i,t[a+1],12,-389564586),i=ze(i,o,r,n,t[a+2],17,606105819),n=ze(n,i,o,r,t[a+3],22,-1044525330),r=ze(r,n,i,o,t[a+4],7,-176418897),o=ze(o,r,n,i,t[a+5],12,1200080426),i=ze(i,o,r,n,t[a+6],17,-1473231341),n=ze(n,i,o,r,t[a+7],22,-45705983),r=ze(r,n,i,o,t[a+8],7,1770035416),o=ze(o,r,n,i,t[a+9],12,-1958414417),i=ze(i,o,r,n,t[a+10],17,-42063),n=ze(n,i,o,r,t[a+11],22,-1990404162),r=ze(r,n,i,o,t[a+12],7,1804603682),o=ze(o,r,n,i,t[a+13],12,-40341101),i=ze(i,o,r,n,t[a+14],17,-1502002290),n=ze(n,i,o,r,t[a+15],22,1236535329),r=je(r,n,i,o,t[a+1],5,-165796510),o=je(o,r,n,i,t[a+6],9,-1069501632),i=je(i,o,r,n,t[a+11],14,643717713),n=je(n,i,o,r,t[a],20,-373897302),r=je(r,n,i,o,t[a+5],5,-701558691),o=je(o,r,n,i,t[a+10],9,38016083),i=je(i,o,r,n,t[a+15],14,-660478335),n=je(n,i,o,r,t[a+4],20,-405537848),r=je(r,n,i,o,t[a+9],5,568446438),o=je(o,r,n,i,t[a+14],9,-1019803690),i=je(i,o,r,n,t[a+3],14,-187363961),n=je(n,i,o,r,t[a+8],20,1163531501),r=je(r,n,i,o,t[a+13],5,-1444681467),o=je(o,r,n,i,t[a+2],9,-51403784),i=je(i,o,r,n,t[a+7],14,1735328473),n=je(n,i,o,r,t[a+12],20,-1926607734),r=Fe(r,n,i,o,t[a+5],4,-378558),o=Fe(o,r,n,i,t[a+8],11,-2022574463),i=Fe(i,o,r,n,t[a+11],16,1839030562),n=Fe(n,i,o,r,t[a+14],23,-35309556),r=Fe(r,n,i,o,t[a+1],4,-1530992060),o=Fe(o,r,n,i,t[a+4],11,1272893353),i=Fe(i,o,r,n,t[a+7],16,-155497632),n=Fe(n,i,o,r,t[a+10],23,-1094730640),r=Fe(r,n,i,o,t[a+13],4,681279174),o=Fe(o,r,n,i,t[a],11,-358537222),i=Fe(i,o,r,n,t[a+3],16,-722521979),n=Fe(n,i,o,r,t[a+6],23,76029189),r=Fe(r,n,i,o,t[a+9],4,-640364487),o=Fe(o,r,n,i,t[a+12],11,-421815835),i=Fe(i,o,r,n,t[a+15],16,530742520),n=Fe(n,i,o,r,t[a+2],23,-995338651),r=Be(r,n,i,o,t[a],6,-198630844),o=Be(o,r,n,i,t[a+7],10,1126891415),i=Be(i,o,r,n,t[a+14],15,-1416354905),n=Be(n,i,o,r,t[a+5],21,-57434055),r=Be(r,n,i,o,t[a+12],6,1700485571),o=Be(o,r,n,i,t[a+3],10,-1894986606),i=Be(i,o,r,n,t[a+10],15,-1051523),n=Be(n,i,o,r,t[a+1],21,-2054922799),r=Be(r,n,i,o,t[a+8],6,1873313359),o=Be(o,r,n,i,t[a+15],10,-30611744),i=Be(i,o,r,n,t[a+6],15,-1560198380),n=Be(n,i,o,r,t[a+13],21,1309151649),r=Be(r,n,i,o,t[a+4],6,-145523070),o=Be(o,r,n,i,t[a+11],10,-1120210379),i=Be(i,o,r,n,t[a+2],15,718787259),n=Be(n,i,o,r,t[a+9],21,-343485551),r=Tr(r,s),n=Tr(n,c),i=Tr(i,u),o=Tr(o,l)}return[r,n,i,o]}function Tb(t){if(t.length===0)return[];const e=t.length*8,r=new Uint32Array(bR(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Tr(t,e){const r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function Ib(t,e){return t<<e|t>>>32-e}function Au(t,e,r,n,i,o){return Tr(Ib(Tr(Tr(e,t),Tr(n,o)),i),r)}function ze(t,e,r,n,i,o,a){return Au(e&r|~e&n,t,e,i,o,a)}function je(t,e,r,n,i,o,a){return Au(e&n|r&~n,t,e,i,o,a)}function Fe(t,e,r,n,i,o,a){return Au(e^r^n,t,e,i,o,a)}function Be(t,e,r,n,i,o,a){return Au(r^(e|~n),t,e,i,o,a)}var Ab=Rb;Iu.default=Ab;Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=void 0;var _b=kR(zr),bb=kR(Iu);function kR(t){return t&&t.__esModule?t:{default:t}}const kb=(0,_b.default)("v3",48,bb.default);var Ob=kb;Tu.default=Ob;var _u={},bu={};Object.defineProperty(bu,"__esModule",{value:!0});bu.default=void 0;const Mb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Db={randomUUID:Mb};bu.default=Db;Object.defineProperty(_u,"__esModule",{value:!0});_u.default=void 0;var mg=OR(bu),Nb=OR(wu),xb=Ur;function OR(t){return t&&t.__esModule?t:{default:t}}function Lb(t,e,r){if(mg.default.randomUUID&&!e&&!t)return mg.default.randomUUID();t=t||{};const n=t.random||(t.rng||Nb.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,xb.unsafeStringify)(n)}var zb=Lb;_u.default=zb;var ku={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=void 0;function jb(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function Pp(t,e){return t<<e|t>>>32-e}function Fb(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const a=unescape(encodeURIComponent(t));t=[];for(let s=0;s<a.length;++s)t.push(a.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let a=0;a<i;++a){const s=new Uint32Array(16);for(let c=0;c<16;++c)s[c]=t[a*64+c*4]<<24|t[a*64+c*4+1]<<16|t[a*64+c*4+2]<<8|t[a*64+c*4+3];o[a]=s}o[i-1][14]=(t.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(t.length-1)*8&4294967295;for(let a=0;a<i;++a){const s=new Uint32Array(80);for(let h=0;h<16;++h)s[h]=o[a][h];for(let h=16;h<80;++h)s[h]=Pp(s[h-3]^s[h-8]^s[h-14]^s[h-16],1);let c=r[0],u=r[1],l=r[2],p=r[3],d=r[4];for(let h=0;h<80;++h){const f=Math.floor(h/20),g=Pp(c,5)+jb(f,u,l,p)+d+e[f]+s[h]>>>0;d=p,p=l,l=Pp(u,30)>>>0,u=c,c=g}r[0]=r[0]+c>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+l>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Bb=Fb;Ou.default=Bb;Object.defineProperty(ku,"__esModule",{value:!0});ku.default=void 0;var $b=MR(zr),Ub=MR(Ou);function MR(t){return t&&t.__esModule?t:{default:t}}const qb=(0,$b.default)("v5",80,Ub.default);var Vb=qb;ku.default=Vb;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.default=void 0;var Hb="00000000-0000-0000-0000-000000000000";Mu.default=Hb;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.default=void 0;var Wb=Kb(An);function Kb(t){return t&&t.__esModule?t:{default:t}}function Jb(t){if(!(0,Wb.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var Gb=Jb;Du.default=Gb;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return a.default}});var e=l(Ru),r=l(Tu),n=l(_u),i=l(ku),o=l(Mu),a=l(Du),s=l(An),c=l(Ur),u=l(ya);function l(p){return p&&p.__esModule?p:{default:p}}})(TR);Object.defineProperty(wt,"__esModule",{value:!0});wt.createNoDashGuid=wt.createGuid=void 0;const Qb=TR,DR=()=>Qb.v4();wt.createGuid=DR;const Xb=()=>DR().replace(new RegExp("-","g"),"").toUpperCase();wt.createNoDashGuid=Xb;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformEvent=t.EventType=void 0;const e=wt;(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.None=4]="None"})(t.EventType||(t.EventType={}));class r{constructor(i,o){this.privName=i,this.privEventId=e.createNoDashGuid(),this.privEventTime=new Date().toISOString(),this.privEventType=o,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}t.PlatformEvent=r})(mi);Object.defineProperty(de,"__esModule",{value:!0});de.AudioStreamNodeErrorEvent=de.AudioStreamNodeDetachedEvent=de.AudioStreamNodeAttachedEvent=de.AudioStreamNodeAttachingEvent=de.AudioStreamNodeEvent=de.AudioSourceErrorEvent=de.AudioSourceOffEvent=de.AudioSourceReadyEvent=de.AudioSourceInitializingEvent=de.AudioSourceEvent=void 0;const Wd=mi;class yi extends Wd.PlatformEvent{constructor(e,r,n=Wd.EventType.Info){super(e,n),this.privAudioSourceId=r}get audioSourceId(){return this.privAudioSourceId}}de.AudioSourceEvent=yi;class Yb extends yi{constructor(e){super("AudioSourceInitializingEvent",e)}}de.AudioSourceInitializingEvent=Yb;class Zb extends yi{constructor(e){super("AudioSourceReadyEvent",e)}}de.AudioSourceReadyEvent=Zb;class ek extends yi{constructor(e){super("AudioSourceOffEvent",e)}}de.AudioSourceOffEvent=ek;class tk extends yi{constructor(e,r){super("AudioSourceErrorEvent",e,Wd.EventType.Error),this.privError=r}get error(){return this.privError}}de.AudioSourceErrorEvent=tk;class Sa extends yi{constructor(e,r,n){super(e,r),this.privAudioNodeId=n}get audioNodeId(){return this.privAudioNodeId}}de.AudioStreamNodeEvent=Sa;class rk extends Sa{constructor(e,r){super("AudioStreamNodeAttachingEvent",e,r)}}de.AudioStreamNodeAttachingEvent=rk;class nk extends Sa{constructor(e,r){super("AudioStreamNodeAttachedEvent",e,r)}}de.AudioStreamNodeAttachedEvent=nk;class ik extends Sa{constructor(e,r){super("AudioStreamNodeDetachedEvent",e,r)}}de.AudioStreamNodeDetachedEvent=ik;class ok extends Sa{constructor(e,r,n){super("AudioStreamNodeErrorEvent",e,r),this.privError=n}get error(){return this.privError}}de.AudioStreamNodeErrorEvent=ok;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.ConnectionMessageSentEvent=ge.ConnectionMessageReceivedEvent=ge.ConnectionEstablishErrorEvent=ge.ConnectionErrorEvent=ge.ConnectionClosedEvent=ge.ConnectionEstablishedEvent=ge.ConnectionStartEvent=ge.ConnectionEvent=ge.ServiceEvent=void 0;const wn=mi;class sk extends wn.PlatformEvent{constructor(e,r,n=wn.EventType.Info){super(e,n),this.privJsonResult=r}get jsonString(){return this.privJsonResult}}ge.ServiceEvent=sk;class qr extends wn.PlatformEvent{constructor(e,r,n=wn.EventType.Info){super(e,n),this.privConnectionId=r}get connectionId(){return this.privConnectionId}}ge.ConnectionEvent=qr;class ak extends qr{constructor(e,r,n){super("ConnectionStartEvent",e),this.privUri=r,this.privHeaders=n}get uri(){return this.privUri}get headers(){return this.privHeaders}}ge.ConnectionStartEvent=ak;class ck extends qr{constructor(e){super("ConnectionEstablishedEvent",e)}}ge.ConnectionEstablishedEvent=ck;class uk extends qr{constructor(e,r,n){super("ConnectionClosedEvent",e,wn.EventType.Debug),this.privReason=n,this.privStatusCode=r}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}ge.ConnectionClosedEvent=uk;class lk extends qr{constructor(e,r,n){super("ConnectionErrorEvent",e,wn.EventType.Debug),this.privMessage=r,this.privType=n}get message(){return this.privMessage}get type(){return this.privType}}ge.ConnectionErrorEvent=lk;class pk extends qr{constructor(e,r,n){super("ConnectionEstablishErrorEvent",e,wn.EventType.Error),this.privStatusCode=r,this.privReason=n}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}ge.ConnectionEstablishErrorEvent=pk;class dk extends qr{constructor(e,r,n){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=r,this.privMessage=n}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}ge.ConnectionMessageReceivedEvent=dk;class hk extends qr{constructor(e,r,n){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=r,this.privMessage=n}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}ge.ConnectionMessageSentEvent=hk;var sf={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ObjectDisposedError=Oe.InvalidOperationError=Oe.ArgumentNullError=void 0;class fk extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}Oe.ArgumentNullError=fk;class vk extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}Oe.InvalidOperationError=vk;class gk extends Error{constructor(e,r){super(r),this.name=e+"ObjectDisposed",this.message=r}}Oe.ObjectDisposedError=gk;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessage=t.MessageType=void 0;const e=Oe,r=wt;var n;(function(o){o[o.Text=0]="Text",o[o.Binary=1]="Binary"})(n=t.MessageType||(t.MessageType={}));class i{constructor(a,s,c,u){if(this.privBody=null,a===n.Text&&s&&typeof s!="string")throw new e.InvalidOperationError("Payload must be a string");if(a===n.Binary&&s&&!(s instanceof ArrayBuffer))throw new e.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=a,this.privBody=s,this.privHeaders=c||{},this.privId=u||r.createNoDashGuid(),this.messageType){case n.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case n.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===n.Binary)throw new e.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===n.Text)throw new e.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}t.ConnectionMessage=i})(sf);var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.ConnectionOpenResponse=void 0;class mk{constructor(e,r){this.privStatusCode=e,this.privReason=r}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}Nu.ConnectionOpenResponse=mk;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.DeferralMap=void 0;class yk{constructor(){this.privMap={}}add(e,r){this.privMap[e]=r}getId(e){return this.privMap[e]}complete(e,r){try{this.privMap[e].resolve(r)}catch(n){this.privMap[e].reject(n)}finally{this.privMap[e]=void 0}}}xu.DeferralMap=yk;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.SendingAgentContextMessageEvent=En.DialogEvent=void 0;const yg=mi;class NR extends yg.PlatformEvent{constructor(e,r=yg.EventType.Info){super(e,r)}}En.DialogEvent=NR;class Sk extends NR{constructor(e){super("SendingAgentContextMessageEvent"),this.privAgentConfig=e}get agentConfig(){return this.privAgentConfig}}En.SendingAgentContextMessageEvent=Sk;var Lu={},Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.EventSource=void 0;const Ck=Oe,Pk=wt;class Rk{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=e}onEvent(e){if(this.isDisposed())throw new Ck.ObjectDisposedError("EventSource");if(this.metadata)for(const r in this.metadata)r&&e.metadata&&(e.metadata[r]||(e.metadata[r]=this.metadata[r]));for(const r in this.privEventListeners)r&&this.privEventListeners[r]&&this.privEventListeners[r](e)}attach(e){const r=Pk.createNoDashGuid();return this.privEventListeners[r]=e,{detach:()=>(delete this.privEventListeners[r],Promise.resolve())}}attachListener(e){return this.attach(r=>e.onEvent(r))}attachConsoleListener(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(r=>e.onEvent(r)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}Ca.EventSource=Rk;Object.defineProperty(Lu,"__esModule",{value:!0});Lu.Events=void 0;const wk=Oe,Ek=Ca;class oa{static setEventSource(e){if(!e)throw new wk.ArgumentNullError("eventSource");oa.privInstance=e}static get instance(){return oa.privInstance}}Lu.Events=oa;oa.privInstance=new Ek.EventSource;var xR={};Object.defineProperty(xR,"__esModule",{value:!0});var LR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(t.ConnectionState||(t.ConnectionState={}))})(LR);var zR={};Object.defineProperty(zR,"__esModule",{value:!0});var jR={};Object.defineProperty(jR,"__esModule",{value:!0});var FR={};Object.defineProperty(FR,"__esModule",{value:!0});var BR={};Object.defineProperty(BR,"__esModule",{value:!0});var $R={};Object.defineProperty($R,"__esModule",{value:!0});var UR={};Object.defineProperty(UR,"__esModule",{value:!0});var qR={};Object.defineProperty(qR,"__esModule",{value:!0});var VR={};Object.defineProperty(VR,"__esModule",{value:!0});var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.List=void 0;const Tk=Oe;class Sr{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],e)for(const r of e)this.privList.push(r)}get(e){return this.throwIfDisposed(),this.privList[e]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}insertAt(e,r){this.throwIfDisposed(),e===0?this.privList.unshift(r):e===this.privList.length?this.privList.push(r):this.privList.splice(e,0,r),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(e){return this.throwIfDisposed(),this.remove(e,1)[0]}remove(e,r){this.throwIfDisposed();const n=this.privList.splice(e,r);return this.triggerSubscriptions(this.privRemoveSubscriptions),n}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(e){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[r]=e,{detach:()=>(delete this.privAddSubscriptions[r],Promise.resolve())}}onRemoved(e){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[r]=e,{detach:()=>(delete this.privRemoveSubscriptions[r],Promise.resolve())}}onDisposed(e){this.throwIfDisposed();const r=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[r]=e,{detach:()=>(delete this.privDisposedSubscriptions[r],Promise.resolve())}}join(e){return this.throwIfDisposed(),this.privList.join(e)}toArray(){const e=Array();return this.privList.forEach(r=>{e.push(r)}),e}any(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}all(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}forEach(e){this.throwIfDisposed();for(let r=0;r<this.length();r++)e(this.privList[r],r)}select(e){this.throwIfDisposed();const r=[];for(let n=0;n<this.privList.length;n++)r.push(e(this.privList[n],n));return new Sr(r)}where(e){this.throwIfDisposed();const r=new Sr;for(let n=0;n<this.privList.length;n++)e(this.privList[n],n)&&r.add(this.privList[n]);return r}orderBy(e){this.throwIfDisposed();const n=this.toArray().sort(e);return new Sr(n)}orderByDesc(e){return this.throwIfDisposed(),this.orderBy((r,n)=>e(n,r))}clone(){return this.throwIfDisposed(),new Sr(this.toArray())}concat(e){return this.throwIfDisposed(),new Sr(this.privList.concat(e.toArray()))}concatArray(e){return this.throwIfDisposed(),new Sr(this.privList.concat(e))}isDisposed(){return this.privList==null}dispose(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new Tk.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(e){if(e)for(const r in e)r&&e[r]()}}Pa.List=Sr;var af={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.marshalPromiseToCallbacks=t.Sink=t.Deferred=t.PromiseResultEventSource=t.PromiseResult=t.PromiseState=void 0;var e;(function(s){s[s.None=0]="None",s[s.Resolved=1]="Resolved",s[s.Rejected=2]="Rejected"})(e=t.PromiseState||(t.PromiseState={}));class r{constructor(c){this.throwIfError=()=>{if(this.isError)throw this.error},c.on(u=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=u)},u=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=u)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}t.PromiseResult=r;class n{constructor(){this.setResult=c=>{this.privOnSetResult(c)},this.setError=c=>{this.privOnSetError(c)},this.on=(c,u)=>{this.privOnSetResult=c,this.privOnSetError=u}}}t.PromiseResultEventSource=n;class i{constructor(){this.resolve=c=>(this.privResolve(c),this),this.reject=c=>(this.privReject(c),this),this.privPromise=new Promise((c,u)=>{this.privResolve=c,this.privReject=u})}get promise(){return this.privPromise}}t.Deferred=i;class o{constructor(){this.privState=e.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new n,this.privPromiseResult=new r(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(c){if(this.privState!==e.None)throw new Error("'Cannot resolve a completed promise'");this.privState=e.Resolved,this.privPromiseResultEvents.setResult(c);for(let u=0;u<this.privSuccessHandlers.length;u++)this.executeSuccessCallback(c,this.privSuccessHandlers[u],this.privErrorHandlers[u]);this.detachHandlers()}reject(c){if(this.privState!==e.None)throw new Error("'Cannot reject a completed promise'");this.privState=e.Rejected,this.privPromiseResultEvents.setError(c);for(const u of this.privErrorHandlers)this.executeErrorCallback(c,u);this.detachHandlers()}on(c,u){c==null&&(c=()=>{}),this.privState===e.None?(this.privSuccessHandlers.push(c),this.privErrorHandlers.push(u)):(this.privState===e.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,c,u):this.privState===e.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,u),this.detachHandlers())}executeSuccessCallback(c,u,l){try{u(c)}catch(p){this.executeErrorCallback(`'Unhandled callback error: ${p}'`,l)}}executeErrorCallback(c,u){if(u)try{u(c)}catch(l){throw new Error(`'Unhandled callback error: ${l}. InnerError: ${c}'`)}else throw new Error(`'Unhandled error: ${c}'`)}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}t.Sink=o;function a(s,c,u){s.then(l=>{try{c&&c(l)}catch(p){if(u)try{if(p instanceof Error){const d=p;u(d.name+": "+d.message)}else u(p)}catch{}}},l=>{if(u)try{if(l instanceof Error){const p=l;u(p.name+": "+p.message)}else u(l)}catch{}})}t.marshalPromiseToCallbacks=a})(af);var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.Queue=void 0;const Rp=Oe,wp=Pa,Sg=af;var js;(function(t){t[t.Dequeue=0]="Dequeue",t[t.Peek=1]="Peek"})(js||(js={}));class Ik{constructor(e){this.privPromiseStore=new wp.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=e||new wp.List,this.privDetachables=[],this.privSubscribers=new wp.List,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise(r=>r(e)))}enqueueFromPromise(e){this.throwIfDispose(),e.then(r=>{this.privList.add(r)},()=>{})}dequeue(){this.throwIfDispose();const e=new Sg.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:js.Dequeue}),this.drain()),e.promise}peek(){this.throwIfDispose();const e=new Sg.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:js.Peek}),this.drain()),e.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}async drainAndDispose(e,r){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=r,this.privIsDisposing=!0;const n=this.privSubscribers;if(n){for(;n.length()>0;)n.removeFirst().deferral.resolve(void 0);this.privSubscribers===n&&(this.privSubscribers=n)}for(const i of this.privDetachables)await i.detach();if(this.privPromiseStore.length()>0&&e){const i=[];return this.privPromiseStore.toArray().forEach(o=>{i.push(o)}),Promise.all(i).finally(()=>{this.privSubscribers=null,this.privList.forEach(o=>{e(o)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}}async dispose(e){await this.drainAndDispose(null,e)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,r=this.privList;if(e&&r){for(;r.length()>0&&e.length()>0&&!this.privIsDisposing;){const n=e.removeFirst();if(n.type===js.Peek)n.deferral.resolve(r.first());else{const i=r.removeFirst();n.deferral.resolve(i)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===r&&(this.privList=r)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new Rp.InvalidOperationError(this.privDisposeReason):new Rp.ObjectDisposedError("Queue");if(this.privIsDisposing)throw new Rp.InvalidOperationError("Queue disposing")}}Ra.Queue=Ik;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.RawWebsocketMessage=void 0;const Ya=sf,Di=Oe,Ak=wt;class _k{constructor(e,r,n){if(this.privPayload=null,!r)throw new Di.ArgumentNullError("payload");if(e===Ya.MessageType.Binary&&Object.getPrototypeOf(r).constructor.name!=="ArrayBuffer")throw new Di.InvalidOperationError("Payload must be ArrayBuffer");if(e===Ya.MessageType.Text&&typeof r!="string")throw new Di.InvalidOperationError("Payload must be a string");this.privMessageType=e,this.privPayload=r,this.privId=n||Ak.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===Ya.MessageType.Binary)throw new Di.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===Ya.MessageType.Text)throw new Di.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}}zu.RawWebsocketMessage=_k;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.RiffPcmEncoder=void 0;class bk{constructor(e,r){this.privActualSampleRate=e,this.privDesiredSampleRate=r}encode(e){const r=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!r)return null;const n=r.length*2,i=new ArrayBuffer(n),o=new DataView(i);return this.floatTo16BitPCM(o,0,r),i}setString(e,r,n){for(let i=0;i<n.length;i++)e.setUint8(r+i,n.charCodeAt(i))}floatTo16BitPCM(e,r,n){for(let i=0;i<n.length;i++,r+=2){const o=Math.max(-1,Math.min(1,n[i]));e.setInt16(r,o<0?o*32768:o*32767,!0)}}downSampleAudioFrame(e,r,n){if(!e)return null;if(n===r||n>r)return e;const i=r/n,o=Math.round(e.length/i),a=new Float32Array(o);let s=0,c=0;for(;c<o;){const u=Math.round((c+1)*i);let l=0,p=0;for(;s<u&&s<e.length;)l+=e[s++],p++;a[c++]=l/p}return a}}ju.RiffPcmEncoder=bk;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Stream=void 0;const Cg=Oe,kk=wt,Pg=Ra;class Ok{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=e||kk.createNoDashGuid(),this.privReaderQueue=new Pg.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch{}}read(){if(this.privIsReadEnded)throw new Cg.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then(async e=>((e===void 0||e.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),e))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new Pg.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new Cg.InvalidOperationError("Stream closed")}}Fu.Stream=Ok;var Bu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationStatus=void 0,function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(t.TranslationStatus||(t.TranslationStatus={}))})(Bu);var Ni={},Rg;function Mk(){if(Rg)return Ni;Rg=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.ChunkedArrayBufferStream=void 0;const t=L();let e=class extends t.Stream{constructor(n,i){super(i),this.privTargetChunkSize=n,this.privNextBufferReadyBytes=0}writeStreamChunk(n){if(n.isEnd||this.privNextBufferReadyBytes===0&&n.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(n);return}let i=0;for(;i<n.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=n.timeReceived);const o=Math.min(n.buffer.byteLength-i,this.privTargetChunkSize-this.privNextBufferReadyBytes),a=new Uint8Array(this.privNextBufferToWrite),s=new Uint8Array(n.buffer.slice(i,o+i));a.set(s,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=o,i+=o,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}};return Ni.ChunkedArrayBufferStream=e,Ni}var HR={};Object.defineProperty(HR,"__esModule",{value:!0});var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.Timeout=void 0;class $e{static load(){const e=new Map([[0,()=>{}]]),r=new Map,i="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),o=new Worker(i);return o.addEventListener("message",({data:c})=>{if($e.isCallNotification(c)){const{params:{timerId:u}}=c,l=e.get(u);if(typeof l=="number"){const p=r.get(l);if(p===void 0||p!==u)throw new Error("The timer is in an undefined state.")}else if(typeof l<"u")l(),e.delete(u);else throw new Error("The timer is in an undefined state.")}else if($e.isClearResponse(c)){const{id:u}=c,l=r.get(u);if(l===void 0)throw new Error("The timer is in an undefined state.");r.delete(u),e.delete(l)}else{const{error:{message:u}}=c;throw new Error(u)}}),{clearTimeout:c=>{const u=Math.random();r.set(u,c),e.set(c,u),o.postMessage({id:u,method:"clear",params:{timerId:c}})},setTimeout:(c,u)=>{const l=Math.random();return e.set(l,c),o.postMessage({id:null,method:"set",params:{delay:u,now:performance.now(),timerId:l}}),l}}}static loadWorkerTimers(){return()=>($e.workerTimers!==null||($e.workerTimers=$e.load()),$e.workerTimers)}static isCallNotification(e){return e.method!==void 0&&e.method==="call"}static isClearResponse(e){return e.error===null&&typeof e.id=="number"}}$u.Timeout=$e;$e.workerTimers=null;$e.clearTimeout=t=>$e.timers().clearTimeout(t);$e.setTimeout=(t,e)=>$e.timers().setTimeout(t,e);$e.timers=$e.loadWorkerTimers();var J={};Object.defineProperty(J,"__esModule",{value:!0});J.OCSPCacheUpdateErrorEvent=J.OCSPResponseRetrievedEvent=J.OCSPCacheFetchErrorEvent=J.OCSPVerificationFailedEvent=J.OCSPCacheHitEvent=J.OCSPCacheEntryNeedsRefreshEvent=J.OCSPCacheEntryExpiredEvent=J.OCSPWSUpgradeStartedEvent=J.OCSPStapleReceivedEvent=J.OCSPCacheUpdateCompleteEvent=J.OCSPDiskCacheStoreEvent=J.OCSPMemoryCacheStoreEvent=J.OCSPCacheUpdateNeededEvent=J.OCSPDiskCacheHitEvent=J.OCSPCacheMissEvent=J.OCSPMemoryCacheHitEvent=J.OCSPEvent=void 0;const De=mi;class Ne extends De.PlatformEvent{constructor(e,r,n){super(e,r),this.privSignature=n}}J.OCSPEvent=Ne;class Dk extends Ne{constructor(e){super("OCSPMemoryCacheHitEvent",De.EventType.Debug,e)}}J.OCSPMemoryCacheHitEvent=Dk;class Nk extends Ne{constructor(e){super("OCSPCacheMissEvent",De.EventType.Debug,e)}}J.OCSPCacheMissEvent=Nk;class xk extends Ne{constructor(e){super("OCSPDiskCacheHitEvent",De.EventType.Debug,e)}}J.OCSPDiskCacheHitEvent=xk;class Lk extends Ne{constructor(e){super("OCSPCacheUpdateNeededEvent",De.EventType.Debug,e)}}J.OCSPCacheUpdateNeededEvent=Lk;class zk extends Ne{constructor(e){super("OCSPMemoryCacheStoreEvent",De.EventType.Debug,e)}}J.OCSPMemoryCacheStoreEvent=zk;class jk extends Ne{constructor(e){super("OCSPDiskCacheStoreEvent",De.EventType.Debug,e)}}J.OCSPDiskCacheStoreEvent=jk;class Fk extends Ne{constructor(e){super("OCSPCacheUpdateCompleteEvent",De.EventType.Debug,e)}}J.OCSPCacheUpdateCompleteEvent=Fk;class Bk extends Ne{constructor(){super("OCSPStapleReceivedEvent",De.EventType.Debug,"")}}J.OCSPStapleReceivedEvent=Bk;class $k extends Ne{constructor(e){super("OCSPWSUpgradeStartedEvent",De.EventType.Debug,e)}}J.OCSPWSUpgradeStartedEvent=$k;class Uk extends Ne{constructor(e,r){super("OCSPCacheEntryExpiredEvent",De.EventType.Debug,e),this.privExpireTime=r}}J.OCSPCacheEntryExpiredEvent=Uk;class qk extends Ne{constructor(e,r,n){super("OCSPCacheEntryNeedsRefreshEvent",De.EventType.Debug,e),this.privExpireTime=n,this.privStartTime=r}}J.OCSPCacheEntryNeedsRefreshEvent=qk;class Vk extends Ne{constructor(e,r,n){super("OCSPCacheHitEvent",De.EventType.Debug,e),this.privExpireTime=n,this.privExpireTimeString=new Date(n).toLocaleDateString(),this.privStartTime=r,this.privStartTimeString=new Date(r).toLocaleTimeString()}}J.OCSPCacheHitEvent=Vk;class Hk extends Ne{constructor(e,r){super("OCSPVerificationFailedEvent",De.EventType.Debug,e),this.privError=r}}J.OCSPVerificationFailedEvent=Hk;class Wk extends Ne{constructor(e,r){super("OCSPCacheFetchErrorEvent",De.EventType.Debug,e),this.privError=r}}J.OCSPCacheFetchErrorEvent=Wk;class Kk extends Ne{constructor(e){super("OCSPResponseRetrievedEvent",De.EventType.Debug,e)}}J.OCSPResponseRetrievedEvent=Kk;class Jk extends Ne{constructor(e,r){super("OCSPCacheUpdateErrorEvent",De.EventType.Debug,e),this.privError=r}}J.OCSPCacheUpdateErrorEvent=Jk;var xi={},wg;function Gk(){if(wg)return xi;wg=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.BackgroundEvent=void 0;const t=L();class e extends t.PlatformEvent{constructor(n){super("BackgroundEvent",t.EventType.Error),this.privError=n}get error(){return this.privError}}return xi.BackgroundEvent=e,xi}var Eg;function L(){return Eg||(Eg=1,function(t){var e=W&&W.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),r=W&&W.__exportStar||function(i,o){for(var a in i)a!=="default"&&!o.hasOwnProperty(a)&&e(o,i,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(de,t),r(ge,t),r(sf,t),r(Nu,t),r(xu,t),r(En,t),r(Oe,t),r(Lu,t),r(Ca,t),r(wt,t),r(xR,t),r(LR,t),r(zR,t),r(jR,t),r(FR,t),r(BR,t),r($R,t),r(UR,t),r(qR,t),r(VR,t),r(Pa,t),r(mi,t),r(af,t),r(Ra,t),r(zu,t),r(ju,t),r(Fu,t);var n=Bu;Object.defineProperty(t,"TranslationStatus",{enumerable:!0,get:function(){return n.TranslationStatus}}),r(Mk(),t),r(HR,t),r($u,t),r(J,t),r(Gk(),t)}(mp)),mp}var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.HeaderNames=void 0;class Mt{}Te.HeaderNames=Mt;Mt.AuthKey="Ocp-Apim-Subscription-Key";Mt.Authorization="Authorization";Mt.SpIDAuthKey="Apim-Subscription-Id";Mt.ConnectionId="X-ConnectionId";Mt.ContentType="Content-Type";Mt.CustomCommandsAppId="X-CommandsAppId";Mt.Path="Path";Mt.RequestId="X-RequestId";Mt.RequestStreamId="X-StreamId";Mt.RequestTimestamp="X-Timestamp";var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.AuthInfo=void 0;class Qk{constructor(e,r){this.privHeaderName=e,this.privToken=r}get headerName(){return this.privHeaderName}get token(){return this.privToken}}Si.AuthInfo=Qk;Object.defineProperty(Pu,"__esModule",{value:!0});Pu.CognitiveSubscriptionKeyAuthentication=void 0;const Xk=L(),Yk=Te,Zk=Si;class eO{constructor(e){if(!e)throw new Xk.ArgumentNullError("subscriptionKey");this.privAuthInfo=new Zk.AuthInfo(Yk.HeaderNames.AuthKey,e)}fetch(e){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(e){return Promise.resolve(this.privAuthInfo)}}Pu.CognitiveSubscriptionKeyAuthentication=eO;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.CognitiveTokenAuthentication=void 0;const Tg=L(),Ig=Si,Ag=Te;class sa{constructor(e,r){if(!e)throw new Tg.ArgumentNullError("fetchCallback");if(!r)throw new Tg.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=r}fetch(e){return this.privFetchCallback(e).then(r=>new Ig.AuthInfo(Ag.HeaderNames.Authorization,r===void 0?void 0:sa.privTokenPrefix+r))}fetchOnExpiry(e){return this.privFetchOnExpiryCallback(e).then(r=>new Ig.AuthInfo(Ag.HeaderNames.Authorization,r===void 0?void 0:sa.privTokenPrefix+r))}}Uu.CognitiveTokenAuthentication=sa;sa.privTokenPrefix="Bearer ";var WR={};Object.defineProperty(WR,"__esModule",{value:!0});var KR={};Object.defineProperty(KR,"__esModule",{value:!0});var Li={},Ep={},qu={};const tO={},rO=Object.freeze(Object.defineProperty({__proto__:null,default:tO},Symbol.toStringTag,{value:"Module"})),_n=QE(rO);var cf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0;const e=L();Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return e.EventType}})})(cf);var F={};Object.defineProperty(F,"__esModule",{value:!0});F.Contracts=void 0;class Cr{static throwIfNullOrUndefined(e,r){if(e==null)throw new Error("throwIfNullOrUndefined:"+r)}static throwIfNull(e,r){if(e===null)throw new Error("throwIfNull:"+r)}static throwIfNullOrWhitespace(e,r){if(Cr.throwIfNullOrUndefined(e,r),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+r)}static throwIfNullOrTooLong(e,r,n){if(Cr.throwIfNullOrUndefined(e,r),(""+e).length>n)throw new Error("throwIfNullOrTooLong:"+r+" (more than "+n.toString()+" characters)")}static throwIfNullOrTooShort(e,r,n){if(Cr.throwIfNullOrUndefined(e,r),(""+e).length<n)throw new Error("throwIfNullOrTooShort:"+r+" (less than "+n.toString()+" characters)")}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,r){if(Cr.throwIfNullOrUndefined(e,r),e.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+r);for(const n of e)Cr.throwIfNullOrWhitespace(n,r)}static throwIfFileDoesNotExist(e,r){Cr.throwIfNullOrWhitespace(e,r)}static throwIfNotUndefined(e,r){if(e!==void 0)throw new Error("throwIfNotUndefined:"+r)}}F.Contracts=Cr;var nO=W&&W.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iO=W&&W.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oO=W&&W.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&nO(e,t,r);return iO(e,t),e};Object.defineProperty(qu,"__esModule",{value:!0});qu.ConsoleLoggingListener=void 0;const _g=oO(_n),zi=cf,sO=F;class aO{constructor(e=zi.LogLevel.None){this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=e}set logPath(e){sO.Contracts.throwIfNullOrUndefined(_g.openSync,`
File System access not available`),this.privLogPath=e}set enableConsoleOutput(e){this.privEnableConsoleOutput=e}onEvent(e){if(e.eventType>=this.privLogLevelFilter){const r=this.toString(e);if(this.privLogPath&&_g.writeFileSync(this.privLogPath,r+`
`,{flag:"a+"}),this.privEnableConsoleOutput)switch(e.eventType){case zi.LogLevel.Debug:console.debug(r);break;case zi.LogLevel.Info:console.info(r);break;case zi.LogLevel.Warning:console.warn(r);break;case zi.LogLevel.Error:console.error(r);break;default:console.log(r);break}}}toString(e){const r=[`${e.eventTime}`,`${e.name}`],n=e;for(const i in n)if(i&&e.hasOwnProperty(i)&&i!=="eventTime"&&i!=="eventType"&&i!=="eventId"&&i!=="name"&&i!=="constructor"){const o=n[i];let a="<NULL>";o!=null&&(typeof o=="number"||typeof o=="string"?a=o.toString():a=JSON.stringify(o)),r.push(`${i}: ${a}`)}return r.join(" | ")}}qu.ConsoleLoggingListener=aO;var JR={};Object.defineProperty(JR,"__esModule",{value:!0});var Tp={},Vr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamFormatImpl=t.AudioStreamFormat=t.AudioFormatTag=void 0;var e;(function(i){i[i.PCM=1]="PCM",i[i.MuLaw=2]="MuLaw",i[i.Siren=3]="Siren",i[i.MP3=4]="MP3",i[i.SILKSkype=5]="SILKSkype",i[i.OGG_OPUS=6]="OGG_OPUS",i[i.WEBM_OPUS=7]="WEBM_OPUS",i[i.ALaw=8]="ALaw",i[i.FLAC=9]="FLAC",i[i.OPUS=10]="OPUS"})(e=t.AudioFormatTag||(t.AudioFormatTag={}));class r{static getDefaultInputFormat(){return n.getDefaultInputFormat()}static getWaveFormat(o,a,s,c){return new n(o,a,s,c)}static getWaveFormatPCM(o,a,s){return new n(o,a,s)}}t.AudioStreamFormat=r;class n extends r{constructor(o=16e3,a=16,s=1,c=e.PCM){super();let u=!0;switch(c){case e.PCM:this.formatTag=1;break;case e.ALaw:this.formatTag=6;break;case e.MuLaw:this.formatTag=7;break;default:u=!1}if(this.bitsPerSample=a,this.samplesPerSec=o,this.channels=s,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),u){this.privHeader=new ArrayBuffer(44);const l=new DataView(this.privHeader);this.setString(l,0,"RIFF"),l.setUint32(4,0,!0),this.setString(l,8,"WAVEfmt "),l.setUint32(16,16,!0),l.setUint16(20,this.formatTag,!0),l.setUint16(22,this.channels,!0),l.setUint32(24,this.samplesPerSec,!0),l.setUint32(28,this.avgBytesPerSec,!0),l.setUint16(32,this.channels*(this.bitsPerSample/8),!0),l.setUint16(34,this.bitsPerSample,!0),this.setString(l,36,"data"),l.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new n}static getAudioContext(o){const a=window.AudioContext||window.webkitAudioContext||!1;if(a)return o!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new a({sampleRate:o}):new a;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(o,a,s){for(let c=0;c<s.length;c++)o.setUint8(a+c,s.charCodeAt(c))}}t.AudioStreamFormatImpl=n})(Vr);var bg;function cO(){return bg||(bg=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MicAudioSource=t.AudioWorkletSourceURLPropertyName=void 0;const e=M(),r=L(),n=Vr;t.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class i{constructor(a,s,c,u){this.privRecorder=a,this.deviceId=s,this.privStreams={},this.privOutputChunkSize=i.AUDIOFORMAT.avgBytesPerSec/10,this.privId=c||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privMediaStream=u||null,this.privIsClosing=!1}get format(){return Promise.resolve(i.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(c){if(c instanceof Error){const u=c;this.privInitializeDeferral.reject(u.name+": "+u.message)}else this.privInitializeDeferral.reject(c);return this.privInitializeDeferral.promise}const a=window.navigator;let s=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia;if(a.mediaDevices&&(s=(c,u,l)=>{a.mediaDevices.getUserMedia(c).then(u).catch(l)}),s){const c=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):s({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},u=>{this.privMediaStream=u,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()},u=>{const l=`Error occurred during microphone initialization: ${u}`;this.privInitializeDeferral.reject(l),this.onEvent(new r.AudioSourceErrorEvent(this.privId,l))})};this.privContext.state==="suspended"?this.privContext.resume().then(c).catch(u=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${u}`)}):c()}else{const c="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(c),this.onEvent(new r.AudioSourceErrorEvent(c,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(a){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,a)),this.listen(a).then(s=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,a)),{detach:async()=>(s.readEnded(),delete this.privStreams[a],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,a)),this.turnOff()),id:()=>a,read:()=>s.read()}))}detach(a){a&&this.privStreams[a]&&(this.privStreams[a].close(),delete this.privStreams[a],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,a)))}async turnOff(){for(const a in this.privStreams)if(a){const s=this.privStreams[a];s&&s.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(a=>({bitspersample:i.AUDIOFORMAT.bitsPerSample,channelcount:i.AUDIOFORMAT.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:a,samplerate:i.AUDIOFORMAT.samplesPerSec,type:e.type.Microphones}))}setProperty(a,s){if(a===t.AudioWorkletSourceURLPropertyName)this.privRecorder.setWorkletUrl(s);else throw new Error("Property '"+a+"' is not supported on Microphone.")}getMicrophoneLabel(){const a="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(a);this.privMicrophoneLabel=a;const s=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(s===void 0)return Promise.resolve(this.privMicrophoneLabel);const c=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then(u=>{for(const l of u)if(l.deviceId===s){this.privMicrophoneLabel=l.label;break}c.resolve(this.privMicrophoneLabel)},()=>c.resolve(this.privMicrophoneLabel)),c.promise}async listen(a){await this.turnOn();const s=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,a);this.privStreams[a]=s;try{this.privRecorder.record(this.privContext,this.privMediaStream,s)}catch(u){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,a,u)),u}return s}onEvent(a){this.privEvents.onEvent(a),r.Events.instance.onEvent(a)}createAudioContext(){this.privContext||(this.privContext=n.AudioStreamFormatImpl.getAudioContext(i.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let a=!1;"close"in this.privContext&&(a=!0),a?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&await this.privContext.suspend()}}t.MicAudioSource=i,i.AUDIOFORMAT=n.AudioStreamFormat.getDefaultInputFormat()}(Tp)),Tp}var ji={},kg;function uO(){if(kg)return ji;kg=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.FileAudioSource=void 0;const t=M(),e=L(),r=Vr;let n=class{constructor(o,a,s){this.privStreams={},this.privHeaderEnd=44,this.privId=s||e.createNoDashGuid(),this.privEvents=new e.EventSource,this.privSource=o,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=o.name:this.privFilename=a||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const o=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new e.AudioSourceErrorEvent(o,"")),Promise.reject(o)}this.onEvent(new e.AudioSourceInitializingEvent(this.privId)),this.onEvent(new e.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(o){this.onEvent(new e.AudioStreamNodeAttachingEvent(this.privId,o));const a=await this.upload(o);return this.onEvent(new e.AudioStreamNodeAttachedEvent(this.privId,o)),Promise.resolve({detach:async()=>{a.readEnded(),delete this.privStreams[o],this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,o)),await this.turnOff()},id:()=>o,read:()=>a.read()})}detach(o){o&&this.privStreams[o]&&(this.privStreams[o].close(),delete this.privStreams[o],this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,o)))}turnOff(){for(const o in this.privStreams)if(o){const a=this.privStreams[o];a&&!a.isClosed&&a.close()}return this.onEvent(new e.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(o=>Promise.resolve({bitspersample:o.bitsPerSample,channelcount:o.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:o.samplesPerSec,type:t.type.File}))}readHeader(){const a=this.privSource.slice(0,4296),s=new e.Deferred,c=u=>{const l=new DataView(u),p=v=>String.fromCharCode(l.getUint8(v),l.getUint8(v+1),l.getUint8(v+2),l.getUint8(v+3));if(p(0)!=="RIFF"){s.reject("Invalid WAV header in file, RIFF was not found");return}if(p(8)!=="WAVE"||p(12)!=="fmt "){s.reject("Invalid WAV header in file, WAVEfmt was not found");return}const d=l.getInt32(16,!0),h=l.getUint16(22,!0),f=l.getUint32(24,!0),g=l.getUint16(34,!0);let y=36+Math.max(d-16,0);for(;p(y)!=="data";y+=2)if(y>4288){s.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=y+8,s.resolve(r.AudioStreamFormat.getWaveFormatPCM(f,g,h))};if(typeof window<"u"&&typeof Blob<"u"&&a instanceof Blob){const u=new FileReader;u.onload=l=>{const p=l.target.result;c(p)},u.readAsArrayBuffer(a)}else{const u=a;c(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength))}return s.promise}async upload(o){const a=s=>{const c=`Error occurred while processing '${this.privFilename}'. ${s}`;throw this.onEvent(new e.AudioStreamNodeErrorEvent(this.privId,o,c)),new Error(c)};try{await this.turnOn();const s=await this.privAudioFormatPromise,c=new e.ChunkedArrayBufferStream(s.avgBytesPerSec/10,o);this.privStreams[o]=c;const u=this.privSource.slice(this.privHeaderEnd),l=p=>{c.isClosed||(c.writeStreamChunk({buffer:p,isEnd:!1,timeReceived:Date.now()}),c.close())};if(typeof window<"u"&&typeof Blob<"u"&&u instanceof Blob){const p=new FileReader;p.onerror=d=>a(d.toString()),p.onload=d=>{const h=d.target.result;l(h)},p.readAsArrayBuffer(u)}else{const p=u;l(p.buffer.slice(p.byteOffset,p.byteOffset+p.byteLength))}return c}catch(s){a(s)}}onEvent(o){this.privEvents.onEvent(o),e.Events.instance.onEvent(o)}};return ji.FileAudioSource=n,ji}var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.PcmRecorder=void 0;const lO=L();class pO{constructor(e){this.privStopInputOnRelease=e}record(e,r,n){const o=new lO.RiffPcmEncoder(e.sampleRate,16e3),a=e.createMediaStreamSource(r),s=()=>{const u=(()=>{let l=0;try{return e.createScriptProcessor(l,1,1)}catch{l=2048;let d=e.sampleRate;for(;l<16384&&d>=32e3;)l<<=1,d>>=1;return e.createScriptProcessor(l,1,1)}})();u.onaudioprocess=l=>{const p=l.inputBuffer.getChannelData(0);if(n&&!n.isClosed){const d=o.encode(p);d&&n.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}},a.connect(u),u.connect(e.destination),this.privMediaResources={scriptProcessorNode:u,source:a,stream:r}},c=!!this.privSpeechProcessorScript&&this.privSpeechProcessorScript.toLowerCase()==="ignore";if(e.audioWorklet&&!c){if(!this.privSpeechProcessorScript){const u=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,l=new Blob([u],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(l)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const u=new AudioWorkletNode(e,"speech-processor");u.port.onmessage=l=>{const p=l.data;if(n&&!n.isClosed){const d=o.encode(p);d&&n.writeStreamChunk({buffer:d,isEnd:!1,timeReceived:Date.now()})}},a.connect(u),u.connect(e.destination),this.privMediaResources={scriptProcessorNode:u,source:a,stream:r}}).catch(()=>{s()})}else try{s()}catch(u){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${u}`)}}releaseMediaResources(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(r=>r.stop()),this.privMediaResources.source=null))}setWorkletUrl(e){this.privSpeechProcessorScript=e}}Vu.PcmRecorder=pO;var Hu={},wa={},dO=W&&W.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hO=W&&W.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GR=W&&W.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&dO(e,t,r);return hO(e,t),e},uf=W&&W.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});wa.WebsocketMessageAdapter=void 0;const fO=GR(_n),vO=GR(_n),gO=uf(_n),mO=uf(_n),yO=uf(_n),SO=Te,$=L();class aa{constructor(e,r,n,i,o,a){if(!e)throw new $.ArgumentNullError("uri");if(!n)throw new $.ArgumentNullError("messageFormatter");this.proxyInfo=i,this.privConnectionEvents=new $.EventSource,this.privConnectionId=r,this.privMessageFormatter=n,this.privConnectionState=$.ConnectionState.None,this.privUri=e,this.privHeaders=o,this.privEnableCompression=a,this.privHeaders[SO.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===$.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new $.Deferred,this.privCertificateValidatedDeferral=new $.Deferred,this.privConnectionState=$.ConnectionState.Connecting;try{if(typeof WebSocket<"u"&&!aa.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{const e={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),e.agent=this.getAgent();let n=new URL(this.privUri).protocol;(n==null?void 0:n.toLocaleLowerCase())==="wss:"?n="https:":(n==null?void 0:n.toLocaleLowerCase())==="ws:"&&(n="http:"),e.agent.protocol=n,this.privWebsocketClient=new yO.default(this.privUri,e)}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new $.Queue,this.privDisconnectDeferral=new $.Deferred,this.privSendMessageQueue=new $.Queue,this.processSendQueue().catch(e=>{$.Events.instance.onEvent(new $.BackgroundEvent(e))})}catch(e){return this.privConnectionEstablishDeferral.resolve(new $.ConnectionOpenResponse(500,e)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new $.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=$.ConnectionState.Connected,this.onEvent(new $.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new $.ConnectionOpenResponse(200,""))},e=>{this.privConnectionEstablishDeferral.reject(e)})},this.privWebsocketClient.onerror=e=>{this.onEvent(new $.ConnectionErrorEvent(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===$.ConnectionState.Connecting?(this.privConnectionState=$.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new $.ConnectionOpenResponse(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=$.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new $.ConnectionClosedEvent(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch(r=>{$.Events.instance.onEvent(new $.BackgroundEvent(r))})},this.privWebsocketClient.onmessage=e=>{const r=new Date().toISOString();if(this.privConnectionState===$.ConnectionState.Connected){const n=new $.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(n.promise),e.data instanceof ArrayBuffer){const i=new $.RawWebsocketMessage($.MessageType.Binary,e.data);this.privMessageFormatter.toConnectionMessage(i).then(o=>{this.onEvent(new $.ConnectionMessageReceivedEvent(this.privConnectionId,r,o)),n.resolve(o)},o=>{n.reject(`Invalid binary message format. Error: ${o}`)})}else{const i=new $.RawWebsocketMessage($.MessageType.Text,e.data);this.privMessageFormatter.toConnectionMessage(i).then(o=>{this.onEvent(new $.ConnectionMessageReceivedEvent(this.privConnectionId,r,o)),n.resolve(o)},o=>{n.reject(`Invalid text message format. Error: ${o}`)})}}},this.privConnectionEstablishDeferral.promise}send(e){if(this.privConnectionState!==$.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${$.ConnectionState[this.privConnectionState]} state`);const r=new $.Deferred,n=new $.Deferred;return this.privSendMessageQueue.enqueueFromPromise(n.promise),this.privMessageFormatter.fromConnectionMessage(e).then(i=>{n.resolve({Message:e,RawWebsocketMessage:i,sendStatusDeferral:r})},i=>{n.reject(`Error formatting the message. ${i}`)}),r.promise}read(){return this.privConnectionState!==$.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(e){if(this.privWebsocketClient)this.privConnectionState!==$.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(e){try{if(!e)return Promise.resolve();if(this.onEvent(new $.ConnectionMessageSentEvent(this.privConnectionId,new Date().toISOString(),e.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(e.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+new Error().stack);return Promise.resolve()}catch(r){return Promise.reject(`websocket send error: ${r}`)}}async onClose(e,r){const n=`Connection closed. ${e}: ${r}`;this.privConnectionState=$.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose(()=>{},n),await this.privSendMessageQueue.drainAndDispose(i=>{i.sendStatusDeferral.reject(n)},n)}async processSendQueue(){for(;;){const r=await this.privSendMessageQueue.dequeue();if(!r)return;try{await this.sendRawMessage(r),r.sendStatusDeferral.resolve()}catch(n){r.sendStatusDeferral.reject(n)}}}onEvent(e){this.privConnectionEvents.onEvent(e),$.Events.instance.onEvent(e)}getAgent(){const e=new gO.default.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(e.proxyInfo=this.proxyInfo),e}static GetProxyAgent(e){const r={host:e.HostName,port:e.Port};return e.UserName?r.headers={"Proxy-Authentication":"Basic "+new Buffer(`${e.UserName}:${e.Password===void 0?"":e.Password}`).toString("base64")}:r.headers={},r.headers.requestOCSP="true",new mO.default(r)}createConnection(e,r){let n;if(r={...r,requestOCSP:!0,servername:r.host},this.proxyInfo){const o=aa.GetProxyAgent(this.proxyInfo);n=new Promise((a,s)=>{o.callback(e,r,(c,u)=>{c?s(c):a(u)})})}else r.secureEndpoint?n=Promise.resolve(vO.connect(r)):n=Promise.resolve(fO.connect(r));return n}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}wa.WebsocketMessageAdapter=aa;aa.forceNpmWebSocket=!1;Object.defineProperty(Hu,"__esModule",{value:!0});Hu.WebsocketConnection=void 0;const Ip=L(),CO=wa;class PO{constructor(e,r,n,i,o,a=!1,s){if(this.privIsDisposed=!1,!e)throw new Ip.ArgumentNullError("uri");if(!i)throw new Ip.ArgumentNullError("messageFormatter");this.privMessageFormatter=i;let c="",u=0;if(r){for(const l in r)if(l){c+=u===0&&e.indexOf("?")===-1?"?":"&";const p=encodeURIComponent(l);c+=p;let d=r[l];d&&(d=encodeURIComponent(d),c+=`=${d}`),u++}}if(n){for(const l in n)if(l){c+=u===0&&e.indexOf("?")===-1?"?":"&";const p=encodeURIComponent(n[l]);c+=`${l}=${p}`,u++}}this.privUri=e+c,this.privId=s||Ip.createNoDashGuid(),this.privConnectionMessageAdapter=new CO.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,o,n,a)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(e){return this.privConnectionMessageAdapter.send(e)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}Hu.WebsocketConnection=PO;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.ReplayableAudioNode=void 0;class RO{constructor(e,r){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=e,this.privBytesPerSecond=r}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const e=this.privReplayOffset-this.privBufferStartOffset;let r=Math.round(e*this.privBytesPerSecond*1e-7);r%2!==0&&r++;let n=0;for(;n<this.privBuffers.length&&r>=this.privBuffers[n].chunk.buffer.byteLength;)r-=this.privBuffers[n++].chunk.buffer.byteLength;if(n<this.privBuffers.length){const i=this.privBuffers[n].chunk.buffer.slice(r);return this.privReplayOffset+=i.byteLength/this.privBytesPerSecond*1e7,n===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:i,isEnd:!1,timeReceived:this.privBuffers[n].chunk.timeReceived})}}return this.privAudioNode.read().then(e=>(e&&e.buffer&&(this.privBuffers.push(new wO(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=e;const r=e-this.privBufferStartOffset;let n=Math.round(r*this.privBytesPerSecond*1e-7),i=0;for(;i<this.privBuffers.length&&n>=this.privBuffers[i].chunk.buffer.byteLength;)n-=this.privBuffers[i++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-n/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(i)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const r of this.privBuffers){const n=r.byteOffset/this.privBytesPerSecond*1e7,i=n+r.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=n&&e<=i)return r.chunk.timeReceived}return 0}}Wu.ReplayableAudioNode=RO;class wO{constructor(e,r,n){this.chunk=e,this.serial=r,this.byteOffset=n}}var Fi={},Ap={},Kt={},Ea={},EO=W&&W.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TO=W&&W.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IO=W&&W.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&EO(e,t,r);return TO(e,t),e};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.AudioFileWriter=void 0;const Bi=IO(_n),_p=F;class AO{constructor(e){_p.Contracts.throwIfNullOrUndefined(Bi.openSync,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=Bi.openSync(e,"w")}set format(e){_p.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let r=0;this.privAudioFormat.hasHeader&&(r=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=Bi.createWriteStream("",{fd:this.privFd,start:r,autoClose:!1}))}write(e){_p.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),Bi.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),Bi.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}}Ea.AudioFileWriter=AO;var nt={},Og;function QR(){if(Og)return nt;Og=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.PullAudioInputStreamImpl=nt.PullAudioInputStream=nt.PushAudioInputStreamImpl=nt.PushAudioInputStream=nt.AudioInputStream=void 0;const t=M(),e=L(),r=wt,n=A(),i=Vr;let o=class{constructor(){}static createPushStream(p){return a.create(p)}static createPullStream(p,d){return c.create(p,d)}};nt.AudioInputStream=o;class a extends o{static create(p){return new s(p)}}nt.PushAudioInputStream=a;class s extends a{constructor(p){super(),p===void 0?this.privFormat=i.AudioStreamFormatImpl.getDefaultInputFormat():this.privFormat=p,this.privEvents=new e.EventSource,this.privId=r.createNoDashGuid(),this.privStream=new e.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(p){this.privStream.writeStreamChunk({buffer:p,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new e.AudioSourceInitializingEvent(this.privId)),this.onEvent(new e.AudioSourceReadyEvent(this.privId))}async attach(p){this.onEvent(new e.AudioStreamNodeAttachingEvent(this.privId,p)),await this.turnOn();const d=this.privStream;return this.onEvent(new e.AudioStreamNodeAttachedEvent(this.privId,p)),{detach:async()=>(this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,p)),this.turnOff()),id:()=>p,read:()=>d.read()}}detach(p){this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,p))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:t.type.Stream})}onEvent(p){this.privEvents.onEvent(p),e.Events.instance.onEvent(p)}toBuffer(p){const d=Buffer.alloc(p.byteLength),h=new Uint8Array(p);for(let f=0;f<d.length;++f)d[f]=h[f];return d}}nt.PushAudioInputStreamImpl=s;class c extends o{constructor(){super()}static create(p,d){return new u(p,d)}}nt.PullAudioInputStream=c;class u extends c{constructor(p,d){super(),d===void 0?this.privFormat=n.AudioStreamFormat.getDefaultInputFormat():this.privFormat=d,this.privEvents=new e.EventSource,this.privId=r.createNoDashGuid(),this.privCallback=p,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new e.AudioSourceInitializingEvent(this.privId)),this.onEvent(new e.AudioSourceReadyEvent(this.privId))}async attach(p){return this.onEvent(new e.AudioStreamNodeAttachingEvent(this.privId,p)),await this.turnOn(),this.onEvent(new e.AudioStreamNodeAttachedEvent(this.privId,p)),{detach:()=>(this.privCallback.close(),this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,p)),this.turnOff()),id:()=>p,read:()=>{let d=0,h;for(;d<this.privBufferSize;){const f=new ArrayBuffer(this.privBufferSize-d),g=this.privCallback.read(f);if(h===void 0?h=f:new Int8Array(h).set(new Int8Array(f),d),g===0)break;d+=g}return Promise.resolve({buffer:h.slice(0,d),isEnd:this.privIsClosed||d===0,timeReceived:Date.now()})}}}detach(p){this.onEvent(new e.AudioStreamNodeDetachedEvent(this.privId,p))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:t.type.Stream})}onEvent(p){this.privEvents.onEvent(p),e.Events.instance.onEvent(p)}}return nt.PullAudioInputStreamImpl=u,nt}var be={},Hr={},lf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisOutputFormat=void 0,function(e){e[e.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",e[e.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",e[e.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",e[e.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",e[e.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",e[e.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",e[e.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",e[e.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",e[e.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",e[e.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",e[e.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",e[e.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",e[e.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",e[e.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",e[e.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",e[e.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",e[e.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",e[e.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",e[e.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",e[e.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",e[e.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",e[e.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",e[e.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",e[e.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",e[e.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",e[e.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",e[e.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",e[e.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",e[e.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",e[e.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",e[e.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",e[e.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",e[e.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",e[e.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",e[e.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",e[e.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",e[e.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm"}(t.SpeechSynthesisOutputFormat||(t.SpeechSynthesisOutputFormat={}))})(lf);Object.defineProperty(Hr,"__esModule",{value:!0});Hr.AudioOutputFormatImpl=void 0;const K=lf,V=Vr;class B extends V.AudioStreamFormatImpl{constructor(e,r,n,i,o,a,s,c,u){super(n,a,r,e),this.formatTag=e,this.avgBytesPerSec=i,this.blockAlign=o,this.priAudioFormatString=s,this.priRequestAudioFormatString=c,this.priHasHeader=u}static fromSpeechSynthesisOutputFormat(e){return e===void 0?B.getDefaultOutputFormat():B.fromSpeechSynthesisOutputFormatString(B.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new B(V.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new B(V.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new B(V.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new B(V.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new B(V.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new B(V.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new B(V.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new B(V.AudioFormatTag.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new B(V.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new B(V.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new B(V.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new B(V.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new B(V.AudioFormatTag.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new B(V.AudioFormatTag.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new B(V.AudioFormatTag.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new B(V.AudioFormatTag.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new B(V.AudioFormatTag.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new B(V.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new B(V.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new B(V.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new B(V.AudioFormatTag.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);case"riff-16khz-16bit-mono-pcm":default:return new B(V.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return B.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){const r=new DataView(this.privHeader);r.setUint32(4,e+this.privHeader.byteLength-8,!0),r.setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(e){if(!this.hasHeader)return e;this.updateHeader(e.byteLength);const r=new Uint8Array(e.byteLength+this.header.byteLength);return r.set(new Uint8Array(this.header),0),r.set(new Uint8Array(e),this.header.byteLength),r.buffer}}Hr.AudioOutputFormatImpl=B;B.SpeechSynthesisOutputFormatToString={[K.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[K.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[K.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[K.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[K.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[K.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[K.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[K.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[K.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[K.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[K.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[K.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[K.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[K.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[K.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[K.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[K.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[K.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[K.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[K.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm"};Object.defineProperty(be,"__esModule",{value:!0});be.PushAudioOutputStreamImpl=be.PushAudioOutputStream=be.PullAudioOutputStreamImpl=be.PullAudioOutputStream=be.AudioOutputStream=void 0;const Kd=L(),_O=F,bO=Hr;class pf{constructor(){}static createPullStream(){return df.create()}}be.AudioOutputStream=pf;class df extends pf{static create(){return new XR}}be.PullAudioOutputStream=df;class XR extends df{constructor(){super(),this.privId=Kd.createNoDashGuid(),this.privStream=new Kd.Stream}set format(e){e==null&&(this.privFormat=bO.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(e){const r=new Int8Array(e);let n=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>e.byteLength)return r.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);r.set(this.privLastChunkView),n=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;n<e.byteLength&&!this.privStream.isReadEnded;){const i=await this.privStream.read();if(i!==void 0&&!i.isEnd){let o;i.buffer.byteLength>e.byteLength-n?(o=i.buffer.slice(0,e.byteLength-n),this.privLastChunkView=new Int8Array(i.buffer.slice(e.byteLength-n))):o=i.buffer,r.set(new Int8Array(o),n),n+=o.byteLength}else this.privStream.readEnded()}return n}write(e){_O.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}be.PullAudioOutputStreamImpl=XR;class YR extends pf{constructor(){super()}static create(e){return new ZR(e)}}be.PushAudioOutputStream=YR;class ZR extends YR{constructor(e){super(),this.privId=Kd.createNoDashGuid(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}be.PushAudioOutputStreamImpl=ZR;var Mg;function tw(){if(Mg)return Kt;Mg=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.AudioOutputConfigImpl=Kt.AudioConfigImpl=Kt.AudioConfig=void 0;const t=Ie(),e=F,r=A(),n=Ea,i=QR(),o=be;let a=class ew{static fromDefaultMicrophoneInput(){const l=new t.PcmRecorder(!0);return new s(new t.MicAudioSource(l))}static fromMicrophoneInput(l){const p=new t.PcmRecorder(!0);return new s(new t.MicAudioSource(p,l))}static fromWavFileInput(l,p="unnamedBuffer.wav"){return new s(new t.FileAudioSource(l,p))}static fromStreamInput(l){if(l instanceof r.PullAudioInputStreamCallback)return new s(new i.PullAudioInputStreamImpl(l));if(l instanceof r.AudioInputStream)return new s(l);if(typeof MediaStream<"u"&&l instanceof MediaStream){const p=new t.PcmRecorder(!1);return new s(new t.MicAudioSource(p,null,null,l))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new c(new r.SpeakerAudioDestination)}static fromSpeakerOutput(l){if(l===void 0)return ew.fromDefaultSpeakerOutput();if(l instanceof r.SpeakerAudioDestination)return new c(l);throw new Error("Not Supported Type")}static fromAudioFileOutput(l){return new c(new n.AudioFileWriter(l))}static fromStreamOutput(l){if(l instanceof r.PushAudioOutputStreamCallback)return new c(new o.PushAudioOutputStreamImpl(l));if(l instanceof r.PushAudioOutputStream)return new c(l);if(l instanceof r.PullAudioOutputStream)return new c(l);throw new Error("Not Supported Type")}};Kt.AudioConfig=a;class s extends a{constructor(l){super(),this.privSource=l}get format(){return this.privSource.format}close(l,p){this.privSource.turnOff().then(()=>{l&&l()},d=>{p&&p(d)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(l){return this.privSource.attach(l)}detach(l){return this.privSource.detach(l)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(l,p){if(e.Contracts.throwIfNull(p,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(l,p);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(l,p){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(l,p);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}Kt.AudioConfigImpl=s;class c extends a{constructor(l){super(),this.privDestination=l}set format(l){this.privDestination.format=l}write(l){this.privDestination.write(l)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}return Kt.AudioOutputConfigImpl=c,Kt}var rw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationReason=void 0,function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(t.CancellationReason||(t.CancellationReason={}))})(rw);var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.PullAudioInputStreamCallback=void 0;class kO{}Ku.PullAudioInputStreamCallback=kO;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.PushAudioOutputStreamCallback=void 0;class OO{}Ju.PushAudioOutputStreamCallback=OO;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.KeywordRecognitionModel=void 0;const Dg=F;class MO{constructor(){this.privDisposed=!1}static fromFile(e){throw Dg.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")}static fromStream(e){throw Dg.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}}Gu.KeywordRecognitionModel=MO;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.SessionEventArgs=void 0;class DO{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}Qu.SessionEventArgs=DO;var $i={},Ng;function NO(){if(Ng)return $i;Ng=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.RecognitionEventArgs=void 0;const t=A();let e=class extends t.SessionEventArgs{constructor(n,i){super(i),this.privOffset=n}get offset(){return this.privOffset}};return $i.RecognitionEventArgs=e,$i}var nw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.OutputFormat=void 0,function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(t.OutputFormat||(t.OutputFormat={}))})(nw);var Ui={},xg;function xO(){if(xg)return Ui;xg=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.IntentRecognitionEventArgs=void 0;const t=A();let e=class extends t.RecognitionEventArgs{constructor(n,i,o){super(i,o),this.privResult=n}get result(){return this.privResult}};return Ui.IntentRecognitionEventArgs=e,Ui}var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.RecognitionResult=void 0;class LO{constructor(e,r,n,i,o,a,s,c,u,l){this.privResultId=e,this.privReason=r,this.privText=n,this.privDuration=i,this.privOffset=o,this.privLanguage=a,this.privLanguageDetectionConfidence=s,this.privErrorDetails=c,this.privJson=u,this.privProperties=l}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}Xu.RecognitionResult=LO;var qi={},Lg;function zO(){if(Lg)return qi;Lg=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.SpeechRecognitionResult=void 0;const t=A();let e=class extends t.RecognitionResult{constructor(n,i,o,a,s,c,u,l,p,d,h){super(n,i,o,a,s,c,u,p,d,h),this.privSpeakerId=l}get speakerId(){return this.privSpeakerId}};return qi.SpeechRecognitionResult=e,qi}var Vi={},zg;function jO(){if(zg)return Vi;zg=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.IntentRecognitionResult=void 0;const t=A();let e=class extends t.SpeechRecognitionResult{constructor(n,i,o,a,s,c,u,l,p,d,h){super(i,o,a,s,c,u,l,void 0,p,d,h),this.privIntentId=n}get intentId(){return this.privIntentId}};return Vi.IntentRecognitionResult=e,Vi}var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.LanguageUnderstandingModelImpl=ci.LanguageUnderstandingModel=void 0;const On=F;class iw{constructor(){}static fromEndpoint(e){On.Contracts.throwIfNull(e,"uri"),On.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");const r=new yc,n=e.host.indexOf(".");if(n===-1)throw new Error("Could not determine region from endpoint");r.region=e.host.substr(0,n);const i=e.pathname.lastIndexOf("/")+1;if(i===-1)throw new Error("Could not determine appId from endpoint");if(r.appId=e.pathname.substr(i),r.subscriptionKey=e.searchParams.get("subscription-key"),r.subscriptionKey===void 0)throw new Error("Could not determine subscription key from endpoint");return r}static fromAppId(e){On.Contracts.throwIfNullOrWhitespace(e,"appId");const r=new yc;return r.appId=e,r}static fromSubscription(e,r,n){On.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),On.Contracts.throwIfNullOrWhitespace(r,"appId"),On.Contracts.throwIfNullOrWhitespace(n,"region");const i=new yc;return i.appId=r,i.region=n,i.subscriptionKey=e,i}}ci.LanguageUnderstandingModel=iw;class yc extends iw{}ci.LanguageUnderstandingModelImpl=yc;var Jt={},jg;function FO(){if(jg)return Jt;jg=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.MeetingTranscriptionEventArgs=Jt.ConversationTranscriptionEventArgs=Jt.SpeechRecognitionEventArgs=void 0;const t=A();let e=class extends t.RecognitionEventArgs{constructor(o,a,s){super(a,s),this.privResult=o}get result(){return this.privResult}};Jt.SpeechRecognitionEventArgs=e;class r extends t.RecognitionEventArgs{constructor(o,a,s){super(a,s),this.privResult=o}get result(){return this.privResult}}Jt.ConversationTranscriptionEventArgs=r;class n extends e{}return Jt.MeetingTranscriptionEventArgs=n,Jt}var Hi={},Wi={},Fg;function Ta(){if(Fg)return Wi;Fg=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.CancellationEventArgsBase=void 0;const t=A();let e=class extends t.RecognitionEventArgs{constructor(n,i,o,a,s){super(a,s),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=o}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return Wi.CancellationEventArgsBase=e,Wi}var Bg;function BO(){if(Bg)return Hi;Bg=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.SpeechRecognitionCanceledEventArgs=void 0;const t=Ta();let e=class extends t.CancellationEventArgsBase{};return Hi.SpeechRecognitionCanceledEventArgs=e,Hi}var Ki={},$g;function $O(){if($g)return Ki;$g=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.TranslationRecognitionEventArgs=void 0;const t=A();let e=class extends t.RecognitionEventArgs{constructor(n,i,o){super(i,o),this.privResult=n}get result(){return this.privResult}};return Ki.TranslationRecognitionEventArgs=e,Ki}var Ji={},Ug;function UO(){if(Ug)return Ji;Ug=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.TranslationSynthesisEventArgs=void 0;const t=A();let e=class extends t.SessionEventArgs{constructor(n,i){super(i),this.privResult=n}get result(){return this.privResult}};return Ji.TranslationSynthesisEventArgs=e,Ji}var Gi={},qg;function sw(){if(qg)return Gi;qg=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.TranslationRecognitionResult=void 0;const t=A();let e=class ow extends t.SpeechRecognitionResult{constructor(n,i,o,a,s,c,u,l,p,d,h){super(i,o,a,s,c,u,l,void 0,p,d,h),this.privTranslations=n}static fromSpeechRecognitionResult(n){return new ow(void 0,n.resultId,n.reason,n.text,n.duration,n.offset,n.language,n.languageDetectionConfidence,n.errorDetails,n.json,n.properties)}get translations(){return this.privTranslations}};return Gi.TranslationRecognitionResult=e,Gi}var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.TranslationSynthesisResult=void 0;class qO{constructor(e,r){this.privReason=e,this.privAudio=r}get audio(){return this.privAudio}get reason(){return this.privReason}}Yu.TranslationSynthesisResult=qO;var aw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ResultReason=void 0,function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizedKeyword=4]="RecognizedKeyword",e[e.RecognizingIntent=5]="RecognizingIntent",e[e.RecognizedIntent=6]="RecognizedIntent",e[e.TranslatingSpeech=7]="TranslatingSpeech",e[e.TranslatedSpeech=8]="TranslatedSpeech",e[e.SynthesizingAudio=9]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",e[e.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",e[e.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",e[e.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",e[e.RecognizedSpeakers=14]="RecognizedSpeakers",e[e.RecognizedSpeaker=15]="RecognizedSpeaker",e[e.ResetVoiceProfile=16]="ResetVoiceProfile",e[e.DeletedVoiceProfile=17]="DeletedVoiceProfile",e[e.VoicesListRetrieved=18]="VoicesListRetrieved",e[e.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",e[e.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",e[e.TranslatedInstantMessage=21]="TranslatedInstantMessage",e[e.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(t.ResultReason||(t.ResultReason={}))})(aw);var Wr={},Vg;function VO(){if(Vg)return Wr;Vg=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.SpeechConfigImpl=Wr.SpeechConfig=void 0;const t=M(),e=F,r=A();let n=class{constructor(){}static fromSubscription(a,s){e.Contracts.throwIfNullOrWhitespace(a,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(s,"region");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Region,s),c.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,s),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c}static fromEndpoint(a,s){e.Contracts.throwIfNull(a,"endpoint");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,a.href),s!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,s),c}static fromHost(a,s){e.Contracts.throwIfNull(a,"hostName");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Host,a.protocol+"//"+a.hostname+(a.port===""?"":":"+a.port)),s!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,s),c}static fromAuthorizationToken(a,s){e.Contracts.throwIfNull(a,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(s,"region");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Region,s),c.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,s),c.authorizationToken=a,c}close(){}};Wr.SpeechConfig=n;class i extends n{constructor(){super(),this.privProperties=new r.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=r.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,a)}get speechRecognitionLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,a)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,a)}get outputFormat(){return r.OutputFormat[this.privProperties.getProperty(t.OutputFormatPropertyName,void 0)]}set outputFormat(a){this.privProperties.setProperty(t.OutputFormatPropertyName,r.OutputFormat[a])}get endpointId(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,a)}setProperty(a,s){e.Contracts.throwIfNull(s,"value"),this.privProperties.setProperty(a,s)}getProperty(a,s){return this.privProperties.getProperty(a,s)}setProxy(a,s,c,u){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],s),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],u)}setServiceProperty(a,s){const c=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));c[a]=s,this.privProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(c))}setProfanity(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[a])}enableAudioLogging(){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privProperties.setProperty(t.ForceDictationPropertyName,"true")}clone(){const a=new i;return a.privProperties=this.privProperties.clone(),a}get speechSynthesisLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,a)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,a)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(a){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[a])}}return Wr.SpeechConfigImpl=i,Wr}var Kr={},Hg;function HO(){if(Hg)return Kr;Hg=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.SpeechTranslationConfigImpl=Kr.SpeechTranslationConfig=void 0;const t=M(),e=F,r=A();let n=class extends r.SpeechConfig{constructor(){super()}static fromSubscription(a,s){e.Contracts.throwIfNullOrWhitespace(a,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(s,"region");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,s),c}static fromAuthorizationToken(a,s){e.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(s,"region");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,a),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,s),c}static fromHost(a,s){e.Contracts.throwIfNull(a,"hostName");const c=new i;return c.setProperty(r.PropertyId.SpeechServiceConnection_Host,a.protocol+"//"+a.hostname+(a.port===""?"":":"+a.port)),s!==void 0&&c.setProperty(r.PropertyId.SpeechServiceConnection_Key,s),c}static fromEndpoint(a,s){e.Contracts.throwIfNull(a,"endpoint"),e.Contracts.throwIfNull(s,"subscriptionKey");const c=new i;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,a.href),c.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,s),c}};Kr.SpeechTranslationConfig=n;class i extends n{constructor(){super(),this.privSpeechProperties=new r.PropertyCollection,this.outputFormat=r.OutputFormat.Simple}set authorizationToken(a){e.Contracts.throwIfNullOrWhitespace(a,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,a)}set speechRecognitionLanguage(a){e.Contracts.throwIfNullOrWhitespace(a,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,a)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return r.OutputFormat[this.privSpeechProperties.getProperty(t.OutputFormatPropertyName,void 0)]}set outputFormat(a){this.privSpeechProperties.setProperty(t.OutputFormatPropertyName,r.OutputFormat[a])}get endpointId(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(a){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,a)}addTargetLanguage(a){e.Contracts.throwIfNullOrWhitespace(a,"value");const s=this.targetLanguages;s.includes(a)||(s.push(a),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,s.join(",")))}get targetLanguages(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(a){e.Contracts.throwIfNullOrWhitespace(a,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,a)}get region(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}setProxy(a,s,c,u){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],s),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],u)}getProperty(a,s){return this.privSpeechProperties.getProperty(a,s)}setProperty(a,s){this.privSpeechProperties.setProperty(a,s)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(a,s){const c=JSON.parse(this.privSpeechProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));c[a]=s,this.privSpeechProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(c))}setProfanity(a){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[a])}enableAudioLogging(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(t.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(a){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,a)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(a){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,a)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(a){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[a])}}return Kr.SpeechTranslationConfigImpl=i,Kr}var Qi={},Wg;function uw(){if(Wg)return Qi;Wg=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.PropertyCollection=void 0;const t=A();let e=class cw{constructor(){this.privKeys=[],this.privValues=[]}getProperty(n,i){let o;typeof n=="string"?o=n:o=t.PropertyId[n];for(let a=0;a<this.privKeys.length;a++)if(this.privKeys[a]===o)return this.privValues[a];if(i!==void 0)return String(i)}setProperty(n,i){let o;typeof n=="string"?o=n:o=t.PropertyId[n];for(let a=0;a<this.privKeys.length;a++)if(this.privKeys[a]===o){this.privValues[a]=i;return}this.privKeys.push(o),this.privValues.push(i)}clone(){const n=new cw;for(let i=0;i<this.privKeys.length;i++)n.privKeys.push(this.privKeys[i]),n.privValues.push(this.privValues[i]);return n}mergeTo(n){this.privKeys.forEach(i=>{if(n.getProperty(i,void 0)===void 0){const o=this.getProperty(i);n.setProperty(i,o)}})}get keys(){return this.privKeys}};return Qi.PropertyCollection=e,Qi}var Zu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyId=void 0,function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",e[e.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",e[e.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",e[e.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",e[e.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=16]="Speech_SessionId",e[e.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",e[e.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",e[e.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",e[e.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=25]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",e[e.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",e[e.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",e[e.SpeechServiceConnection_EnableAudioLogging=33]="SpeechServiceConnection_EnableAudioLogging",e[e.SpeechServiceConnection_LanguageIdMode=34]="SpeechServiceConnection_LanguageIdMode",e[e.SpeechServiceConnection_RecognitionEndpointVersion=35]="SpeechServiceConnection_RecognitionEndpointVersion",e[e.SpeechServiceConnection_SpeakerIdMode=36]="SpeechServiceConnection_SpeakerIdMode",e[e.SpeechServiceResponse_ProfanityOption=37]="SpeechServiceResponse_ProfanityOption",e[e.SpeechServiceResponse_PostProcessingOption=38]="SpeechServiceResponse_PostProcessingOption",e[e.SpeechServiceResponse_RequestWordLevelTimestamps=39]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e.SpeechServiceResponse_StablePartialResultThreshold=40]="SpeechServiceResponse_StablePartialResultThreshold",e[e.SpeechServiceResponse_OutputFormatOption=41]="SpeechServiceResponse_OutputFormatOption",e[e.SpeechServiceResponse_TranslationRequestStablePartialResult=42]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e.SpeechServiceResponse_RequestWordBoundary=43]="SpeechServiceResponse_RequestWordBoundary",e[e.SpeechServiceResponse_RequestPunctuationBoundary=44]="SpeechServiceResponse_RequestPunctuationBoundary",e[e.SpeechServiceResponse_RequestSentenceBoundary=45]="SpeechServiceResponse_RequestSentenceBoundary",e[e.Conversation_ApplicationId=46]="Conversation_ApplicationId",e[e.Conversation_DialogType=47]="Conversation_DialogType",e[e.Conversation_Initial_Silence_Timeout=48]="Conversation_Initial_Silence_Timeout",e[e.Conversation_From_Id=49]="Conversation_From_Id",e[e.Conversation_Conversation_Id=50]="Conversation_Conversation_Id",e[e.Conversation_Custom_Voice_Deployment_Ids=51]="Conversation_Custom_Voice_Deployment_Ids",e[e.Conversation_Speech_Activity_Template=52]="Conversation_Speech_Activity_Template",e[e.Conversation_Request_Bot_Status_Messages=53]="Conversation_Request_Bot_Status_Messages",e[e.Conversation_Agent_Connection_Id=54]="Conversation_Agent_Connection_Id",e[e.SpeechServiceConnection_Host=55]="SpeechServiceConnection_Host",e[e.ConversationTranslator_Host=56]="ConversationTranslator_Host",e[e.ConversationTranslator_Name=57]="ConversationTranslator_Name",e[e.ConversationTranslator_CorrelationId=58]="ConversationTranslator_CorrelationId",e[e.ConversationTranslator_Token=59]="ConversationTranslator_Token",e[e.PronunciationAssessment_ReferenceText=60]="PronunciationAssessment_ReferenceText",e[e.PronunciationAssessment_GradingSystem=61]="PronunciationAssessment_GradingSystem",e[e.PronunciationAssessment_Granularity=62]="PronunciationAssessment_Granularity",e[e.PronunciationAssessment_EnableMiscue=63]="PronunciationAssessment_EnableMiscue",e[e.PronunciationAssessment_Json=64]="PronunciationAssessment_Json",e[e.PronunciationAssessment_Params=65]="PronunciationAssessment_Params",e[e.SpeakerRecognition_Api_Version=66]="SpeakerRecognition_Api_Version",e[e.WebWorkerLoadType=67]="WebWorkerLoadType",e[e.TalkingAvatarService_WebRTC_SDP=68]="TalkingAvatarService_WebRTC_SDP"}(t.PropertyId||(t.PropertyId={}))})(Zu);var Xi={},Kg;function WO(){if(Kg)return Xi;Kg=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Recognizer=void 0;const t=M(),e=L(),r=F,n=A();let i=class lw{constructor(a,s,c){this.audioConfig=a!==void 0?a:n.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=s.clone(),this.privConnectionFactory=c,this.implCommonRecognizerSetup()}close(a,s){r.Contracts.throwIfDisposed(this.privDisposed),e.marshalPromiseToCallbacks(this.dispose(!0),a,s)}get internalData(){return this.privReco}async dispose(a){this.privDisposed||(this.privDisposed=!0,a&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return t.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(a){t.ServiceRecognizerBase.telemetryDataEnabled=a}implCommonRecognizerSetup(){let a=typeof window<"u"?"Browser":"Node",s="unknown",c="unknown";typeof navigator<"u"&&(a=a+"/"+navigator.platform,s=navigator.userAgent,c=navigator.appVersion);const u=this.createRecognizerConfig(new t.SpeechServiceConfig(new t.Context(new t.OS(a,s,c))));this.privReco=this.createServiceRecognizer(lw.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,u)}async recognizeOnceAsyncImpl(a){r.Contracts.throwIfDisposed(this.privDisposed);const s=new e.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(a,s.resolve,s.reject);const c=await s.promise;return await this.implRecognizerStop(),c}async startContinuousRecognitionAsyncImpl(a){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(a,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(a){const s=a.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0);return s&&s!==""?new t.CognitiveSubscriptionKeyAuthentication(s):new t.CognitiveTokenAuthentication(()=>{const u=a.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(u)},()=>{const u=a.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(u)})}};return Xi.Recognizer=i,Xi}var Yi={},Jg;function KO(){if(Jg)return Yi;Jg=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.SpeechRecognizer=void 0;const t=M(),e=L(),r=F,n=A();let i=class pw extends n.Recognizer{constructor(a,s){const c=a;r.Contracts.throwIfNull(c,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(c.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),super(s,c.properties,new t.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(a,s,c){const u=a;return s.properties.mergeTo(u.properties),new pw(a,c)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(t.OutputFormatPropertyName,n.OutputFormat[n.OutputFormat.Simple])===n.OutputFormat[n.OutputFormat.Simple]?n.OutputFormat.Simple:n.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(a,s){e.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),a,s)}startContinuousRecognitionAsync(a,s){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),a,s)}stopContinuousRecognitionAsync(a,s){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,s)}startKeywordRecognitionAsync(a,s,c){r.Contracts.throwIfNull(a,"model"),c&&c("Not yet implemented.")}stopKeywordRecognitionAsync(a){a&&a()}close(a,s){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),a,s)}async dispose(a){this.privDisposedRecognizer||(a&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(a))}createRecognizerConfig(a){return new t.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,s,c,u){const l=c;return new t.SpeechServiceRecognizer(a,s,l,u,this)}};return Yi.SpeechRecognizer=i,Yi}var Zi={},Gg;function JO(){if(Gg)return Zi;Gg=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.IntentRecognizer=void 0;const t=M(),e=L(),r=F,n=A();let i=class extends n.Recognizer{constructor(a,s){r.Contracts.throwIfNullOrUndefined(a,"speechConfig");const c=a;r.Contracts.throwIfNullOrUndefined(c,"speechConfig"),super(s,c.properties,new t.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=c.properties,r.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}recognizeOnceAsync(a,s){if(r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const c=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",c.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(c.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}e.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),a,s)}startContinuousRecognitionAsync(a,s){if(Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const c=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",c.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(c.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),a,s)}stopContinuousRecognitionAsync(a,s){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,s)}startKeywordRecognitionAsync(a,s,c){r.Contracts.throwIfNull(a,"model"),c&&c("Not yet implemented.")}stopKeywordRecognitionAsync(a,s){if(a)try{a()}catch(c){s&&s(c)}}addIntent(a,s){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(s,"intentId"),r.Contracts.throwIfNullOrWhitespace(a,"simplePhrase"),this.privAddedIntents.push([s,a])}addIntentWithLanguageModel(a,s,c){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(a,"intentId"),r.Contracts.throwIfNull(s,"model");const u=s;r.Contracts.throwIfNullOrWhitespace(u.appId,"model.appId"),this.privAddedLmIntents[a]=new t.AddedLmIntent(u,c)}addAllIntents(a,s){r.Contracts.throwIfNull(a,"model");const c=a;r.Contracts.throwIfNullOrWhitespace(c.appId,"model.appId"),this.privUmbrellaIntent=new t.AddedLmIntent(c,s)}close(a,s){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),a,s)}createRecognizerConfig(a){return new t.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,s,c,u){const l=c;return new t.IntentServiceRecognizer(a,s,l,u,this)}async dispose(a){this.privDisposedIntentRecognizer||a&&(this.privDisposedIntentRecognizer=!0,await super.dispose(a))}buildSpeechContext(){let a,s,c;const u=[];this.privUmbrellaIntent!==void 0&&(a=this.privUmbrellaIntent.modelImpl.appId,s=this.privUmbrellaIntent.modelImpl.region,c=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const l of Object.keys(this.privAddedLmIntents)){const p=this.privAddedLmIntents[l];if(a===void 0)a=p.modelImpl.appId;else if(a!==p.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(s===void 0)s=p.modelImpl.region;else if(s!==p.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(c===void 0)c=p.modelImpl.subscriptionKey;else if(c!==p.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const d="luis/"+a+"-PRODUCTION#"+l;u.push(d)}return{Intent:{id:a,key:c===void 0?this.privProperties.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_Key]):c,provider:"LUIS"},ReferenceGrammars:this.privUmbrellaIntent===void 0?u:["luis/"+a+"-PRODUCTION"]}}};return Zi.IntentRecognizer=i,Zi}var dw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileType=void 0,function(e){e[e.TextIndependentIdentification=0]="TextIndependentIdentification",e[e.TextDependentVerification=1]="TextDependentVerification",e[e.TextIndependentVerification=2]="TextIndependentVerification"}(t.VoiceProfileType||(t.VoiceProfileType={}))})(dw);var eo={},to={},Jr={},Qg;function hw(){if(Qg)return Jr;Qg=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.ConnectionMessageImpl=Jr.ConnectionMessage=void 0;const t=Te,e=L(),r=uw(),n=Zu;let i=class{};Jr.ConnectionMessage=i;class o{constructor(s){this.privConnectionMessage=s,this.privProperties=new r.PropertyCollection,this.privConnectionMessage.headers[t.HeaderNames.ConnectionId]&&this.privProperties.setProperty(n.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[t.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach(c=>{this.privProperties.setProperty(c,this.privConnectionMessage.headers[c])})}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(s=>s.toLowerCase()==="path".toLowerCase())]}get isTextMessage(){return this.privConnectionMessage.messageType===e.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===e.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}return Jr.ConnectionMessageImpl=o,Jr}var Xg;function fw(){if(Xg)return to;Xg=1,Object.defineProperty(to,"__esModule",{value:!0}),to.Connection=void 0;const t=M(),e=L(),r=hw(),n=F,i=A();let o=class Jd{static fromRecognizer(s){const c=s.internalData,u=new Jd;return u.privInternalData=c,u.setupEvents(),u}static fromSynthesizer(s){const c=s.internalData,u=new Jd;return u.privInternalData=c,u.setupEvents(),u}openConnection(s,c){e.marshalPromiseToCallbacks(this.privInternalData.connect(),s,c)}closeConnection(s,c){if(this.privInternalData instanceof t.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");e.marshalPromiseToCallbacks(this.privInternalData.disconnect(),s,c)}setMessageProperty(s,c,u){if(n.Contracts.throwIfNullOrWhitespace(c,"propertyName"),this.privInternalData instanceof t.ServiceRecognizerBase){if(s.toLowerCase()!=="speech.context")throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(c,u)}else if(this.privInternalData instanceof t.SynthesisAdapterBase){if(s.toLowerCase()!=="synthesis.context")throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(c,u)}}sendMessageAsync(s,c,u,l){e.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(s,c),u,l)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach(s=>{s.name==="ConnectionEstablishedEvent"?this.connected&&this.connected(new i.ConnectionEventArgs(s.connectionId)):s.name==="ConnectionClosedEvent"?this.disconnected&&this.disconnected(new i.ConnectionEventArgs(s.connectionId)):s.name==="ConnectionMessageSentEvent"?this.messageSent&&this.messageSent(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(s.message))):s.name==="ConnectionMessageReceivedEvent"&&this.messageReceived&&this.messageReceived(new i.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(s.message)))}),this.privServiceEventListener=this.privInternalData.serviceEvents.attach(s=>{this.receivedServiceMessage&&this.receivedServiceMessage(new i.ServiceEventArgs(s.jsonString,s.name))})}};return to.Connection=o,to}var Yg;function GO(){if(Yg)return eo;Yg=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.TranslationRecognizer=void 0;const t=M(),e=L(),r=fw(),n=F,i=A();let o=class vw extends i.Recognizer{constructor(s,c,u){const l=s;n.Contracts.throwIfNull(l,"speechConfig"),super(c,l.properties,u||new t.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice),i.PropertyId[i.PropertyId.SpeechServiceConnection_TranslationVoice]),n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages),i.PropertyId[i.PropertyId.SpeechServiceConnection_TranslationToLanguages]),n.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(s,c,u){const l=s;return c.properties.mergeTo(l.properties),new vw(s,u)}get speechRecognitionLanguage(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(s){this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,s)}recognizeOnceAsync(s,c){n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),e.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(t.RecognitionMode.Interactive),s,c)}startContinuousRecognitionAsync(s,c){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),s,c)}stopContinuousRecognitionAsync(s,c){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),s,c)}removeTargetLanguage(s){if(n.Contracts.throwIfNullOrUndefined(s,"language to be removed"),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0){const c=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),u=c.indexOf(s);u>-1&&(c.splice(u,1),this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,c.join(",")),this.updateLanguages(c))}}addTargetLanguage(s){n.Contracts.throwIfNullOrUndefined(s,"language to be added");let c=[];this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?(c=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),c.includes(s)||(c.push(s),this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,c.join(",")))):(this.properties.setProperty(i.PropertyId.SpeechServiceConnection_TranslationToLanguages,s),c=[s]),this.updateLanguages(c)}close(s,c){n.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),s,c)}onConnection(){}async dispose(s){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,s&&(await this.implRecognizerStop(),await super.dispose(s)))}createRecognizerConfig(s){return new t.RecognizerConfig(s,this.privProperties)}createServiceRecognizer(s,c,u,l){const p=u;return new t.TranslationServiceRecognizer(s,c,p,l,this)}updateLanguages(s){const c=r.Connection.fromRecognizer(this);c&&(c.setMessageProperty("speech.context","translationcontext",{to:s}),c.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:s})))}};return eo.TranslationRecognizer=o,eo}var ro={},Zg;function QO(){if(Zg)return ro;Zg=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.Translations=void 0;const t=A();let e=class{constructor(){this.privMap=new t.PropertyCollection}get languages(){return this.privMap.keys}get(n,i){return this.privMap.getProperty(n,i)}set(n,i){this.privMap.setProperty(n,i)}};return ro.Translations=e,ro}var gw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchReason=void 0,function(e){e[e.NotRecognized=0]="NotRecognized",e[e.InitialSilenceTimeout=1]="InitialSilenceTimeout",e[e.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(t.NoMatchReason||(t.NoMatchReason={}))})(gw);var no={},em;function XO(){if(em)return no;em=1,Object.defineProperty(no,"__esModule",{value:!0}),no.NoMatchDetails=void 0;const t=M(),e=A();let r=class mw{constructor(i){this.privReason=i}static fromResult(i){const o=t.SimpleSpeechPhrase.fromJSON(i.json);let a=e.NoMatchReason.NotRecognized;switch(o.RecognitionStatus){case t.RecognitionStatus.BabbleTimeout:a=e.NoMatchReason.InitialBabbleTimeout;break;case t.RecognitionStatus.InitialSilenceTimeout:a=e.NoMatchReason.InitialSilenceTimeout;break;default:a=e.NoMatchReason.NotRecognized;break}return new mw(a)}get reason(){return this.privReason}};return no.NoMatchDetails=r,no}var el={};Object.defineProperty(el,"__esModule",{value:!0});el.TranslationRecognitionCanceledEventArgs=void 0;class YO{constructor(e,r,n,i,o){this.privCancelReason=r,this.privErrorDetails=n,this.privResult=o,this.privSessionId=e,this.privErrorCode=i}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}el.TranslationRecognitionCanceledEventArgs=YO;var io={},tm;function ZO(){if(tm)return io;tm=1,Object.defineProperty(io,"__esModule",{value:!0}),io.IntentRecognitionCanceledEventArgs=void 0;const t=A();let e=class extends t.IntentRecognitionEventArgs{constructor(n,i,o,a,s,c){super(a,s,c),this.privReason=n,this.privErrorDetails=i,this.privErrorCode=o}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return io.IntentRecognitionCanceledEventArgs=e,io}var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.CancellationDetailsBase=void 0;class eM{constructor(e,r,n){this.privReason=e,this.privErrorDetails=r,this.privErrorCode=n}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}}Ia.CancellationDetailsBase=eM;var oo={},rm;function tM(){if(rm)return oo;rm=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.CancellationDetails=void 0;const t=M(),e=Ia,r=A();let n=class yw extends e.CancellationDetailsBase{constructor(o,a,s){super(o,a,s)}static fromResult(o){let a=r.CancellationReason.Error,s=r.CancellationErrorCode.NoError;if(o instanceof r.RecognitionResult&&o.json){const c=t.SimpleSpeechPhrase.fromJSON(o.json);a=t.EnumTranslation.implTranslateCancelResult(c.RecognitionStatus)}return o.properties&&(s=r.CancellationErrorCode[o.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new yw(a,o.errorDetails||t.EnumTranslation.implTranslateErrorDetails(s),s)}};return oo.CancellationDetails=n,oo}var Sw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationErrorCode=void 0,function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError",e[e.Forbidden=8]="Forbidden"}(t.CancellationErrorCode||(t.CancellationErrorCode={}))})(Sw);var so={},nm;function rM(){if(nm)return so;nm=1,Object.defineProperty(so,"__esModule",{value:!0}),so.ConnectionEventArgs=void 0;const t=A();let e=class extends t.SessionEventArgs{};return so.ConnectionEventArgs=e,so}var ao={},im;function nM(){if(im)return ao;im=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.ServiceEventArgs=void 0;const t=A();let e=class extends t.SessionEventArgs{constructor(n,i,o){super(o),this.privJsonResult=n,this.privEventName=i}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}};return ao.ServiceEventArgs=e,ao}var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.PhraseListGrammar=void 0;class hf{constructor(e){this.privGrammerBuilder=e.dynamicGrammar}static fromRecognizer(e){const r=e.internalData;return new hf(r)}addPhrase(e){this.privGrammerBuilder.addPhrase(e)}addPhrases(e){this.privGrammerBuilder.addPhrase(e)}clear(){this.privGrammerBuilder.clearPhrases()}}tl.PhraseListGrammar=hf;var Gr={},om;function ff(){if(om)return Gr;om=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.DialogServiceConfigImpl=Gr.DialogServiceConfig=void 0;const t=F,e=A();let r=class{constructor(){}set applicationId(o){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}};Gr.DialogServiceConfig=r;class n extends r{constructor(){super(),this.privSpeechConfig=new e.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(o){t.Contracts.throwIfNullOrWhitespace(o,"value"),this.privSpeechConfig.speechRecognitionLanguage=o}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(o){this.privSpeechConfig.outputFormat=o}setProperty(o,a){this.privSpeechConfig.setProperty(o,a)}getProperty(o,a){return this.privSpeechConfig.getProperty(o)}setProxy(o,a,s,c){this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyHostName,o),this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyPort,`${a}`),s&&this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyUserName,s),c&&this.setProperty(e.PropertyId.SpeechServiceConnection_ProxyPassword,c)}setServiceProperty(o,a,s){this.privSpeechConfig.setServiceProperty(o,a)}close(){}}return Gr.DialogServiceConfigImpl=n,Gr}var co={},sm;function iM(){if(sm)return co;sm=1,Object.defineProperty(co,"__esModule",{value:!0}),co.BotFrameworkConfig=void 0;const t=F,e=ff(),r=A();let n=class extends e.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(o,a,s){t.Contracts.throwIfNullOrWhitespace(o,"subscription"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),s&&c.setProperty(r.PropertyId.Conversation_ApplicationId,s),c}static fromAuthorizationToken(o,a,s){t.Contracts.throwIfNullOrWhitespace(o,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),c.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),s&&c.setProperty(r.PropertyId.Conversation_ApplicationId,s),c}static fromHost(o,a,s){t.Contracts.throwIfNullOrUndefined(o,"host");const c=o instanceof URL?o:new URL(`wss://${o}.convai.speech.azure.us`);t.Contracts.throwIfNullOrUndefined(c,"resolvedHost");const u=new e.DialogServiceConfigImpl;return u.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),u.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.toString()),a!==void 0&&u.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),u}static fromEndpoint(o,a){t.Contracts.throwIfNull(o,"endpoint");const s=new e.DialogServiceConfigImpl;return s.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.BotFramework),s.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,o.toString()),a!==void 0&&s.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),s}};return co.BotFrameworkConfig=n,co}var uo={},am;function oM(){if(am)return uo;am=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.CustomCommandsConfig=void 0;const t=F,e=ff(),r=A();let n=class extends e.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(o,a,s){t.Contracts.throwIfNullOrWhitespace(o,"applicationId"),t.Contracts.throwIfNullOrWhitespace(a,"subscription"),t.Contracts.throwIfNullOrWhitespace(s,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.CustomCommands),c.setProperty(r.PropertyId.Conversation_ApplicationId,o),c.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,s),c}static fromAuthorizationToken(o,a,s){t.Contracts.throwIfNullOrWhitespace(o,"applicationId"),t.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(s,"region");const c=new e.DialogServiceConfigImpl;return c.setProperty(r.PropertyId.Conversation_DialogType,e.DialogServiceConfig.DialogTypes.CustomCommands),c.setProperty(r.PropertyId.Conversation_ApplicationId,o),c.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,a),c.setProperty(r.PropertyId.SpeechServiceConnection_Region,s),c}set applicationId(o){t.Contracts.throwIfNullOrWhitespace(o,"value"),this.setProperty(r.PropertyId.Conversation_ApplicationId,o)}get applicationId(){return this.getProperty(r.PropertyId.Conversation_ApplicationId)}};return uo.CustomCommandsConfig=n,uo}var lo={},po={},ho={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.QueryParameterNames=void 0;class fe{}Dt.QueryParameterNames=fe;fe.BotId="botid";fe.CustomSpeechDeploymentId="cid";fe.CustomVoiceDeploymentId="deploymentId";fe.EnableAudioLogging="storeAudio";fe.EnableLanguageId="lidEnabled";fe.EnableWordLevelTimestamps="wordLevelTimestamps";fe.EndSilenceTimeoutMs="endSilenceTimeoutMs";fe.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs";fe.Format="format";fe.InitialSilenceTimeoutMs="initialSilenceTimeoutMs";fe.Language="language";fe.Profanity="profanity";fe.RequestBotStatusMessages="enableBotMessageStatus";fe.StableIntermediateThreshold="stableIntermediateThreshold";fe.StableTranslation="stableTranslation";fe.TestHooks="testhooks";fe.Postprocessing="postprocessing";fe.CtsMeetingId="meetingId";fe.CtsDeviceId="deviceId";fe.CtsIsParticipant="isParticipant";fe.EnableAvatar="enableTalkingAvatar";var cm;function Nt(){if(cm)return ho;cm=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.ConnectionFactoryBase=void 0;const t=M(),e=A(),r=Dt;let n=class{static getHostSuffix(o){if(o){if(o.toLowerCase().startsWith("china"))return".azure.cn";if(o.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(o,a,s){new Map([[e.PropertyId.Speech_SegmentationSilenceTimeoutMs,r.QueryParameterNames.SegmentationSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_EnableAudioLogging,r.QueryParameterNames.EnableAudioLogging],[e.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,r.QueryParameterNames.EndSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,r.QueryParameterNames.InitialSilenceTimeoutMs],[e.PropertyId.SpeechServiceResponse_PostProcessingOption,r.QueryParameterNames.Postprocessing],[e.PropertyId.SpeechServiceResponse_ProfanityOption,r.QueryParameterNames.Profanity],[e.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,r.QueryParameterNames.EnableWordLevelTimestamps],[e.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,r.QueryParameterNames.StableIntermediateThreshold]]).forEach((l,p)=>{this.setUrlParameter(p,l,o,a,s)});const u=JSON.parse(o.parameters.getProperty(t.ServicePropertiesPropertyName,"{}"));Object.keys(u).forEach(l=>{a[l]=u[l]})}setUrlParameter(o,a,s,c,u){const l=s.parameters.getProperty(o,void 0);l&&(!u||u.search(a)===-1)&&(c[a]=l.toLocaleLowerCase())}};return ho.ConnectionFactoryBase=n,ho}var um;function sM(){if(um)return po;um=1,Object.defineProperty(po,"__esModule",{value:!0}),po.DialogConnectionFactory=void 0;const t=Ie(),e=M(),r=A(),n=Nt(),i=M(),o=Te,a=Dt;class s extends n.ConnectionFactoryBase{create(u,l,p){const d=u.parameters.getProperty(r.PropertyId.Conversation_ApplicationId,""),h=u.parameters.getProperty(r.PropertyId.Conversation_DialogType),f=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),g=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),y=u.parameters.getProperty(r.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),v={};v[o.HeaderNames.ConnectionId]=p,v[a.QueryParameterNames.Format]=u.parameters.getProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase(),v[a.QueryParameterNames.Language]=g,v[a.QueryParameterNames.RequestBotStatusMessages]=y,d&&(v[a.QueryParameterNames.BotId]=d,h===r.DialogServiceConfig.DialogTypes.CustomCommands&&(v[o.HeaderNames.CustomCommandsAppId]=d));const m=h===r.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",S=h===r.DialogServiceConfig.DialogTypes.CustomCommands?"v1":h===r.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",C={};l.token!=null&&l.token!==""&&(C[l.headerName]=l.token);let R=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,"");if(!R){const T=n.ConnectionFactoryBase.getHostSuffix(f),E=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,`wss://${f}.${s.BaseUrl}${T}`);R=`${E.endsWith("/")?E:E+"/"}${m}${s.ApiKey}/${S}`}this.setCommonUrlParams(u,v,R);const w=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(R,v,C,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),w,p)}}return po.DialogConnectionFactory=s,s.ApiKey="api",s.BaseUrl="convai.speech",po}var lm;function aM(){if(lm)return lo;lm=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.DialogServiceConnector=void 0;const t=sM(),e=M(),r=L(),n=F,i=A(),o=Zu;let a=class extends i.Recognizer{constructor(c,u){const l=c;n.Contracts.throwIfNull(c,"dialogConfig"),super(u,l.properties,new t.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=l.properties.clone();const p=this.buildAgentConfig();this.privReco.agentConfig.set(p)}connect(c,u){r.marshalPromiseToCallbacks(this.privReco.connect(),c,u)}disconnect(c,u){r.marshalPromiseToCallbacks(this.privReco.disconnect(),c,u)}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){n.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,c)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(o.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(c){this.properties.setProperty(o.PropertyId.Conversation_Speech_Activity_Template,c)}listenOnceAsync(c,u){if(this.isTurnComplete){n.Contracts.throwIfDisposed(this.privIsDisposed);const p=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const d=new r.Deferred;await this.privReco.recognize(e.RecognitionMode.Conversation,d.resolve,d.reject);const h=await d.promise;return await this.implRecognizerStop(),h})();p.catch(()=>{this.dispose(!0).catch(()=>{})}),r.marshalPromiseToCallbacks(p.finally(()=>{this.isTurnComplete=!0}),c,u)}}sendActivityAsync(c,u,l){r.marshalPromiseToCallbacks(this.privReco.sendMessage(c),u,l)}close(c,u){n.Contracts.throwIfDisposed(this.privIsDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),c,u)}async dispose(c){this.privIsDisposed||c&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,u,l,p){const d=l;return new e.DialogServiceAdapter(c,u,d,p,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(o.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(o.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(o.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}};return lo.DialogServiceConnector=a,lo}var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.ActivityReceivedEventArgs=void 0;class cM{constructor(e,r){this.privActivity=e,this.privAudioStream=r}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}}rl.ActivityReceivedEventArgs=cM;var nl={},il={};Object.defineProperty(il,"__esModule",{value:!0});il.TurnStatusResponsePayload=void 0;class vf{constructor(e){this.privMessageStatusResponse=JSON.parse(e)}static fromJSON(e){return new vf(e)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}il.TurnStatusResponsePayload=vf;Object.defineProperty(nl,"__esModule",{value:!0});nl.TurnStatusReceivedEventArgs=void 0;const uM=il;class lM{constructor(e){this.privTurnStatus=uM.TurnStatusResponsePayload.fromJSON(e)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}}nl.TurnStatusReceivedEventArgs=lM;var Cw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePropertyChannel=void 0,function(e){e[e.UriQueryParameter=0]="UriQueryParameter"}(t.ServicePropertyChannel||(t.ServicePropertyChannel={}))})(Cw);var Pw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProfanityOption=void 0,function(e){e[e.Masked=0]="Masked",e[e.Removed=1]="Removed",e[e.Raw=2]="Raw"}(t.ProfanityOption||(t.ProfanityOption={}))})(Pw);var fo={},pm;function pM(){if(pm)return fo;pm=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.BaseAudioPlayer=void 0;const t=Oe,e=A(),r=Vr;let n=class{constructor(o){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,o===void 0&&(o=e.AudioStreamFormat.getDefaultInputFormat()),this.init(o)}playAudioSample(o,a,s){try{this.ensureInitializedContext();const c=this.formatAudioData(o),u=new Float32Array(this.samples.length+c.length);u.set(this.samples,0),u.set(c,this.samples.length),this.samples=u,a&&a()}catch(c){s&&s(c)}}stopAudio(o,a){this.audioContext!==null&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then(()=>{o&&o()},s=>{a&&a(s)}),this.audioContext=null)}init(o){this.audioFormat=o,this.samples=new Float32Array}ensureInitializedContext(){if(this.audioContext===null){this.createAudioContext();const o=200;this.autoUpdateBufferTimer=setInterval(()=>{this.updateAudioBuffer()},o)}}createAudioContext(){this.audioContext=r.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(o){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(o),128);case 16:return this.formatArrayBuffer(new Int16Array(o),32768);case 32:return this.formatArrayBuffer(new Int32Array(o),2147483648);default:throw new t.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(o,a){const s=new Float32Array(o.length);for(let c=0;c<o.length;c++)s[c]=o[c]/a;return s}updateAudioBuffer(){if(this.samples.length===0)return;const o=this.audioFormat.channels,a=this.audioContext.createBufferSource(),s=this.samples.length/o,c=this.audioContext.createBuffer(o,s,this.audioFormat.samplesPerSec);for(let u=0;u<o;u++){let l=u;const p=c.getChannelData(u);for(let d=0;d<this.samples.length;d++,l+=o)p[d]=this.samples[l]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),a.buffer=c,a.connect(this.gainNode),a.start(this.startTime),this.startTime+=c.duration,this.samples=new Float32Array}async playAudio(o){this.audioContext===null&&this.createAudioContext();const a=this.audioContext.createBufferSource(),s=this.audioContext.destination;await this.audioContext.decodeAudioData(o,c=>{a.buffer=c,a.connect(s),a.start(0)})}};return fo.BaseAudioPlayer=n,fo}var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.ConnectionMessageEventArgs=void 0;class dM{constructor(e){this.privConnectionMessage=e}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}}ol.ConnectionMessageEventArgs=dM;var sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.VoiceProfile=void 0;class hM{constructor(e,r){this.privId=e,this.privProfileType=r}get profileId(){return this.privId}get profileType(){return this.privProfileType}}sl.VoiceProfile=hM;var Qr={},dm;function fM(){if(dm)return Qr;dm=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.VoiceProfileEnrollmentCancellationDetails=Qr.VoiceProfileEnrollmentResult=void 0;const t=M(),e=A();let r=class Gd{constructor(o,a,s){this.privReason=o,this.privProperties=new e.PropertyCollection,this.privReason!==e.ResultReason.Canceled?a&&(this.privDetails=JSON.parse(a),this.privDetails.enrollmentStatus.toLowerCase()==="enrolling"&&(this.privReason=e.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=s,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[e.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(o){const a=[];for(const s of o.value){const c=s.enrollmentStatus.toLowerCase()==="enrolling"?e.ResultReason.EnrollingVoiceProfile:s.enrollmentStatus.toLowerCase()==="enrolled"?e.ResultReason.EnrolledVoiceProfile:e.ResultReason.Canceled,u=new Gd(c,null,null);u.privDetails=this.getIdentificationDetails(s),a.push(u)}return a}static FromVerificationProfileList(o){const a=[];for(const s of o.value){const c=s.enrollmentStatus.toLowerCase()==="enrolling"?e.ResultReason.EnrollingVoiceProfile:s.enrollmentStatus.toLowerCase()==="enrolled"?e.ResultReason.EnrolledVoiceProfile:e.ResultReason.Canceled,u=new Gd(c,null,null);u.privDetails=this.getVerificationDetails(s),a.push(u)}return a}static getIdentificationDetails(o){return{audioLength:o.audioLength?parseFloat(o.audioLength):0,audioSpeechLength:o.audioSpeechLength?parseFloat(o.audioSpeechLength):0,enrollmentStatus:o.enrollmentStatus,enrollmentsCount:o.enrollmentsCount||0,enrollmentsLength:o.enrollmentsLength?parseFloat(o.enrollmentsLength):0,enrollmentsSpeechLength:o.enrollmentsSpeechLength?parseFloat(o.enrollmentsSpeechLength):0,profileId:o.profileId||o.identificationProfileId,remainingEnrollmentsSpeechLength:o.remainingEnrollmentsSpeechLength?parseFloat(o.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(o){return{audioLength:o.audioLength?parseFloat(o.audioLength):0,audioSpeechLength:o.audioSpeechLength?parseFloat(o.audioSpeechLength):0,enrollmentStatus:o.enrollmentStatus,enrollmentsCount:o.enrollmentsCount,enrollmentsLength:o.enrollmentsLength?parseFloat(o.enrollmentsLength):0,enrollmentsSpeechLength:o.enrollmentsSpeechLength?parseFloat(o.enrollmentsSpeechLength):0,profileId:o.profileId||o.verificationProfileId,remainingEnrollmentsCount:o.remainingEnrollments||o.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:o.remainingEnrollmentsSpeechLength?parseFloat(o.remainingEnrollmentsSpeechLength):0}}};Qr.VoiceProfileEnrollmentResult=r;class n extends e.CancellationDetailsBase{constructor(o,a,s){super(o,a,s)}static fromResult(o){const a=e.CancellationReason.Error;let s=e.CancellationErrorCode.NoError;return o.properties&&(s=e.CancellationErrorCode[o.properties.getProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[e.CancellationErrorCode.NoError])]),new n(a,o.errorDetails,s)}}return Qr.VoiceProfileEnrollmentCancellationDetails=n,Qr}var Xr={},hm;function vM(){if(hm)return Xr;hm=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.VoiceProfileCancellationDetails=Xr.VoiceProfileResult=void 0;const t=M(),e=F,r=A();let n=class{constructor(a,s){this.privReason=a,this.privProperties=new r.PropertyCollection,a===r.ResultReason.Canceled&&(e.Contracts.throwIfNullOrUndefined(s,"statusText"),this.privErrorDetails=s,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};Xr.VoiceProfileResult=n;class i extends r.CancellationDetailsBase{constructor(a,s,c){super(a,s,c)}static fromResult(a){const s=r.CancellationReason.Error;let c=r.CancellationErrorCode.NoError;return a.properties&&(c=r.CancellationErrorCode[a.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new i(s,a.errorDetails,c)}}return Xr.VoiceProfileCancellationDetails=i,Xr}var vo={},fm;function gM(){if(fm)return vo;fm=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.VoiceProfilePhraseResult=void 0;const t=F,e=A();let r=class extends e.VoiceProfileResult{constructor(i,o,a,s){super(i,o),this.privPhrases=[],t.Contracts.throwIfNullOrUndefined(s,"phrase array"),this.privType=a,s&&s[0]&&(this.privPhrases=s)}get phrases(){return this.privPhrases}get type(){return this.privType}};return vo.VoiceProfilePhraseResult=r,vo}var go={},vm;function mM(){if(vm)return go;vm=1,Object.defineProperty(go,"__esModule",{value:!0}),go.VoiceProfileClient=void 0;const t=M(),e=tw(),r=F,n=A();let i=class extends n.Recognizer{constructor(a){r.Contracts.throwIfNullOrUndefined(a,"speechConfig");const s=a;r.Contracts.throwIfNull(s,"speechConfig"),super(e.AudioConfig.fromStreamInput(n.AudioInputStream.createPushStream()),s.properties,new t.VoiceProfileConnectionFactory),this.privProperties=s.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}async createProfileAsync(a,s){const c=await this.privVoiceAdapter.createProfile(a,s);return new n.VoiceProfile(c[0],a)}async retrieveEnrollmentResultAsync(a){return this.privVoiceAdapter.retrieveEnrollmentResult(a)}async getAllProfilesAsync(a){return this.privVoiceAdapter.getAllProfiles(a)}async getActivationPhrasesAsync(a,s){return this.privVoiceAdapter.getActivationPhrases(a,s)}async enrollProfileAsync(a,s){const c=s;return r.Contracts.throwIfNullOrUndefined(c,"audioConfig"),this.audioConfig=s,this.privVoiceAdapter.SpeakerAudioSource=c,this.privVoiceAdapter.enrollProfile(a)}async deleteProfileAsync(a){return this.privVoiceAdapter.deleteProfile(a)}async resetProfileAsync(a){return this.privVoiceAdapter.resetProfile(a)}async close(){await this.dispose(!0)}createServiceRecognizer(a,s,c,u){const l=c;return new t.VoiceServiceRecognizer(a,s,l,u,this)}async dispose(a){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,a&&await super.dispose(a))}createRecognizerConfig(a){return new t.RecognizerConfig(a,this.properties)}getResult(a,s){return new n.VoiceProfileResult(a.ok?s:n.ResultReason.Canceled,a.statusText)}};return go.VoiceProfileClient=i,go}var mo={},gm;function yM(){if(gm)return mo;gm=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.SpeakerRecognizer=void 0;const t=M(),e=F,r=A();let n=class extends r.Recognizer{constructor(o,a){e.Contracts.throwIfNullOrUndefined(o,"speechConfig");const s=o;e.Contracts.throwIfNullOrUndefined(s,"speechConfig"),super(a,s.properties,new t.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=a,e.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=s.properties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(o){e.Contracts.throwIfNullOrWhitespace(o,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,o)}get properties(){return this.privProperties}async recognizeOnceAsync(o){return e.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(o)}async close(){e.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(o){e.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const a=await this.privReco.recognizeSpeaker(o);return await this.implRecognizerStop(),a}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(o){return new t.RecognizerConfig(o,this.privProperties)}createServiceRecognizer(o,a,s,c){const u=s;return new t.SpeakerServiceRecognizer(o,a,u,c,this)}async dispose(o){this.privDisposedSpeakerRecognizer||o&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(o))}};return mo.SpeakerRecognizer=n,mo}var yo={},mm;function SM(){if(mm)return yo;mm=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.SpeakerIdentificationModel=void 0;const t=F,e=A();let r=class Rw{constructor(i){if(this.privVoiceProfiles=[],this.privProfileIds=[],t.Contracts.throwIfNullOrUndefined(i,"VoiceProfiles"),i.length===0)throw new Error("Empty Voice Profiles array");for(const o of i){if(o.profileType!==e.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+o.profileId);this.privVoiceProfiles.push(o),this.privProfileIds.push(o.profileId)}}static fromProfiles(i){return new Rw(i)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}};return yo.SpeakerIdentificationModel=r,yo}var So={},ym;function CM(){if(ym)return So;ym=1,Object.defineProperty(So,"__esModule",{value:!0}),So.SpeakerVerificationModel=void 0;const t=F,e=A();let r=class ww{constructor(i){if(t.Contracts.throwIfNullOrUndefined(i,"VoiceProfile"),i.profileType===e.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=i}static fromProfile(i){return new ww(i)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===e.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}};return So.SpeakerVerificationModel=r,So}var Co={},gf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageIdMode=void 0,function(e){e[e.AtStart=0]="AtStart",e[e.Continuous=1]="Continuous"}(t.LanguageIdMode||(t.LanguageIdMode={}))})(gf);var Sm;function PM(){if(Sm)return Co;Sm=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.AutoDetectSourceLanguageConfig=void 0;const t=M(),e=F,r=A(),n=gf;let i=class Sc{constructor(){this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=n.LanguageIdMode.AtStart}static fromOpenRange(){const a=new Sc;return a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,t.AutoDetectSourceLanguagesOpenRangeOptionName),a}static fromLanguages(a){e.Contracts.throwIfArrayEmptyOrWhitespace(a,"languages");const s=new Sc;return s.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,a.join()),s}static fromSourceLanguageConfigs(a){if(a.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const s=new Sc,c=[];return a.forEach(u=>{if(c.push(u.language),u.endpointId!==void 0&&u.endpointId!==""){const l=u.language+r.PropertyId.SpeechServiceConnection_EndpointId.toString();s.properties.setProperty(l,u.endpointId)}}),s.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c.join()),s}get properties(){return this.privProperties}set mode(a){a===n.LanguageIdMode.Continuous?(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=a}};return Co.AutoDetectSourceLanguageConfig=i,Co}var al={};Object.defineProperty(al,"__esModule",{value:!0});al.AutoDetectSourceLanguageResult=void 0;const Cm=F;class Wc{constructor(e,r){Cm.Contracts.throwIfNullOrUndefined(e,"language"),Cm.Contracts.throwIfNullOrUndefined(r,"languageDetectionConfidence"),this.privLanguage=e,this.privLanguageDetectionConfidence=r}static fromResult(e){return new Wc(e.language,e.languageDetectionConfidence)}static fromConversationTranscriptionResult(e){return new Wc(e.language,e.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}}al.AutoDetectSourceLanguageResult=Wc;var cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.SourceLanguageConfig=void 0;const RM=F;class mf{constructor(e,r){RM.Contracts.throwIfNullOrUndefined(e,"language"),this.privLanguage=e,this.privEndpointId=r}static fromLanguage(e,r){return new mf(e,r)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}}cl.SourceLanguageConfig=mf;var bp={},Pm;function wM(){return Pm||(Pm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionCancellationDetails=t.SpeakerRecognitionResult=t.SpeakerRecognitionResultType=void 0;const e=M(),r=A();var n;(function(a){a[a.Verify=0]="Verify",a[a.Identify=1]="Identify"})(n=t.SpeakerRecognitionResultType||(t.SpeakerRecognitionResultType={}));class i{constructor(s,c=r.ResultReason.RecognizedSpeaker,u=r.CancellationErrorCode.NoError,l=""){this.privProperties=new r.PropertyCollection;const p=s.scenario==="TextIndependentIdentification"?n.Identify:n.Verify;this.privReason=c,this.privReason!==r.ResultReason.Canceled?p===n.Identify?(this.privProfileId=s.identificationResult.identifiedProfile.profileId,this.privScore=s.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=s.verificationResult.score,s.verificationResult.recognitionResult.toLowerCase()!=="accept"&&(this.privReason=r.ResultReason.NoMatch),s.verificationResult.profileId!==void 0&&s.verificationResult.profileId!==""&&(this.privProfileId=s.verificationResult.profileId)):(this.privErrorDetails=l,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[u])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(s))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}}t.SpeakerRecognitionResult=i;class o extends r.CancellationDetailsBase{constructor(s,c,u){super(s,c,u)}static fromResult(s){const c=r.CancellationReason.Error;let u=r.CancellationErrorCode.NoError;return s.properties&&(u=r.CancellationErrorCode[s.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new o(c,s.errorDetails,u)}}t.SpeakerRecognitionCancellationDetails=o}(bp)),bp}var kp={},Yr={},Rm;function Ew(){if(Rm)return Yr;Rm=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.ConversationImpl=Yr.Conversation=void 0;const t=M(),e=L(),r=F,n=A();let i=class{constructor(){}static createConversationAsync(s,c,u,l){r.Contracts.throwIfNullOrUndefined(s,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(s.region,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),!s.subscriptionKey&&!s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(s.subscriptionKey,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));let p,d,h;return typeof c=="string"?(p=new o(s,c),e.marshalPromiseToCallbacks((async()=>{})(),u,l)):(p=new o(s),d=c,h=u,p.createConversationAsync(()=>{d&&d()},f=>{h&&h(f)})),p}};Yr.Conversation=i;class o extends i{constructor(s,c){if(super(),this.privErrors=t.ConversationConnectionConfig.restErrors,this.onConnected=p=>{var d;this.privIsConnected=!0;try{(d=this.privConversationTranslator)!=null&&d.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,p)}catch{}},this.onDisconnected=p=>{var d;try{(d=this.privConversationTranslator)!=null&&d.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,p)}catch{}finally{this.close(!1)}},this.onCanceled=(p,d)=>{var h;try{(h=this.privConversationTranslator)!=null&&h.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,d)}catch{}},this.onParticipantUpdateCommandReceived=(p,d)=>{try{const h=this.privParticipants.getParticipant(d.id);if(h!==void 0){switch(d.key){case t.ConversationTranslatorCommandTypes.changeNickname:h.displayName=d.value;break;case t.ConversationTranslatorCommandTypes.setUseTTS:h.isUsingTts=d.value;break;case t.ConversationTranslatorCommandTypes.setProfanityFiltering:h.profanity=d.value;break;case t.ConversationTranslatorCommandTypes.setMute:h.isMuted=d.value;break;case t.ConversationTranslatorCommandTypes.setTranslateToLanguages:h.translateToLanguages=d.value;break}this.privParticipants.addOrUpdateParticipant(h),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(h)],d.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(p,d)=>{try{this.privParticipants.participants.forEach(h=>h.isMuted=h.isHost?!1:d.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),d.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(p,d)=>{try{const h=this.privParticipants.addOrUpdateParticipant(d.participant);h!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(h)],d.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(p,d)=>{try{const h=this.privParticipants.getParticipant(d.participant.id);h!==void 0&&(this.privParticipants.deleteParticipant(d.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(h)],d.sessionId)))}catch{}},this.onTranslationReceived=(p,d)=>{try{switch(d.command){case t.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case t.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case t.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break}}catch{}},this.onParticipantsListReceived=(p,d)=>{var h;try{if(d.sessionToken!==void 0&&d.sessionToken!==null&&(this.privRoom.token=d.sessionToken),this.privParticipants.participants=[...d.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),d.sessionId)),this.me.isHost){const f=(h=this.privConversationTranslator)==null?void 0:h.properties.getProperty(n.PropertyId.ConversationTranslator_Name);f!==void 0&&f.length>0&&f!==this.me.displayName&&this.changeNicknameAsync(f)}}catch{}},this.onConversationExpiration=(p,d)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,d)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new t.ConversationManager,s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||s.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],t.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),c)this.privConversationId=c;else{s.targetLanguages.length===0&&s.addTargetLanguage(this.privLanguage),s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceResponse_ProfanityOption])||s.setProfanity(n.ProfanityOption.Masked);let d=s.getProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name]);d==null&&(d="Host"),r.Contracts.throwIfNullOrTooLong(d,"nickname",50),r.Contracts.throwIfNullOrTooShort(d,"nickname",2),s.setProperty(n.PropertyId[n.PropertyId.ConversationTranslator_Name],d)}this.privConfig=s;const l=s;r.Contracts.throwIfNull(l,"speechConfig"),this.privProperties=l.properties.clone(),this.privIsConnected=!1,this.privParticipants=new t.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var s,c;return(s=this.privParticipants.me)!=null&&s.isHost?!1:(c=this.privParticipants.me)==null?void 0:c.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const s=this.conversationId,c=this.participants.map(p=>({id:p.id,preferredLanguage:p.preferredLanguage,voice:p.voice})),u={};for(const p of t.ConversationConnectionConfig.transcriptionEventKeys){const d=this.properties.getProperty(p,"");d!==""&&(u[p]=d)}return{id:s,participants:c,conversationProperties:u}}get canSend(){var s;return this.privIsConnected&&!((s=this.privParticipants.me)!=null&&s.isMuted)}get canSendAsHost(){var s;return this.privIsConnected&&((s=this.privParticipants.me)==null?void 0:s.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(s){r.Contracts.throwIfNullOrWhitespace(s,"authorizationToken"),this.privToken=s}set conversationTranslator(s){this.privConversationTranslator=s}onToken(s){this.privConversationTranslator.onToken(s)}createConversationAsync(s,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),this.privManager.createOrJoin(this.privProperties,void 0,u=>{u||this.handleError(new Error(this.privErrors.permissionDeniedConnect),c),this.privRoom=u,this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}startConversationAsync(s,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=t.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}addParticipantAsync(s,c,u){r.Contracts.throwIfNullOrUndefined(s,"Participant"),e.marshalPromiseToCallbacks(this.addParticipantImplAsync(s),c,u)}joinConversationAsync(s,c,u,l,p){try{r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(c,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,s,d=>{r.Contracts.throwIfNullOrUndefined(d,this.privErrors.permissionDeniedConnect),this.privRoom=d,this.privConfig.authorizationToken=d.cognitiveSpeechAuthToken,l&&l(d.cognitiveSpeechAuthToken)},d=>{this.handleError(d,p)})}catch(d){this.handleError(d,p)}}deleteConversationAsync(s,c){e.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),s,c)}async deleteConversationImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(s,c){e.marshalPromiseToCallbacks(this.endConversationImplAsync(),s,c)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}muteAllParticipantsAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}muteParticipantAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),!this.me.isHost&&this.me.id!==s&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),u),this.privParticipants.getParticipantIndex(s)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(s,!0),()=>{this.handleCallback(c,u)},p=>{this.handleError(p,u)})}catch(l){this.handleError(l,u)}}removeParticipantAsync(s,c,u){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&s.hasOwnProperty("id"))e.marshalPromiseToCallbacks(this.removeParticipantImplAsync(s),c,u);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),u);let l="";typeof s=="string"?l=s:s.hasOwnProperty("id")?l=s.id:s.hasOwnProperty("userId")&&(l=s.userId),r.Contracts.throwIfNullOrWhitespace(l,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(d=>d.id===l)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(l),()=>{this.handleCallback(c,u)},d=>{this.handleError(d,u)})}}catch(l){this.handleError(l,u)}}unlockConversationAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}unmuteAllParticipantsAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}unmuteParticipantAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),!this.me.isHost&&this.me.id!==s&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),u),this.privParticipants.getParticipantIndex(s)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(s,!1),()=>{this.handleCallback(c,u)},p=>{this.handleError(p,u)})}catch(l){this.handleError(l,u)}}sendTextMessageAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),s.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(s),()=>{this.handleCallback(c,u)},l=>{this.handleError(l,u)})}catch(l){this.handleError(l,u)}}setTranslatedLanguagesAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(s),()=>{this.handleCallback(c,u)},l=>{this.handleError(l,u)})}catch(l){this.handleError(l,u)}}changeNicknameAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(s),()=>{this.handleCallback(c,u)},l=>{this.handleError(l,u)})}catch(l){this.handleError(l,u)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(s){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await s.enforceAudioGating(),this.privTranscriberRecognizer=s,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const s=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:s,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(s){if(this.privParticipants.addOrUpdateParticipant(s)!==void 0&&this.privTranscriberRecognizer){const u=this.conversationInfo;return u.participants=[s],this.privTranscriberRecognizer.pushConversationEvent(u,"join")}}removeParticipantImplAsync(s){this.privParticipants.deleteParticipant(s.id);const c=this.conversationInfo;return c.participants=[s],this.privTranscriberRecognizer.pushConversationEvent(c,"leave")}async close(s){var c;try{this.privIsConnected=!1,await((c=this.privConversationRecognizer)==null?void 0:c.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(u){throw u}s&&this.dispose()}handleCallback(s,c){if(s){try{s()}catch(u){c&&c(u)}s=void 0}}handleError(s,c){if(c)if(s instanceof Error){const u=s;c(u.name+": "+u.message)}else c(s)}toParticipants(s){const c=this.privParticipants.participants.map(u=>this.toParticipant(u));return s?c:c.filter(u=>u.isHost===!1)}toParticipant(s){return new n.Participant(s.id,s.avatar,s.displayName,s.isHost,s.isMuted,s.isUsingTts,s.preferredLanguage,s.voice)}getMuteAllCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getMuteCommand(s,c){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(s,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMute,participantId:s,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:c})}getLockCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getEjectCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(s,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.ejectParticipant,participantId:s,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getChangeNicknameCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(s,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.changeNickname,nickname:s,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getMessageCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(s,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:s,type:t.ConversationTranslatorMessageTypes.instantMessage})}}return Yr.ConversationImpl=o,Yr}var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.ConversationCommon=void 0;class EM{constructor(e){this.privAudioConfig=e}handleCallback(e,r){if(e){try{e()}catch(n){r&&r(n)}e=void 0}}handleError(e,r){if(r)if(e instanceof Error){const n=e;r(n.name+": "+n.message)}else r(e)}}ul.ConversationCommon=EM;var Po={},wm;function TM(){if(wm)return Po;wm=1,Object.defineProperty(Po,"__esModule",{value:!0}),Po.ConversationExpirationEventArgs=void 0;const t=A();let e=class extends t.SessionEventArgs{constructor(n,i){super(i),this.privExpirationTime=n}get expirationTime(){return this.privExpirationTime}};return Po.ConversationExpirationEventArgs=e,Po}var Ro={},Em;function IM(){if(Em)return Ro;Em=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.ConversationParticipantsChangedEventArgs=void 0;const t=A();let e=class extends t.SessionEventArgs{constructor(n,i,o){super(o),this.privReason=n,this.privParticipant=i}get reason(){return this.privReason}get participants(){return this.privParticipant}};return Ro.ConversationParticipantsChangedEventArgs=e,Ro}var wo={},Tm;function AM(){if(Tm)return wo;Tm=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.ConversationTranslationCanceledEventArgs=void 0;const t=Ta();let e=class extends t.CancellationEventArgsBase{};return wo.ConversationTranslationCanceledEventArgs=e,wo}var Eo={},Im;function _M(){if(Im)return Eo;Im=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.ConversationTranslationEventArgs=void 0;const t=A();let e=class extends t.RecognitionEventArgs{constructor(n,i,o){super(i,o),this.privResult=n}get result(){return this.privResult}};return Eo.ConversationTranslationEventArgs=e,Eo}var To={},Am;function bM(){if(Am)return To;Am=1,Object.defineProperty(To,"__esModule",{value:!0}),To.ConversationTranslationResult=void 0;const t=sw();let e=class extends t.TranslationRecognitionResult{constructor(n,i,o,a,s,c,u,l,p,d,h){super(i,a,s,c,u,l,void 0,void 0,p,d,h),this.privId=n,this.privOrigLang=o}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}};return To.ConversationTranslationResult=e,To}var Op={},Io={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.StringUtils=void 0;class kM{static formatString(e,r){if(!e)return"";if(!r)return e;let n="",i="";const o=c=>{n+=c},a=c=>{i+=c};let s=o;for(let c=0;c<e.length;c++){const u=e[c],l=c+1<e.length?e[c+1]:"";switch(u){case"{":l==="{"?(s("{"),c++):s=a;break;case"}":l==="}"?(s("}"),c++):(r.hasOwnProperty(i)&&(n+=r[i]),s=o,i="");break;default:s(u);break}}return n}}Aa.StringUtils=kM;var _m;function OM(){if(_m)return Io;_m=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.ConversationTranslatorConnectionFactory=void 0;const t=Ie(),e=Aa,r=F,n=A(),i=Te,o=Dt,a=Nt(),s=M();let c=class Tw extends a.ConnectionFactoryBase{constructor(l){super(),r.Contracts.throwIfNullOrUndefined(l,"convGetter"),this.privConvGetter=l}create(l,p,d){const h=l.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase()==="TRUE",f=this.privConvGetter().room,g=f.cognitiveSpeechRegion||l.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Region,""),y={hostSuffix:a.ConnectionFactoryBase.getHostSuffix(g),path:Tw.CTS_VIRT_MIC_PATH,region:encodeURIComponent(g)};y[o.QueryParameterNames.Language]=encodeURIComponent(l.parameters.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage,"")),y[o.QueryParameterNames.CtsMeetingId]=encodeURIComponent(f.roomId),y[o.QueryParameterNames.CtsDeviceId]=encodeURIComponent(f.participantId),y[o.QueryParameterNames.CtsIsParticipant]=f.isHost?"":"&"+o.QueryParameterNames.CtsIsParticipant;let v="";const m={},S={};if(h){v=l.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Endpoint),v||(v="wss://"+l.parameters.getProperty(n.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"),v=e.StringUtils.formatString(v,y);const R=new URL(v);R.searchParams.forEach((T,E)=>{m[E]=T}),new s.TranscriberConnectionFactory().setQueryParams(m,l,v),m[o.QueryParameterNames.CtsMeetingId]=y[o.QueryParameterNames.CtsMeetingId],m[o.QueryParameterNames.CtsDeviceId]=y[o.QueryParameterNames.CtsDeviceId],f.isHost||(m[o.QueryParameterNames.CtsIsParticipant]=""),o.QueryParameterNames.Format in m||(m[o.QueryParameterNames.Format]="simple"),R.searchParams.forEach((T,E)=>{R.searchParams.set(E,m[E]),delete m[E]}),v=R.toString()}else{const R=new s.TranslationConnectionFactory;v=R.getEndpointUrl(l,!0),v=e.StringUtils.formatString(v,y),R.setQueryParams(m,l,v)}S[i.HeaderNames.ConnectionId]=d,S[t.RestConfigBase.configParams.token]=f.token,p.token&&(S[p.headerName]=p.token);const C=l.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase()==="TRUE";return new t.WebsocketConnection(v,m,S,new s.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(l),C,d)}};return Io.ConversationTranslatorConnectionFactory=c,c.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio",Io}var bm;function MM(){return bm||(bm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslator=t.SpeechState=void 0;const e=M(),r=OM(),n=L(),i=F,o=A(),a=Ew(),s=yf();var c;(function(p){p[p.Inactive=0]="Inactive",p[p.Connecting=1]="Connecting",p[p.Connected=2]="Connected"})(c=t.SpeechState||(t.SpeechState={}));class u extends o.TranslationRecognizer{constructor(d,h,f,g){super(d,h,new r.ConversationTranslatorConnectionFactory(g)),this.privSpeechState=c.Inactive,f&&(this.privTranslator=f,this.sessionStarted=()=>{this.privSpeechState=c.Connected},this.sessionStopped=()=>{this.privSpeechState=c.Inactive},this.recognizing=(y,v)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,v)},this.recognized=async(y,v)=>{var m;(m=v.result)!=null&&m.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(v.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,v)},this.canceled=async()=>{if(this.privSpeechState!==c.Inactive)try{await this.cancelSpeech()}catch{this.privSpeechState=c.Inactive}})}get state(){return this.privSpeechState}set state(d){this.privSpeechState=d}set authentication(d){this.privReco.authentication=d}onConnection(){this.privSpeechState=c.Connected}async onCancelSpeech(){this.privSpeechState=c.Inactive,await this.cancelSpeech()}fireCancelEvent(d){try{if(this.privTranslator.canceled){const h=new s.ConversationTranslationCanceledEventArgs(o.CancellationReason.Error,d,o.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,h)}}catch{}}async cancelSpeech(){var d;try{this.stopContinuousRecognitionAsync(),await((d=this.privReco)==null?void 0:d.disconnect()),this.privSpeechState=c.Inactive}catch{}}}class l extends s.ConversationCommon{constructor(d){super(d),this.privErrors=e.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new o.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){var d;return(d=this.privConversation)==null?void 0:d.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer||this.privIsSpeaking||this.privCTRecognizer.state===c.Connected||this.privCTRecognizer.state===c.Connecting||this.privConversation.isMutedByHost)}onToken(d){this.privCTRecognizer.authentication=d}setServiceProperty(d,h){const f=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));f[d]=h,this.privProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(f))}joinConversationAsync(d,h,f,g,y){try{if(typeof d=="string"){i.Contracts.throwIfNullOrUndefined(d,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(h,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),y);let v=f;(v==null||v==="")&&(v=e.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=o.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(o.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(v),this.privSpeechTranslationConfig.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage],v),this.privSpeechTranslationConfig.setProperty(o.PropertyId[o.PropertyId.ConversationTranslator_Name],h);const m=[o.PropertyId.SpeechServiceConnection_Host,o.PropertyId.ConversationTranslator_Host,o.PropertyId.SpeechServiceConnection_Endpoint,o.PropertyId.SpeechServiceConnection_ProxyHostName,o.PropertyId.SpeechServiceConnection_ProxyPassword,o.PropertyId.SpeechServiceConnection_ProxyPort,o.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const C of m){const R=this.privProperties.getProperty(C);if(R){const w=typeof C=="string"?C:o.PropertyId[C];this.privSpeechTranslationConfig.setProperty(w,R)}}const S=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));for(const C of Object.keys(S))this.privSpeechTranslationConfig.setServiceProperty(C,S[C],o.ServicePropertyChannel.UriQueryParameter);this.privConversation=new a.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(d,h,v,C=>{C||this.handleError(new Error(this.privErrors.permissionDeniedConnect),y),this.privSpeechTranslationConfig.authorizationToken=C,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync(()=>{this.handleCallback(g,y)},R=>{this.handleError(R,y)})},C=>{this.handleError(C,y)})}else typeof d=="object"?(i.Contracts.throwIfNullOrUndefined(d,this.privErrors.invalidArgs.replace("{arg}","conversation id")),i.Contracts.throwIfNullOrWhitespace(h,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(o.PropertyId.ConversationTranslator_Name,h),this.privConversation=d,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=d.config,this.handleCallback(f,g)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),g)}catch(v){this.handleError(v,typeof f=="string"?y:g)}}leaveConversationAsync(d,h){n.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),d,h)}sendTextMessageAsync(d,h,f){try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}",d)),this.privConversation.sendTextMessageAsync(d,h,f)}catch(g){this.handleError(g,f)}}startTranscribingAsync(d,h){n.marshalPromiseToCallbacks((async()=>{try{i.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),i.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privCTRecognizer===void 0&&await this.connectTranslatorRecognizer(),i.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(f){throw this.privIsSpeaking=!1,await this.cancelSpeech(),f}})(),d,h)}stopTranscribingAsync(d,h){n.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking){await this.cancelSpeech();return}this.privIsSpeaking=!1,await new Promise((f,g)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(f,g)})}catch{await this.cancelSpeech()}})(),d,h)}isDisposed(){return this.privIsDisposed}dispose(d,h,f){n.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),h,f)}async cancelSpeech(){var d;try{this.privIsSpeaking=!1,await((d=this.privCTRecognizer)==null?void 0:d.onCancelSpeech()),this.privCTRecognizer=void 0}catch{}}async connectTranslatorRecognizer(){try{this.privAudioConfig===void 0&&(this.privAudioConfig=o.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key],"");const d=()=>this.privConversation;this.privCTRecognizer=new u(this.privSpeechTranslationConfig,this.privAudioConfig,this,d)}catch(d){throw await this.cancelSpeech(),d}}startContinuousRecognition(){return new Promise((d,h)=>{this.privCTRecognizer.startContinuousRecognitionAsync(d,h)})}}t.ConversationTranslator=l}(Op)),Op}var Ao={},km;function DM(){if(km)return Ao;km=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.ConversationTranscriber=void 0;const t=M(),e=L(),r=F,n=A();let i=class Iw extends n.Recognizer{constructor(a,s){const c=a;r.Contracts.throwIfNull(c,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(c.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage),n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),super(s,c.properties,new t.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(n.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(a,s,c){const u=a;return s.properties.mergeTo(u.properties),new Iw(a,c)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,a)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(t.OutputFormatPropertyName,n.OutputFormat[n.OutputFormat.Simple])===n.OutputFormat[n.OutputFormat.Simple]?n.OutputFormat.Simple:n.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(a,s){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(t.RecognitionMode.Conversation),a,s)}stopTranscribingAsync(a,s){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,s)}close(a,s){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),a,s)}async dispose(a){this.privDisposedRecognizer||(a&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(a))}createRecognizerConfig(a){return new t.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,s,c,u){const l=c;return u.isSpeakerDiarizationEnabled=!0,new t.ConversationTranscriptionServiceRecognizer(a,s,l,u,this)}};return Ao.ConversationTranscriber=i,Ao}var Zr={},Om;function NM(){if(Om)return Zr;Om=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Participant=Zr.User=void 0;const t=A();class e{constructor(i){this.privUserId=i}get userId(){return this.privUserId}}Zr.User=e;class r{constructor(i,o,a,s,c,u,l,p){this.privId=i,this.privAvatar=o,this.privDisplayName=a,this.privIsHost=s,this.privIsMuted=c,this.privIsUsingTts=u,this.privPreferredLanguage=l,this.privVoice=p,this.privProperties=new t.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(i,o,a){return new r(i,"",i,!1,!1,!1,o,a)}}return Zr.Participant=r,Zr}var Aw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantChangedReason=void 0,function(e){e[e.JoinedConversation=0]="JoinedConversation",e[e.LeftConversation=1]="LeftConversation",e[e.Updated=2]="Updated"}(t.ParticipantChangedReason||(t.ParticipantChangedReason={}))})(Aw);var en={},Mm;function xM(){if(Mm)return en;Mm=1,Object.defineProperty(en,"__esModule",{value:!0}),en.MeetingImpl=en.Meeting=void 0;const t=M(),e=L(),r=F,n=A();let i=class{constructor(){}static createMeetingAsync(s,c,u,l){if(r.Contracts.throwIfNullOrUndefined(s,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(s.region,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),r.Contracts.throwIfNull(c,"meetingId"),c.length===0)throw new Error("meetingId cannot be empty");!s.subscriptionKey&&!s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(s.subscriptionKey,t.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const p=new o(s,c);return e.marshalPromiseToCallbacks((async()=>{})(),u,l),p}};en.Meeting=i;class o extends i{constructor(s,c){super(),this.privErrors=t.ConversationConnectionConfig.restErrors,this.onConnected=p=>{var d;this.privIsConnected=!0;try{(d=this.privConversationTranslator)!=null&&d.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,p)}catch{}},this.onDisconnected=p=>{var d;try{(d=this.privConversationTranslator)!=null&&d.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,p)}catch{}finally{this.close(!1)}},this.onCanceled=(p,d)=>{var h;try{(h=this.privConversationTranslator)!=null&&h.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,d)}catch{}},this.onParticipantUpdateCommandReceived=(p,d)=>{try{const h=this.privParticipants.getParticipant(d.id);if(h!==void 0){switch(d.key){case t.ConversationTranslatorCommandTypes.changeNickname:h.displayName=d.value;break;case t.ConversationTranslatorCommandTypes.setUseTTS:h.isUsingTts=d.value;break;case t.ConversationTranslatorCommandTypes.setProfanityFiltering:h.profanity=d.value;break;case t.ConversationTranslatorCommandTypes.setMute:h.isMuted=d.value;break;case t.ConversationTranslatorCommandTypes.setTranslateToLanguages:h.translateToLanguages=d.value;break}this.privParticipants.addOrUpdateParticipant(h),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,[this.toParticipant(h)],d.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(p,d)=>{try{this.privParticipants.participants.forEach(h=>h.isMuted=h.isHost?!1:d.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.Updated,this.toParticipants(!1),d.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(p,d)=>{try{const h=this.privParticipants.addOrUpdateParticipant(d.participant);h!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,[this.toParticipant(h)],d.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(p,d)=>{try{const h=this.privParticipants.getParticipant(d.participant.id);h!==void 0&&(this.privParticipants.deleteParticipant(d.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.LeftConversation,[this.toParticipant(h)],d.sessionId)))}catch{}},this.onTranslationReceived=(p,d)=>{try{switch(d.command){case t.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case t.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break;case t.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new n.ConversationTranslationEventArgs(d.payload,void 0,d.sessionId));break}}catch{}},this.onParticipantsListReceived=(p,d)=>{var h;try{if(d.sessionToken!==void 0&&d.sessionToken!==null&&(this.privRoom.token=d.sessionToken),this.privParticipants.participants=[...d.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new n.ConversationParticipantsChangedEventArgs(n.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),d.sessionId)),this.me.isHost){const f=(h=this.privConversationTranslator)==null?void 0:h.properties.getProperty(n.PropertyId.ConversationTranslator_Name);f!==void 0&&f.length>0&&f!==this.me.displayName&&this.changeNicknameAsync(f)}}catch{}},this.onConversationExpiration=(p,d)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,d)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new n.PropertyCollection,this.privManager=new t.ConversationManager,s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage])||s.setProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage],t.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=s.getProperty(n.PropertyId[n.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=c,this.privConfig=s;const l=s;r.Contracts.throwIfNull(l,"speechConfig"),this.privProperties=l.properties.clone(),this.privIsConnected=!1,this.privParticipants=new t.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var s,c;return(s=this.privParticipants.me)!=null&&s.isHost?!1:(c=this.privParticipants.me)==null?void 0:c.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const s=this.meetingId,c=this.participants.map(p=>({id:p.id,preferredLanguage:p.preferredLanguage,voice:p.voice})),u={};for(const p of t.ConversationConnectionConfig.transcriptionEventKeys){const d=this.properties.getProperty(p,"");d!==""&&(u[p]=d)}return{id:s,participants:c,meetingProperties:u}}get canSend(){var s;return this.privIsConnected&&!((s=this.privParticipants.me)!=null&&s.isMuted)}get canSendAsHost(){var s;return this.privIsConnected&&((s=this.privParticipants.me)==null?void 0:s.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(s){r.Contracts.throwIfNullOrWhitespace(s,"authorizationToken"),this.privToken=s}createMeetingAsync(s,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),this.privManager.createOrJoin(this.privProperties,void 0,u=>{u||this.handleError(new Error(this.privErrors.permissionDeniedConnect),c),this.privRoom=u,this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}startMeetingAsync(s,c){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),c),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}addParticipantAsync(s,c,u){r.Contracts.throwIfNullOrUndefined(s,"Participant"),e.marshalPromiseToCallbacks(this.addParticipantImplAsync(s),c,u)}joinMeetingAsync(s,c,u,l,p){try{r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(c,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(u,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,s,d=>{r.Contracts.throwIfNullOrUndefined(d,this.privErrors.permissionDeniedConnect),this.privRoom=d,this.privConfig.authorizationToken=d.cognitiveSpeechAuthToken,l&&l(d.cognitiveSpeechAuthToken)},d=>{this.handleError(d,p)})}catch(d){this.handleError(d,p)}}deleteMeetingAsync(s,c){e.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),s,c)}async deleteMeetingImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(s,c){e.marshalPromiseToCallbacks(this.endMeetingImplAsync(),s,c)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}muteAllParticipantsAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}muteParticipantAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),!this.me.isHost&&this.me.id!==s&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),u),this.privParticipants.getParticipantIndex(s)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(s,!0),()=>{this.handleCallback(c,u)},p=>{this.handleError(p,u)})}catch(l){this.handleError(l,u)}}removeParticipantAsync(s,c,u){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&s.hasOwnProperty("id"))e.marshalPromiseToCallbacks(this.removeParticipantImplAsync(s),c,u);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),u);let l="";typeof s=="string"?l=s:s.hasOwnProperty("id")?l=s.id:s.hasOwnProperty("userId")&&(l=s.userId),r.Contracts.throwIfNullOrWhitespace(l,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(d=>d.id===l)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(l),()=>{this.handleCallback(c,u)},d=>{this.handleError(d,u)})}}catch(l){this.handleError(l,u)}}unlockMeetingAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}unmuteAllParticipantsAsync(s,c){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),c),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(s,c)},u=>{this.handleError(u,c)})}catch(u){this.handleError(u,c)}}unmuteParticipantAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),!this.me.isHost&&this.me.id!==s&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),u),this.privParticipants.getParticipantIndex(s)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(s,!1),()=>{this.handleCallback(c,u)},p=>{this.handleError(p,u)})}catch(l){this.handleError(l,u)}}sendTextMessageAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),s.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(s),()=>{this.handleCallback(c,u)},l=>{this.handleError(l,u)})}catch(l){this.handleError(l,u)}}setTranslatedLanguagesAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(s),()=>{this.handleCallback(c,u)},l=>{this.handleError(l,u)})}catch(l){this.handleError(l,u)}}changeNicknameAsync(s,c,u){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),u),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(s),()=>{this.handleCallback(c,u)},l=>{this.handleError(l,u)})}catch(l){this.handleError(l,u)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(s){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await s.enforceAudioGating(),this.privTranscriberRecognizer=s,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const s=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:s,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(s){if(this.privParticipants.addOrUpdateParticipant(s)!==void 0&&this.privTranscriberRecognizer){const u=this.meetingInfo;return u.participants=[s],this.privTranscriberRecognizer.pushMeetingEvent(u,"join")}}removeParticipantImplAsync(s){this.privParticipants.deleteParticipant(s.id);const c=this.meetingInfo;return c.participants=[s],this.privTranscriberRecognizer.pushMeetingEvent(c,"leave")}async close(s){var c;try{this.privIsConnected=!1,await((c=this.privConversationRecognizer)==null?void 0:c.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(u){throw u}s&&this.dispose()}handleCallback(s,c){if(s){try{s()}catch(u){c&&c(u)}s=void 0}}handleError(s,c){if(c)if(s instanceof Error){const u=s;c(u.name+": "+u.message)}else c(s)}toParticipants(s){const c=this.privParticipants.participants.map(u=>this.toParticipant(u));return s?c:c.filter(u=>u.isHost===!1)}toParticipant(s){return new n.Participant(s.id,s.avatar,s.displayName,s.isHost,s.isMuted,s.isUsingTts,s.preferredLanguage,s.voice)}getMuteAllCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getMuteCommand(s,c){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(s,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setMute,participantId:s,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:c})}getLockCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getEjectCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(s,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.ejectParticipant,participantId:s,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getChangeNicknameCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(s,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:t.ConversationTranslatorCommandTypes.changeNickname,nickname:s,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:t.ConversationTranslatorMessageTypes.participantCommand,value:s})}getMessageCommand(s){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(s,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:s,type:t.ConversationTranslatorMessageTypes.instantMessage})}}return en.MeetingImpl=o,en}var _o={},Dm;function LM(){if(Dm)return _o;Dm=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.MeetingTranscriptionCanceledEventArgs=void 0;const t=Ta();class e extends t.CancellationEventArgsBase{}return _o.MeetingTranscriptionCanceledEventArgs=e,_o}var bo={},Nm;function zM(){if(Nm)return bo;Nm=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.MeetingTranscriber=void 0;const t=M(),e=L(),r=F,n=A(),i=yf();let o=class{constructor(s){this.privAudioConfig=s,this.privProperties=new n.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return n.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(s){r.Contracts.throwIfNullOrWhitespace(s,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,s)}joinMeetingAsync(s,c,u){const l=s;r.Contracts.throwIfNullOrUndefined(i.MeetingImpl,"Meeting"),this.privRecognizer=new t.TranscriberRecognizer(s.config,this.privAudioConfig),r.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),e.marshalPromiseToCallbacks(l.connectTranscriberRecognizer(this.privRecognizer),c,u)}startTranscribingAsync(s,c){this.privRecognizer.startContinuousRecognitionAsync(s,c)}stopTranscribingAsync(s,c){this.privRecognizer.stopContinuousRecognitionAsync(s,c)}leaveMeetingAsync(s,c){this.privRecognizer.disconnectCallbacks(),e.marshalPromiseToCallbacks((async()=>{})(),s,c)}close(s,c){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),e.marshalPromiseToCallbacks(this.dispose(!0),s,c)}async dispose(s){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),s&&(this.privDisposedRecognizer=!0))}};return bo.MeetingTranscriber=o,bo}var ko={},xm;function jM(){if(xm)return ko;xm=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.ConversationTranscriptionResult=void 0;const t=A();let e=class extends t.RecognitionResult{constructor(n,i,o,a,s,c,u,l,p,d,h){super(n,i,o,a,s,c,u,p,d,h),this.privSpeakerId=l}get speakerId(){return this.privSpeakerId}};return ko.ConversationTranscriptionResult=e,ko}var Lm;function yf(){return Lm||(Lm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ew();Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return e.Conversation}}),Object.defineProperty(t,"ConversationImpl",{enumerable:!0,get:function(){return e.ConversationImpl}});var r=ul;Object.defineProperty(t,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var n=TM();Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return n.ConversationExpirationEventArgs}});var i=IM();Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return i.ConversationParticipantsChangedEventArgs}});var o=AM();Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return o.ConversationTranslationCanceledEventArgs}});var a=_M();Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return a.ConversationTranslationEventArgs}});var s=bM();Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return s.ConversationTranslationResult}});var c=MM();Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return c.ConversationTranslator}});var u=DM();Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return u.ConversationTranscriber}});var l=NM();Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return l.Participant}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return l.User}});var p=Aw;Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return p.ParticipantChangedReason}});var d=xM();Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return d.Meeting}}),Object.defineProperty(t,"MeetingImpl",{enumerable:!0,get:function(){return d.MeetingImpl}});var h=LM();Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return h.MeetingTranscriptionCanceledEventArgs}});var f=zM();Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return f.MeetingTranscriber}});var g=jM();Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return g.ConversationTranscriptionResult}})}(kp)),kp}var tn={},zm;function Sf(){if(zm)return tn;zm=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.SynthesisRequest=tn.Synthesizer=void 0;const t=M(),e=L(),r=F,n=A();let i=class _w{constructor(s){const c=s;r.Contracts.throwIfNull(c,"speechConfig"),this.privProperties=c.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new e.Queue}get authorizationToken(){return this.properties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(s){r.Contracts.throwIfNullOrWhitespace(s,"token"),this.properties.setProperty(n.PropertyId.SpeechServiceAuthorization_Token,s)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(n.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===t.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(s){const c={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-JennyNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let u=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),l=this.properties.getProperty(n.PropertyId.SpeechServiceConnection_SynthVoice,""),p=_w.XMLEncode(s);return this.autoDetectSourceLanguage?u="en-US":l=l||c[u],l&&(p=`<voice name='${l}'>${p}</voice>`),p=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${u}'>${p}</speak>`,p}async dispose(s){this.privDisposed||(s&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const s=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(s.text,s.isSSML,s.requestId,s.cb,s.err,s.dataStream)}}createSynthesizerConfig(s){return new t.SynthesizerConfig(s,this.privProperties)}implCommonSynthesizeSetup(){let s=typeof window<"u"?"Browser":"Node",c="unknown",u="unknown";typeof navigator<"u"&&(s=s+"/"+navigator.platform,c=navigator.userAgent,u=navigator.appVersion);const l=this.createSynthesizerConfig(new t.SpeechServiceConfig(new t.Context(new t.OS(s,c,u)))),p=this.privProperties.getProperty(n.PropertyId.SpeechServiceConnection_Key,void 0),d=p&&p!==""?new t.CognitiveSubscriptionKeyAuthentication(p):new t.CognitiveTokenAuthentication(()=>{const h=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(h)},()=>{const h=this.privProperties.getProperty(n.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(h)});this.privAdapter=this.createSynthesisAdapter(d,this.privConnectionFactory,l),this.privRestAdapter=this.createRestSynthesisAdapter(d,l)}static XMLEncode(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};tn.Synthesizer=i;class o{constructor(s,c,u,l,p,d){this.requestId=s,this.text=c,this.isSSML=u,this.cb=l,this.err=p,this.dataStream=d}}return tn.SynthesisRequest=o,tn}var Oo={},jm;function FM(){if(jm)return Oo;jm=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.SpeechSynthesizer=void 0;const t=M(),e=L(),r=Ea,n=Hr,i=be,o=F,a=A(),s=Sf();let c=class bw extends a.Synthesizer{constructor(l,p){super(l),p!==null&&(p===void 0?this.audioConfig=typeof window>"u"?void 0:a.AudioConfig.fromDefaultSpeakerOutput():this.audioConfig=p),this.privConnectionFactory=new t.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(l,p,d){const h=l;return p.properties.mergeTo(h.properties),new bw(l,d)}speakTextAsync(l,p,d,h){this.speakImpl(l,!1,p,d,h)}speakSsmlAsync(l,p,d,h){this.speakImpl(l,!0,p,d,h)}async getVoicesAsync(l=""){return this.getVoices(l)}close(l,p){o.Contracts.throwIfDisposed(this.privDisposed),e.marshalPromiseToCallbacks(this.dispose(!0),l,p)}get internalData(){return this.privAdapter}createSynthesisAdapter(l,p,d){return new t.SpeechSynthesisAdapter(l,p,d,this,this.audioConfig)}createRestSynthesisAdapter(l,p){return new t.SynthesisRestAdapter(p,l)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(a.SpeechSynthesisOutputFormat[this.properties.getProperty(a.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(l,p,d,h,f){try{o.Contracts.throwIfDisposed(this.privDisposed);const g=e.createNoDashGuid();let y;f instanceof a.PushAudioOutputStreamCallback?y=new i.PushAudioOutputStreamImpl(f):f instanceof a.PullAudioOutputStream?y=f:f!==void 0?y=new r.AudioFileWriter(f):y=void 0,this.synthesisRequestQueue.enqueue(new s.SynthesisRequest(g,l,p,v=>{if(this.privSynthesizing=!1,d)try{d(v)}catch(m){h&&h(m)}d=void 0,this.adapterSpeak().catch(()=>{})},v=>{h&&h(v)},y)),this.adapterSpeak().catch(()=>{})}catch(g){if(h)if(g instanceof Error){const y=g;h(y.name+": "+y.message)}else h(g);this.dispose(!0).catch(()=>{})}}async getVoices(l){const p=e.createNoDashGuid(),d=await this.privRestAdapter.getVoicesList(p);if(d.ok&&Array.isArray(d.json)){let h=d.json;return l&&l.length>0&&(h=h.filter(f=>!!f.Locale&&f.Locale.toLowerCase()===l.toLowerCase())),new a.SynthesisVoicesResult(p,h,void 0)}else return new a.SynthesisVoicesResult(p,void 0,`Error: ${d.status}: ${d.statusText}`)}};return Oo.SpeechSynthesizer=c,Oo}var ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.SynthesisResult=void 0;class BM{constructor(e,r,n,i){this.privResultId=e,this.privReason=r,this.privErrorDetails=n,this.privProperties=i}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}ll.SynthesisResult=BM;var Mo={},Fm;function $M(){if(Fm)return Mo;Fm=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.SpeechSynthesisResult=void 0;const t=A();let e=class extends t.SynthesisResult{constructor(n,i,o,a,s,c){super(n,i,a,s),this.privAudioData=o,this.privAudioDuration=c}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}};return Mo.SpeechSynthesisResult=e,Mo}var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.SpeechSynthesisEventArgs=void 0;class UM{constructor(e){this.privResult=e}get result(){return this.privResult}}pl.SpeechSynthesisEventArgs=UM;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.SpeechSynthesisWordBoundaryEventArgs=void 0;class qM{constructor(e,r,n,i,o,a){this.privAudioOffset=e,this.privDuration=r,this.privText=n,this.privWordLength=i,this.privTextOffset=o,this.privBoundaryType=a}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}dl.SpeechSynthesisWordBoundaryEventArgs=qM;var hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.SpeechSynthesisBookmarkEventArgs=void 0;class VM{constructor(e,r){this.privAudioOffset=e,this.privText=r}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}hl.SpeechSynthesisBookmarkEventArgs=VM;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.SpeechSynthesisVisemeEventArgs=void 0;class HM{constructor(e,r,n){this.privAudioOffset=e,this.privVisemeId=r,this.privAnimation=n}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}fl.SpeechSynthesisVisemeEventArgs=HM;var kw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBoundaryType=void 0,function(e){e.Word="WordBoundary",e.Punctuation="PunctuationBoundary",e.Sentence="SentenceBoundary"}(t.SpeechSynthesisBoundaryType||(t.SpeechSynthesisBoundaryType={}))})(kw);var Do={},Bm;function WM(){if(Bm)return Do;Bm=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.SynthesisVoicesResult=void 0;const t=A();let e=class extends t.SynthesisResult{constructor(n,i,o){if(Array.isArray(i)){super(n,t.ResultReason.VoicesListRetrieved,void 0,new t.PropertyCollection),this.privVoices=[];for(const a of i)this.privVoices.push(new t.VoiceInfo(a))}else super(n,t.ResultReason.Canceled,o||"Error information unavailable",new t.PropertyCollection)}get voices(){return this.privVoices}};return Do.SynthesisVoicesResult=e,Do}var Ow={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceInfo=t.SynthesisVoiceType=t.SynthesisVoiceGender=void 0;var e;(function(o){o[o.Unknown=0]="Unknown",o[o.Female=1]="Female",o[o.Male=2]="Male",o[o.Neutral=3]="Neutral"})(e=t.SynthesisVoiceGender||(t.SynthesisVoiceGender={}));var r;(function(o){o[o.OnlineNeural=1]="OnlineNeural",o[o.OnlineStandard=2]="OnlineStandard",o[o.OfflineNeural=3]="OfflineNeural",o[o.OfflineStandard=4]="OfflineStandard"})(r=t.SynthesisVoiceType||(t.SynthesisVoiceType={}));const n={[e[e.Neutral]]:e.Neutral,[e[e.Male]]:e.Male,[e[e.Female]]:e.Female};class i{constructor(a){if(this.privStyleList=[],a){if(this.privName=a.Name,this.privLocale=a.Locale,this.privShortName=a.ShortName,this.privLocaleName=a.LocaleName,this.privDisplayName=a.DisplayName,this.privLocalName=a.LocalName,this.privVoiceType=a.VoiceType.endsWith("Standard")?r.OnlineStandard:r.OnlineNeural,this.privGender=n[a.Gender]||e.Unknown,a.StyleList&&Array.isArray(a.StyleList))for(const s of a.StyleList)this.privStyleList.push(s);this.privSampleRateHertz=a.SampleRateHertz,this.privStatus=a.Status,a.ExtendedPropertyMap&&(this.privExtendedPropertyMap=a.ExtendedPropertyMap),this.privWordsPerMinute=a.WordsPerMinute,Array.isArray(a.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...a.SecondaryLocaleList]),Array.isArray(a.RolePlayList)&&(this.privRolePlayList=[...a.RolePlayList])}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}}t.VoiceInfo=i})(Ow);var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.SpeakerAudioDestination=void 0;const rn=L(),KM=be,vt=Vr,JM=60*30,$m={[vt.AudioFormatTag.PCM]:"audio/wav",[vt.AudioFormatTag.MuLaw]:"audio/x-wav",[vt.AudioFormatTag.MP3]:"audio/mpeg",[vt.AudioFormatTag.OGG_OPUS]:"audio/ogg",[vt.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[vt.AudioFormatTag.ALaw]:"audio/x-wav",[vt.AudioFormatTag.FLAC]:"audio/flac"};class GM{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||rn.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,r,n){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then(()=>{r&&r()},i=>{n&&n(i)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,r){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{e&&e()},n=>{r&&r(n)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===vt.AudioFormatTag.PCM||this.privFormat.formatTag===vt.AudioFormatTag.MuLaw||this.privFormat.formatTag===vt.AudioFormatTag.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let n=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(n).then(()=>{n=this.privFormat.addHeader(n);const i=new Blob([n],{type:$m[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(i),this.notifyPlayback().then(()=>{e&&e()},o=>{r&&r(o)})},i=>{r&&r(i)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(e){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=e;const r=$m[this.privFormat.formatTag];r===void 0?console.warn(`Unknown mimeType for format ${vt.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(r)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=JM,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(r),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(n=>{rn.Events.instance.onEvent(new rn.BackgroundEvent(n))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(n=>{rn.Events.instance.onEvent(new rn.BackgroundEvent(n))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(n=>{rn.Events.instance.onEvent(new rn.BackgroundEvent(n))})):(console.warn(`Format ${vt.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new KM.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var e;return((e=this.privAudio)==null?void 0:e.volume)??-1}set volume(e){this.privAudio&&(this.privAudio.volume=e)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,r){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{e&&e()},n=>{r&&r(n)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const e=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(e)}catch{this.privAudioBuffer.unshift(e),console.log("buffer filled, pausing addition of binaries until space is made");return}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}}vl.SpeakerAudioDestination=GM;var No={},Um;function QM(){if(Um)return No;Um=1,Object.defineProperty(No,"__esModule",{value:!0}),No.ConversationTranscriptionCanceledEventArgs=void 0;const t=Ta();let e=class extends t.CancellationEventArgsBase{};return No.ConversationTranscriptionCanceledEventArgs=e,No}var xo={},qm;function XM(){if(qm)return xo;qm=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.MeetingTranscriptionCanceledEventArgs=void 0;const t=Ta();let e=class extends t.CancellationEventArgsBase{};return xo.MeetingTranscriptionCanceledEventArgs=e,xo}var Mw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGradingSystem=void 0,function(e){e[e.FivePoint=1]="FivePoint",e[e.HundredMark=2]="HundredMark"}(t.PronunciationAssessmentGradingSystem||(t.PronunciationAssessmentGradingSystem={}))})(Mw);var Dw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGranularity=void 0,function(e){e[e.Phoneme=1]="Phoneme",e[e.Word=2]="Word",e[e.FullText=3]="FullText"}(t.PronunciationAssessmentGranularity||(t.PronunciationAssessmentGranularity={}))})(Dw);var Lo={},Vm;function YM(){if(Vm)return Lo;Vm=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.PronunciationAssessmentConfig=void 0;const t=F,e=A();let r=class Nw{constructor(i,o=e.PronunciationAssessmentGradingSystem.FivePoint,a=e.PronunciationAssessmentGranularity.Phoneme,s=!1){t.Contracts.throwIfNullOrUndefined(i,"referenceText"),this.privProperties=new e.PropertyCollection,this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_ReferenceText,i),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_GradingSystem,e.PronunciationAssessmentGradingSystem[o]),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_Granularity,e.PronunciationAssessmentGranularity[a]),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_EnableMiscue,String(s))}static fromJSON(i){t.Contracts.throwIfNullOrUndefined(i,"json");const o=new Nw("");return o.privProperties=new e.PropertyCollection,o.properties.setProperty(e.PropertyId.PronunciationAssessment_Json,i),o}toJSON(){return this.updateJson(),this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_Params)}applyTo(i){this.updateJson();const o=i.internalData;o.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,o.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(e.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,o.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(e.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(i){t.Contracts.throwIfNullOrWhitespace(i,"referenceText"),this.properties.setProperty(e.PropertyId.PronunciationAssessment_ReferenceText,i)}set phonemeAlphabet(i){t.Contracts.throwIfNullOrWhitespace(i,"phonemeAlphabet"),this.privPhonemeAlphabet=i}set enableMiscue(i){const o=i?"true":"false";this.properties.setProperty(e.PropertyId.PronunciationAssessment_EnableMiscue,o)}get enableMiscue(){return this.properties.getProperty(e.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()==="true"}set nbestPhonemeCount(i){this.privNBestPhonemeCount=i}set enableProsodyAssessment(i){this.privEnableProsodyAssessment=i}enableContentAssessmentWithTopic(i){this.privContentAssessmentTopic=i}get properties(){return this.privProperties}updateJson(){const i=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_Json,"{}"),o=JSON.parse(i),a=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_ReferenceText);a&&(o.referenceText=a);const s=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_GradingSystem);s&&(o.gradingSystem=s);const c=this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_Granularity);c&&(o.granularity=c),this.privPhonemeAlphabet&&(o.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(o.nbestPhonemeCount=this.privNBestPhonemeCount),o.enableProsodyAssessment=this.privEnableProsodyAssessment,o.dimension="Comprehensive",this.privProperties.getProperty(e.PropertyId.PronunciationAssessment_EnableMiscue)&&(o.enableMiscue=this.enableMiscue),this.privProperties.setProperty(e.PropertyId.PronunciationAssessment_Params,JSON.stringify(o))}};return Lo.PronunciationAssessmentConfig=r,Lo}var nn={},Hm;function ZM(){if(Hm)return nn;Hm=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.PronunciationAssessmentResult=nn.ContentAssessmentResult=void 0;const t=F,e=A();class r{constructor(o){this.privPronJson=o}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}nn.ContentAssessmentResult=r;let n=class xw{constructor(o){const a=JSON.parse(o);t.Contracts.throwIfNullOrUndefined(a.NBest[0],"NBest"),this.privPronJson=a.NBest[0]}static fromResult(o){t.Contracts.throwIfNullOrUndefined(o,"result");const a=o.properties.getProperty(e.PropertyId.SpeechServiceResponse_JsonResult);return t.Contracts.throwIfNullOrUndefined(a,"json"),new xw(a)}get detailResult(){return this.privPronJson}get accuracyScore(){var o;return(o=this.detailResult.PronunciationAssessment)==null?void 0:o.AccuracyScore}get pronunciationScore(){var o;return(o=this.detailResult.PronunciationAssessment)==null?void 0:o.PronScore}get completenessScore(){var o;return(o=this.detailResult.PronunciationAssessment)==null?void 0:o.CompletenessScore}get fluencyScore(){var o;return(o=this.detailResult.PronunciationAssessment)==null?void 0:o.FluencyScore}get prosodyScore(){var o;return(o=this.detailResult.PronunciationAssessment)==null?void 0:o.ProsodyScore}get contentAssessmentResult(){if(this.detailResult.ContentAssessment!==void 0)return new r(this.detailResult)}};return nn.PronunciationAssessmentResult=n,nn}var zo={},Wm;function eD(){if(Wm)return zo;Wm=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.AvatarConfig=void 0;const t=F,e=A();let r=class{constructor(i,o,a){this.privCustomized=!1,t.Contracts.throwIfNullOrWhitespace(i,"character"),this.character=i,this.style=o,a===void 0&&(a=new e.AvatarVideoFormat),this.videoFormat=a}get customized(){return this.privCustomized}set customized(i){this.privCustomized=i}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(i){this.privBackgroundColor=i}};return zo.AvatarConfig=r,zo}var Lw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarEventArgs=t.AvatarEventTypes=void 0,function(r){r.SwitchedToSpeaking="SwitchedToSpeaking",r.SwitchedToIdle="SwitchedToIdle",r.SessionClosed="SessionClosed"}(t.AvatarEventTypes||(t.AvatarEventTypes={}));class e{constructor(n,i){this.privOffset=n,this.privDescription=i}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}t.AvatarEventArgs=e})(Lw);var jo={},Fo={},Km;function zw(){if(Km)return Fo;Km=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.SpeechSynthesisConnectionFactory=void 0;const t=Ie(),e=A(),r=Nt(),n=M(),i=Te,o=Dt;let a=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(c,u,l){let p=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);const d=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,void 0),h=r.ConnectionFactoryBase.getHostSuffix(d),f=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_EndpointId,void 0),g=f===void 0?"tts":"voice",y=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,"wss://"+d+"."+g+".speech"+h),v={},m={};u.token!==void 0&&u.token!==""&&(m[u.headerName]=u.token),m[i.HeaderNames.ConnectionId]=l,f!==void 0&&f!==""&&(!p||p.search(o.QueryParameterNames.CustomVoiceDeploymentId)===-1)&&(v[o.QueryParameterNames.CustomVoiceDeploymentId]=f),c.avatarEnabled&&(!p||p.search(o.QueryParameterNames.EnableAvatar)===-1)&&(v[o.QueryParameterNames.EnableAvatar]="true"),p||(p=y+this.synthesisUri),c.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,p);const S=c.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(p,v,m,new n.WebsocketMessageFormatter,t.ProxyInfo.fromParameters(c.parameters),S,l)}};return Fo.SpeechSynthesisConnectionFactory=a,Fo}var Jm;function tD(){if(Jm)return jo;Jm=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.AvatarSynthesizer=void 0;const t=zw(),e=M(),r=L(),n=Hr,i=A(),o=F,a=Sf();let s=class extends i.Synthesizer{constructor(u,l){super(u),o.Contracts.throwIfNullOrUndefined(l,"avatarConfig"),this.privConnectionFactory=new t.SpeechSynthesisConnectionFactory,this.privAvatarConfig=l,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(i.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(u){o.Contracts.throwIfNullOrUndefined(u,"peerConnection"),this.privIceServers=u.getConfiguration().iceServers,o.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const l=new r.Deferred;u.onicegatheringstatechange=()=>{r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering state: "+u.iceGatheringState,r.EventType.Debug)),u.iceGatheringState==="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering complete.",r.EventType.Info)),l.resolve())},u.onicecandidate=g=>{g.candidate?r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: "+g.candidate.candidate,r.EventType.Debug)):(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: complete",r.EventType.Debug)),l.resolve())},setTimeout(()=>{u.iceGatheringState!=="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering timeout.",r.EventType.Warning)),l.resolve())},2e3);const p=await u.createOffer();await u.setLocalDescription(p),await l.promise,r.Events.instance.onEvent(new r.PlatformEvent("peer connection: got local SDP.",r.EventType.Info)),this.privProperties.setProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(u.localDescription));const d=await this.speak("",!1);if(d.reason!==i.ResultReason.SynthesizingAudioCompleted)return new i.SynthesisResult(d.resultId,d.reason,d.errorDetails,d.properties);const h=atob(d.properties.getProperty(i.PropertyId.TalkingAvatarService_WebRTC_SDP)),f=new RTCSessionDescription(JSON.parse(h));return await u.setRemoteDescription(f),new i.SynthesisResult(d.resultId,d.reason,void 0,d.properties)}async speakTextAsync(u){const l=await this.speak(u,!1);return new i.SynthesisResult(l.resultId,l.reason,l.errorDetails,l.properties)}async speakSsmlAsync(u){const l=await this.speak(u,!0);return new i.SynthesisResult(l.resultId,l.reason,l.errorDetails,l.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;)(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.");return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return o.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(u,l,p){return new e.AvatarSynthesisAdapter(u,l,p,this,this.privAvatarConfig)}createRestSynthesisAdapter(u,l){}createSynthesizerConfig(u){const l=super.createSynthesizerConfig(u);return l.avatarEnabled=!0,l}async speak(u,l){const p=r.createNoDashGuid(),d=new r.Deferred;return this.synthesisRequestQueue.enqueue(new a.SynthesisRequest(p,u,l,h=>{d.resolve(h),this.privSynthesizing=!1,this.adapterSpeak()},h=>{d.reject(h),this.privSynthesizing=!1})),this.adapterSpeak(),d.promise}};return jo.AvatarSynthesizer=s,jo}var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.AvatarVideoFormat=ui.Coordinate=void 0;class rD{constructor(e,r){this.x=e,this.y=r}}ui.Coordinate=rD;class nD{constructor(e="H264",r=2e6,n=1920,i=1080){this.codec=e,this.bitrate=r,this.width=n,this.height=i}setCropRange(e,r){this.cropRange={bottomRight:r,topLeft:e}}}ui.AvatarVideoFormat=nD;var Bo={},Gm;function iD(){if(Gm)return Bo;Gm=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.AvatarWebRTCConnectionResult=void 0;const t=A();let e=class extends t.SynthesisResult{constructor(n,i,o,a,s){super(i,o,a,s),this.privSDPAnswer=n}get SDPAnswer(){return this.privSDPAnswer}};return Bo.AvatarWebRTCConnectionResult=e,Bo}var $o={},Qm;function oD(){if(Qm)return $o;Qm=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Diagnostics=void 0;const t=Ie(),e=L();let r=class{static SetLoggingLevel(i){this.privListener=new t.ConsoleLoggingListener(i),e.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(i){if(typeof window>"u")this.privListener&&(this.privListener.logPath=i);else throw new Error("File system logging not available in browser.")}};return $o.Diagnostics=r,r.privListener=void 0,$o}var Xm;function A(){return Xm||(Xm=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=tw();Object.defineProperty(t,"AudioConfig",{enumerable:!0,get:function(){return e.AudioConfig}});var r=Vr;Object.defineProperty(t,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(t,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var n=QR();Object.defineProperty(t,"AudioInputStream",{enumerable:!0,get:function(){return n.AudioInputStream}}),Object.defineProperty(t,"PullAudioInputStream",{enumerable:!0,get:function(){return n.PullAudioInputStream}}),Object.defineProperty(t,"PushAudioInputStream",{enumerable:!0,get:function(){return n.PushAudioInputStream}});var i=be;Object.defineProperty(t,"AudioOutputStream",{enumerable:!0,get:function(){return i.AudioOutputStream}}),Object.defineProperty(t,"PullAudioOutputStream",{enumerable:!0,get:function(){return i.PullAudioOutputStream}}),Object.defineProperty(t,"PushAudioOutputStream",{enumerable:!0,get:function(){return i.PushAudioOutputStream}});var o=rw;Object.defineProperty(t,"CancellationReason",{enumerable:!0,get:function(){return o.CancellationReason}});var a=Ku;Object.defineProperty(t,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return a.PullAudioInputStreamCallback}});var s=Ju;Object.defineProperty(t,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return s.PushAudioOutputStreamCallback}});var c=Gu;Object.defineProperty(t,"KeywordRecognitionModel",{enumerable:!0,get:function(){return c.KeywordRecognitionModel}});var u=Qu;Object.defineProperty(t,"SessionEventArgs",{enumerable:!0,get:function(){return u.SessionEventArgs}});var l=NO();Object.defineProperty(t,"RecognitionEventArgs",{enumerable:!0,get:function(){return l.RecognitionEventArgs}});var p=nw;Object.defineProperty(t,"OutputFormat",{enumerable:!0,get:function(){return p.OutputFormat}});var d=xO();Object.defineProperty(t,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return d.IntentRecognitionEventArgs}});var h=Xu;Object.defineProperty(t,"RecognitionResult",{enumerable:!0,get:function(){return h.RecognitionResult}});var f=zO();Object.defineProperty(t,"SpeechRecognitionResult",{enumerable:!0,get:function(){return f.SpeechRecognitionResult}});var g=jO();Object.defineProperty(t,"IntentRecognitionResult",{enumerable:!0,get:function(){return g.IntentRecognitionResult}});var y=ci;Object.defineProperty(t,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return y.LanguageUnderstandingModel}});var v=FO();Object.defineProperty(t,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return v.SpeechRecognitionEventArgs}}),Object.defineProperty(t,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return v.ConversationTranscriptionEventArgs}}),Object.defineProperty(t,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return v.MeetingTranscriptionEventArgs}});var m=BO();Object.defineProperty(t,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return m.SpeechRecognitionCanceledEventArgs}});var S=$O();Object.defineProperty(t,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return S.TranslationRecognitionEventArgs}});var C=UO();Object.defineProperty(t,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return C.TranslationSynthesisEventArgs}});var R=sw();Object.defineProperty(t,"TranslationRecognitionResult",{enumerable:!0,get:function(){return R.TranslationRecognitionResult}});var w=Yu;Object.defineProperty(t,"TranslationSynthesisResult",{enumerable:!0,get:function(){return w.TranslationSynthesisResult}});var T=aw;Object.defineProperty(t,"ResultReason",{enumerable:!0,get:function(){return T.ResultReason}});var E=VO();Object.defineProperty(t,"SpeechConfig",{enumerable:!0,get:function(){return E.SpeechConfig}}),Object.defineProperty(t,"SpeechConfigImpl",{enumerable:!0,get:function(){return E.SpeechConfigImpl}});var x=HO();Object.defineProperty(t,"SpeechTranslationConfig",{enumerable:!0,get:function(){return x.SpeechTranslationConfig}}),Object.defineProperty(t,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return x.SpeechTranslationConfigImpl}});var N=uw();Object.defineProperty(t,"PropertyCollection",{enumerable:!0,get:function(){return N.PropertyCollection}});var U=Zu;Object.defineProperty(t,"PropertyId",{enumerable:!0,get:function(){return U.PropertyId}});var j=WO();Object.defineProperty(t,"Recognizer",{enumerable:!0,get:function(){return j.Recognizer}});var Y=KO();Object.defineProperty(t,"SpeechRecognizer",{enumerable:!0,get:function(){return Y.SpeechRecognizer}});var O=JO();Object.defineProperty(t,"IntentRecognizer",{enumerable:!0,get:function(){return O.IntentRecognizer}});var ee=dw;Object.defineProperty(t,"VoiceProfileType",{enumerable:!0,get:function(){return ee.VoiceProfileType}});var te=GO();Object.defineProperty(t,"TranslationRecognizer",{enumerable:!0,get:function(){return te.TranslationRecognizer}});var Se=QO();Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return Se.Translations}});var b=gw;Object.defineProperty(t,"NoMatchReason",{enumerable:!0,get:function(){return b.NoMatchReason}});var D=XO();Object.defineProperty(t,"NoMatchDetails",{enumerable:!0,get:function(){return D.NoMatchDetails}});var z=el;Object.defineProperty(t,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return z.TranslationRecognitionCanceledEventArgs}});var Q=ZO();Object.defineProperty(t,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return Q.IntentRecognitionCanceledEventArgs}});var re=Ia;Object.defineProperty(t,"CancellationDetailsBase",{enumerable:!0,get:function(){return re.CancellationDetailsBase}});var Et=tM();Object.defineProperty(t,"CancellationDetails",{enumerable:!0,get:function(){return Et.CancellationDetails}});var pt=Sw;Object.defineProperty(t,"CancellationErrorCode",{enumerable:!0,get:function(){return pt.CancellationErrorCode}});var Pi=rM();Object.defineProperty(t,"ConnectionEventArgs",{enumerable:!0,get:function(){return Pi.ConnectionEventArgs}});var Ht=nM();Object.defineProperty(t,"ServiceEventArgs",{enumerable:!0,get:function(){return Ht.ServiceEventArgs}});var bn=fw();Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return bn.Connection}});var tE=tl;Object.defineProperty(t,"PhraseListGrammar",{enumerable:!0,get:function(){return tE.PhraseListGrammar}});var rE=ff();Object.defineProperty(t,"DialogServiceConfig",{enumerable:!0,get:function(){return rE.DialogServiceConfig}});var nE=iM();Object.defineProperty(t,"BotFrameworkConfig",{enumerable:!0,get:function(){return nE.BotFrameworkConfig}});var iE=oM();Object.defineProperty(t,"CustomCommandsConfig",{enumerable:!0,get:function(){return iE.CustomCommandsConfig}});var oE=aM();Object.defineProperty(t,"DialogServiceConnector",{enumerable:!0,get:function(){return oE.DialogServiceConnector}});var sE=rl;Object.defineProperty(t,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return sE.ActivityReceivedEventArgs}});var aE=nl;Object.defineProperty(t,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return aE.TurnStatusReceivedEventArgs}});var cE=Cw;Object.defineProperty(t,"ServicePropertyChannel",{enumerable:!0,get:function(){return cE.ServicePropertyChannel}});var uE=Pw;Object.defineProperty(t,"ProfanityOption",{enumerable:!0,get:function(){return uE.ProfanityOption}});var lE=pM();Object.defineProperty(t,"BaseAudioPlayer",{enumerable:!0,get:function(){return lE.BaseAudioPlayer}});var pE=ol;Object.defineProperty(t,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return pE.ConnectionMessageEventArgs}});var dE=hw();Object.defineProperty(t,"ConnectionMessage",{enumerable:!0,get:function(){return dE.ConnectionMessage}});var hE=sl;Object.defineProperty(t,"VoiceProfile",{enumerable:!0,get:function(){return hE.VoiceProfile}});var Df=fM();Object.defineProperty(t,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return Df.VoiceProfileEnrollmentResult}}),Object.defineProperty(t,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return Df.VoiceProfileEnrollmentCancellationDetails}});var Nf=vM();Object.defineProperty(t,"VoiceProfileResult",{enumerable:!0,get:function(){return Nf.VoiceProfileResult}}),Object.defineProperty(t,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return Nf.VoiceProfileCancellationDetails}});var fE=gM();Object.defineProperty(t,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return fE.VoiceProfilePhraseResult}});var vE=mM();Object.defineProperty(t,"VoiceProfileClient",{enumerable:!0,get:function(){return vE.VoiceProfileClient}});var gE=yM();Object.defineProperty(t,"SpeakerRecognizer",{enumerable:!0,get:function(){return gE.SpeakerRecognizer}});var mE=SM();Object.defineProperty(t,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return mE.SpeakerIdentificationModel}});var yE=CM();Object.defineProperty(t,"SpeakerVerificationModel",{enumerable:!0,get:function(){return yE.SpeakerVerificationModel}});var SE=PM();Object.defineProperty(t,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return SE.AutoDetectSourceLanguageConfig}});var CE=al;Object.defineProperty(t,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return CE.AutoDetectSourceLanguageResult}});var PE=cl;Object.defineProperty(t,"SourceLanguageConfig",{enumerable:!0,get:function(){return PE.SourceLanguageConfig}});var Ll=wM();Object.defineProperty(t,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return Ll.SpeakerRecognitionResult}}),Object.defineProperty(t,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return Ll.SpeakerRecognitionResultType}}),Object.defineProperty(t,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return Ll.SpeakerRecognitionCancellationDetails}});var Xe=yf();Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return Xe.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return Xe.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return Xe.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return Xe.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return Xe.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return Xe.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return Xe.ConversationTranslator}}),Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return Xe.ConversationTranscriber}}),Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return Xe.ConversationTranscriptionResult}}),Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return Xe.Meeting}}),Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return Xe.MeetingTranscriber}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return Xe.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return Xe.ParticipantChangedReason}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return Xe.User}});var RE=Sf();Object.defineProperty(t,"Synthesizer",{enumerable:!0,get:function(){return RE.Synthesizer}});var wE=lf;Object.defineProperty(t,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return wE.SpeechSynthesisOutputFormat}});var EE=FM();Object.defineProperty(t,"SpeechSynthesizer",{enumerable:!0,get:function(){return EE.SpeechSynthesizer}});var TE=ll;Object.defineProperty(t,"SynthesisResult",{enumerable:!0,get:function(){return TE.SynthesisResult}});var IE=$M();Object.defineProperty(t,"SpeechSynthesisResult",{enumerable:!0,get:function(){return IE.SpeechSynthesisResult}});var AE=pl;Object.defineProperty(t,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return AE.SpeechSynthesisEventArgs}});var _E=dl;Object.defineProperty(t,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return _E.SpeechSynthesisWordBoundaryEventArgs}});var bE=hl;Object.defineProperty(t,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return bE.SpeechSynthesisBookmarkEventArgs}});var kE=fl;Object.defineProperty(t,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return kE.SpeechSynthesisVisemeEventArgs}});var OE=kw;Object.defineProperty(t,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return OE.SpeechSynthesisBoundaryType}});var ME=WM();Object.defineProperty(t,"SynthesisVoicesResult",{enumerable:!0,get:function(){return ME.SynthesisVoicesResult}});var DE=Ow;Object.defineProperty(t,"VoiceInfo",{enumerable:!0,get:function(){return DE.VoiceInfo}});var NE=vl;Object.defineProperty(t,"SpeakerAudioDestination",{enumerable:!0,get:function(){return NE.SpeakerAudioDestination}});var xE=QM();Object.defineProperty(t,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return xE.ConversationTranscriptionCanceledEventArgs}});var LE=XM();Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return LE.MeetingTranscriptionCanceledEventArgs}});var zE=Mw;Object.defineProperty(t,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return zE.PronunciationAssessmentGradingSystem}});var jE=Dw;Object.defineProperty(t,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return jE.PronunciationAssessmentGranularity}});var FE=YM();Object.defineProperty(t,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return FE.PronunciationAssessmentConfig}});var BE=ZM();Object.defineProperty(t,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return BE.PronunciationAssessmentResult}});var $E=gf;Object.defineProperty(t,"LanguageIdMode",{enumerable:!0,get:function(){return $E.LanguageIdMode}});var UE=eD();Object.defineProperty(t,"AvatarConfig",{enumerable:!0,get:function(){return UE.AvatarConfig}});var qE=Lw;Object.defineProperty(t,"AvatarEventArgs",{enumerable:!0,get:function(){return qE.AvatarEventArgs}});var VE=tD();Object.defineProperty(t,"AvatarSynthesizer",{enumerable:!0,get:function(){return VE.AvatarSynthesizer}});var xf=ui;Object.defineProperty(t,"AvatarVideoFormat",{enumerable:!0,get:function(){return xf.AvatarVideoFormat}}),Object.defineProperty(t,"Coordinate",{enumerable:!0,get:function(){return xf.Coordinate}});var HE=iD();Object.defineProperty(t,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return HE.AvatarWebRTCConnectionResult}});var WE=oD();Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return WE.Diagnostics}});var KE=cf;Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return KE.LogLevel}})}(Ap)),Ap}var Ym;function sD(){if(Ym)return Fi;Ym=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.ProxyInfo=void 0;const t=A();let e=class jw{constructor(n,i,o,a){this.privProxyHostName=n,this.privProxyPort=i,this.privProxyUserName=o,this.privProxyPassword=a}static fromParameters(n){return new jw(n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyPort),10),n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyUserName),n.getProperty(t.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(n){return this.fromParameters(n.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}};return Fi.ProxyInfo=e,Fi}var Fw={};const aD=new Set(["json","buffer","string"]);var cD=t=>(...e)=>{const r=new Set;let n,i,o,a="";return e.forEach(s=>{if(typeof s=="string")if(s.toUpperCase()===s)if(n){const c=`Can't set method to ${s}, already set to ${n}.`;throw new Error(c)}else n=s;else if(s.startsWith("http:")||s.startsWith("https:"))a=s;else if(aD.has(s))i=s;else throw new Error(`Unknown encoding, ${s}`);else if(typeof s=="number")r.add(s);else if(typeof s=="object")if(Array.isArray(s)||s instanceof Set)s.forEach(c=>r.add(c));else{if(o)throw new Error("Cannot set headers twice.");o=s}else throw new Error(`Unknown type: ${typeof s}`)}),n||(n="GET"),r.size===0&&r.add(200),t(r,n,i,o,a)};const uD=cD;class Cf extends Error{constructor(e,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,Cf),this.name="StatusError",this.message=e.statusMessage,this.statusCode=e.status,this.res=e,this.json=e.json.bind(e),this.text=e.text.bind(e),this.arrayBuffer=e.arrayBuffer.bind(e);let n;Object.defineProperty(this,"responseBody",{get:()=>(n||(n=this.arrayBuffer()),n)}),this.headers={};for(const[o,a]of e.headers.entries())this.headers[o.toLowerCase()]=a}}const lD=(t,e,r,n,i)=>async(o,a,s={})=>{o=i+(o||"");let c=new URL(o);if(n||(n={}),c.username&&(n.Authorization="Basic "+btoa(c.username+":"+c.password),c=new URL(c.protocol+"//"+c.host+c.pathname+c.search)),c.protocol!=="https:"&&c.protocol!=="http:")throw new Error(`Unknown protocol, ${c.protocol}`);if(a&&!(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="string"))if(typeof a=="object")a=JSON.stringify(a),n["Content-Type"]="application/json";else throw new Error("Unknown body type.");s=new Headers({...n||{},...s});const u=await fetch(c,{method:e,headers:s,body:a});if(u.statusCode=u.status,!t.has(u.status))throw new Cf(u);return r==="json"?u.json():r==="buffer"?u.arrayBuffer():r==="string"?u.text():u};var pD=uD(lD);(function(t){var e=W&&W.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.RestMessageAdapter=t.RestRequestType=void 0;const r=e(pD),n=L();var i;(function(a){a.Get="GET",a.Post="POST",a.Delete="DELETE",a.File="file"})(i=t.RestRequestType||(t.RestRequestType={}));class o{constructor(s){if(!s)throw new n.ArgumentNullError("configParams");this.privHeaders=s.headers,this.privIgnoreCache=s.ignoreCache}static extractHeaderValue(s,c){let u="";try{const l=c.trim().split(/[\r\n]+/),p={};l.forEach(d=>{const h=d.split(": "),f=h.shift().toLowerCase(),g=h.join(": ");p[f]=g}),u=p[s.toLowerCase()]}catch{}return u}set options(s){this.privHeaders=s.headers,this.privIgnoreCache=s.ignoreCache}setHeaders(s,c){this.privHeaders[s]=c}request(s,c,u={},l=null){const p=new n.Deferred,d=s===i.File?"POST":s,h=(g,y={})=>{const v=g;return{data:JSON.stringify(y),headers:JSON.stringify(g.headers),json:y,ok:g.statusCode>=200&&g.statusCode<300,status:g.statusCode,statusText:y.error?y.error.message:v.statusText?v.statusText:v.statusMessage}},f=g=>{const y=r.default(c,d,this.privHeaders,200,201,202,204,400,401,402,403,404),v=this.queryParams(u)===""?"":`?${this.queryParams(u)}`;y(v,g).then(async m=>{if(s===i.Delete||m.statusCode===204)p.resolve(h(m));else try{const S=await m.json();p.resolve(h(m,S))}catch{p.resolve(h(m))}}).catch(m=>{p.reject(m)})};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),s===i.Post&&l&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),f(l),p.promise}queryParams(s={}){return Object.keys(s).map(c=>encodeURIComponent(c)+"="+encodeURIComponent(s[c])).join("&")}}t.RestMessageAdapter=o})(Fw);var _a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.RestConfigBase=void 0;class Nr{static get requestOptions(){return Nr.privDefaultRequestOptions}static get configParams(){return Nr.privDefaultParams}static get restErrors(){return Nr.privRestErrors}}_a.RestConfigBase=Nr;Nr.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4};Nr.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."};Nr.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"};var Zm;function Ie(){return Zm||(Zm=1,function(t){var e=W&&W.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=W&&W.__exportStar||function(n,i){for(var o in n)o!=="default"&&!i.hasOwnProperty(o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(qu,t),r(JR,t),r(cO(),t),r(uO(),t),r(Vu,t),r(Hu,t),r(wa,t),r(Wu,t),r(sD(),t),r(Fw,t),r(_a,t)}(Ep)),Ep}var ey;function dD(){if(ey)return Li;ey=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.IntentConnectionFactory=void 0;const t=Ie(),e=A(),r=Nt(),n=M(),i=Te;let o=class extends r.ConnectionFactoryBase{create(s,c,u){let l=s.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint);if(!l){const f=s.parameters.getProperty(e.PropertyId.SpeechServiceConnection_IntentRegion),g=r.ConnectionFactoryBase.getHostSuffix(f);l=s.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,"wss://"+f+".sr.speech"+g)+"/speech/recognition/interactive/cognitiveservices/v1"}const p={format:"simple",language:s.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(s,p,l);const d={};c.token!==void 0&&c.token!==""&&(d[c.headerName]=c.token),d[i.HeaderNames.ConnectionId]=u,s.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,l);const h=s.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(l,p,d,new n.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(s),h,u)}getSpeechRegionFromIntentRegion(s){switch(s){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return s}}};return Li.IntentConnectionFactory=o,Li}var on={},ty;function hD(){if(ty)return on;ty=1,Object.defineProperty(on,"__esModule",{value:!0}),on.VoiceProfileConnectionFactory=on.SpeakerRecognitionConnectionFactory=void 0;const t=Ie(),e=A(),r=Nt(),n=M(),i=Te;class o extends r.ConnectionFactoryBase{create(u,l,p,d){let h=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint);if(!h){const v=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region),m=r.ConnectionFactoryBase.getHostSuffix(v),S=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,`wss://${v}.spr-frontend.speech${m}`),C=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");h=`${S}/speaker/ws/${this.scenarioToPath(C)}/${p}`}const f={format:"simple",language:u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(u,f,h);const g={};l.token!==void 0&&l.token!==""&&(g[l.headerName]=l.token),g[i.HeaderNames.ConnectionId]=d,g[i.HeaderNames.SpIDAuthKey]=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Key),u.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,h);const y=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(h,f,g,new n.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),y,d)}scenarioToPath(u){switch(u){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}let a=class extends o{create(u,l,p){return super.create(u,l,"recognition",p)}};on.SpeakerRecognitionConnectionFactory=a;class s extends o{create(u,l,p){return super.create(u,l,"profile",p)}}return on.VoiceProfileConnectionFactory=s,on}var gl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEndedEvent=t.RecognitionCompletionStatus=t.RecognitionStartedEvent=t.ConnectingToServiceEvent=t.ListeningStartedEvent=t.RecognitionTriggeredEvent=t.SpeechRecognitionEvent=void 0;const e=L();class r extends e.PlatformEvent{constructor(l,p,d,h=e.EventType.Info){super(l,h),this.privRequestId=p,this.privSessionId=d}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}t.SpeechRecognitionEvent=r;class n extends r{constructor(l,p,d,h){super("RecognitionTriggeredEvent",l,p),this.privAudioSourceId=d,this.privAudioNodeId=h}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}t.RecognitionTriggeredEvent=n;class i extends r{constructor(l,p,d,h){super("ListeningStartedEvent",l,p),this.privAudioSourceId=d,this.privAudioNodeId=h}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}t.ListeningStartedEvent=i;class o extends r{constructor(l,p,d){super("ConnectingToServiceEvent",l,d),this.privAuthFetchEventid=p}get authFetchEventid(){return this.privAuthFetchEventid}}t.ConnectingToServiceEvent=o;class a extends r{constructor(l,p,d,h,f){super("RecognitionStartedEvent",l,f),this.privAudioSourceId=p,this.privAudioNodeId=d,this.privAuthFetchEventId=h}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}t.RecognitionStartedEvent=a;var s;(function(u){u[u.Success=0]="Success",u[u.AudioSourceError=1]="AudioSourceError",u[u.AudioSourceTimeout=2]="AudioSourceTimeout",u[u.AuthTokenFetchError=3]="AuthTokenFetchError",u[u.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",u[u.UnAuthorized=5]="UnAuthorized",u[u.ConnectTimeout=6]="ConnectTimeout",u[u.ConnectError=7]="ConnectError",u[u.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",u[u.UnknownError=9]="UnknownError"})(s=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));class c extends r{constructor(l,p,d,h,f,g,y,v){super("RecognitionEndedEvent",l,f,y===s.Success?e.EventType.Info:e.EventType.Error),this.privAudioSourceId=p,this.privAudioNodeId=d,this.privAuthFetchEventId=h,this.privStatus=y,this.privError=v,this.privServiceTag=g}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}t.RecognitionEndedEvent=c})(gl);var Uo={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.SpeechConnectionMessage=void 0;const Mp=L(),Gt=Te;class Pf extends Mp.ConnectionMessage{constructor(e,r,n,i,o,a,s,c){if(!r)throw new Mp.ArgumentNullError("path");if(!n)throw new Mp.ArgumentNullError("requestId");const u={};if(u[Gt.HeaderNames.Path]=r,u[Gt.HeaderNames.RequestId]=n,u[Gt.HeaderNames.RequestTimestamp]=new Date().toISOString(),i&&(u[Gt.HeaderNames.ContentType]=i),a&&(u[Gt.HeaderNames.RequestStreamId]=a),s)for(const l in s)l&&(u[l]=s[l]);c?super(e,o,u,c):super(e,o,u),this.privPath=r,this.privRequestId=n,this.privContentType=i,this.privStreamId=a,this.privAdditionalHeaders=s}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(e){let r=null,n=null,i=null,o=null;const a={};if(e.headers)for(const s in e.headers)s&&(s.toLowerCase()===Gt.HeaderNames.Path.toLowerCase()?r=e.headers[s]:s.toLowerCase()===Gt.HeaderNames.RequestId.toLowerCase()?n=e.headers[s]:s.toLowerCase()===Gt.HeaderNames.ContentType.toLowerCase()?i=e.headers[s]:s.toLowerCase()===Gt.HeaderNames.RequestStreamId.toLowerCase()?o=e.headers[s]:a[s]=e.headers[s]);return new Pf(e.messageType,r,n,i,e.body,o,a,e.id)}}pr.SpeechConnectionMessage=Pf;var ry;function fD(){if(ry)return Uo;ry=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.ServiceRecognizerBase=void 0;const t=Ie(),e=L(),r=A(),n=M(),i=pr;let o=class As{constructor(s,c,u,l,p){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!s)throw new e.ArgumentNullError("authentication");if(!c)throw new e.ArgumentNullError("connectionFactory");if(!u)throw new e.ArgumentNullError("audioSource");if(!l)throw new e.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=l.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=s,this.privConnectionFactory=c,this.privAudioSource=u,this.privRecognizerConfig=l,this.privIsDisposed=!1,this.privRecognizer=p,this.privRequestSession=new n.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new e.EventSource,this.privServiceEvents=new e.EventSource,this.privDynamicGrammar=new n.DynamicGrammarBuilder,this.privSpeechContext=new n.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new n.AgentConfig,this.privRecognizerConfig.parameters.getProperty(r.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?this.privSetTimeout=e.Timeout.setTimeout:typeof window<"u"&&(this.privSetTimeout=window.setTimeout.bind(window)),this.connectionEvents.attach(h=>{if(h.name==="ConnectionClosedEvent"){const f=h;(f.statusCode===1003||f.statusCode===1007||f.statusCode===1002||f.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(r.CancellationReason.Error,f.statusCode===1007?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,`${f.reason} websocket error code: ${f.statusCode}`)}}),this.privEnableSpeakerId&&(this.privDiarizationSessionId=e.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const s=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(s!==void 0){const c=s.split(","),u=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),l=u!==void 0?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:l},output:{interimResults:{mode:"Always"}},targetLanguages:c}),u!==void 0){const p={};for(const d of c)p[d]=u;this.privSpeechContext.setSection("synthesis",{defaultVoices:p})}}}setSpeechSegmentationTimeoutJson(){const s=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0);if(s!==void 0){const c=this.recognitionMode===n.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===n.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",u=parseInt(s,10),l=this.privSpeechContext.getSection("phraseDetection");l.mode=c,l[c]={segmentation:{mode:"Custom",segmentationSilenceTimeoutMs:u}},this.privSpeechContext.setSection("phraseDetection",l)}}setLanguageIdJson(){const s=this.privSpeechContext.getSection("phraseDetection");if(this.privRecognizerConfig.autoDetectSourceLanguages!==void 0){const u=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let l;this.privRecognizerConfig.languageIdMode==="Continuous"?l="DetectContinuous":l="DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:u,mode:l,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const p=this.privRecognizerConfig.sourceLanguageModels;p!==void 0&&(s.customModels=p,s.onInterim={action:"None"},s.onSuccess={action:"None"})}this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0&&(s.onInterim={action:"Translate"},s.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",s)}setOutputDetailLevelJson(){this.privEnableSpeakerId&&(this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true"?this.privSpeechContext.setWordLevelTimings():this.privRecognizerConfig.parameters.getProperty(n.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()===r.OutputFormat[r.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat())}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(s){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.ConversationTranslator_Token,s)}set voiceProfileType(s){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,s)}set authentication(s){this.privAuthentication=s}isDisposed(){return this.privIsDisposed}async dispose(s){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise!==void 0)try{await(await this.privConnectionConfigurationPromise).dispose(s)}catch{return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(s,c,u){if(this.recognizeOverride!==void 0){await this.recognizeOverride(s,c,u);return}this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=s,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=c,this.privErrorCallback=u,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const l=this.connectImpl();let p;try{const f=await this.audioSource.attach(this.privRequestSession.audioNodeId),g=await this.audioSource.format,y=await this.audioSource.deviceInfo;this.privIsLiveAudio=y.type&&y.type===n.type.Microphones,p=new t.ReplayableAudioNode(f,g.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(p,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:y}}catch(f){throw await this.privRequestSession.onStopRecognizing(),f}try{await l}catch(f){await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,f);return}const d=new r.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,d),this.receiveMessage(),this.sendAudio(p).catch(async f=>{await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,f)})}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(s,c){this.connectImpl().then(()=>{try{s&&s()}catch(u){c&&c(u)}},u=>{try{c&&c(u)}catch{}})}async disconnect(){if(await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&await this.disconnectOverride(),this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0}sendMessage(s){}async sendNetworkMessage(s,c){const u=typeof c=="string"?e.MessageType.Text:e.MessageType.Binary,l=typeof c=="string"?"application/json":"";return(await this.fetchConnection()).send(new i.SpeechConnectionMessage(u,s,this.privRequestSession.requestId,l,c))}set activityTemplate(s){this.privActivityTemplate=s}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(s){this.privExpectContentAssessmentResponse=s}async sendTelemetryData(){const s=this.privRequestSession.getTelemetry();if(As.telemetryDataEnabled!==!0||this.privIsDisposed||s===null)return;if(As.telemetryData)try{As.telemetryData(s)}catch{}await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(e.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",s))}async cancelRecognitionLocal(s,c,u){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,s,c,u))}async receiveMessage(){try{if(this.privIsDisposed)return;let s=await this.fetchConnection();const c=await s.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!c)return this.receiveMessage();this.privServiceHasSentMessage=!0;const u=i.SpeechConnectionMessage.fromConnectionMessage(c);if(u.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(u.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const l=n.SpeechDetected.fromJSON(u.textBody),p=new r.RecognitionEventArgs(l.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,p);break;case"speech.enddetected":let d;u.textBody.length>0?d=u.textBody:d="{ Offset: 0 }";const h=n.SpeechDetected.fromJSON(d),f=new r.RecognitionEventArgs(h.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,f);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(r.CancellationReason.EndOfStream,r.CancellationErrorCode.NoError,void 0));const g=new r.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,g);return}else s=await this.fetchConnection(),await this.sendPrePayloadJSON(s);break;default:await this.processTypeSpecificMessages(u)||this.privServiceEvents&&this.serviceEvents.onEvent(new e.ServiceEvent(u.path.toLowerCase(),u.textBody))}return this.receiveMessage()}catch{return null}}updateSpeakerDiarizationAudioOffset(){const c=this.privRequestSession.recognitionBytesSent/this.privAverageBytesPerMs;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(c)}sendSpeechContext(s,c){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const u=this.speechContext.toJSON();if(c&&this.privRequestSession.onSpeechContext(),u)return s.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",u))}noOp(){}async sendPrePayloadJSON(s,c=!0){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(s);await this.sendSpeechContext(s,c),await this.sendWaveHeader(s)}async sendWaveHeader(s){const c=await this.audioSource.format;return s.send(new i.SpeechConnectionMessage(e.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",c.header))}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(s=>s.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(s,c,u){if(c.onSpeechContext(),As.telemetryDataEnabled!==!0){const p={context:{system:JSON.parse(u).context.system}};u=JSON.stringify(p)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const l=JSON.parse(u);l.context.DisableReferenceChannel="True",l.context.MicSpec="1_0_0",u=JSON.stringify(l)}if(u)return s.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.config",c.requestId,"application/json",u))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(s=>s.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(s){const c=await this.audioSource.format;this.privAverageBytesPerMs=c.avgBytesPerSec/1e3;let u=Date.now();const l=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),p=c.avgBytesPerSec/1e3*parseInt(l,10),d=this.privRequestSession.recogNumber,h=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===d){const f=await this.fetchConnection(),g=await s.read();if(this.privRequestSession.isSpeechEnded)return;let y,v;if(!g||g.isEnd?(y=null,v=0):(y=g.buffer,this.privRequestSession.onAudioSent(y.byteLength),p>=this.privRequestSession.bytesSent?v=0:v=Math.max(0,u-Date.now())),v!==0&&await this.delay(v),y!==null&&(u=Date.now()+y.byteLength*1e3/(c.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===d)if(f.send(new i.SpeechConnectionMessage(e.MessageType.Binary,"audio",this.privRequestSession.requestId,null,y)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),g!=null&&g.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return h()}};return h()}async retryableConnect(){let s=!1;this.privAuthFetchEventId=e.createNoDashGuid();const c=this.privRequestSession.sessionId;this.privConnectionId=c!==void 0?c:e.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let u=0,l="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const d=await(s?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId));await this.privRequestSession.onAuthCompleted(!1);const h=this.privConnectionFactory.create(this.privRecognizerConfig,d,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(h.events),h.events.attach(g=>{this.connectionEvents.onEvent(g)});const f=await h.open();if(f.statusCode===200)return await this.privRequestSession.onConnectionEstablishCompleted(f.statusCode),Promise.resolve(h);f.statusCode===1006&&(s=!0),u=f.statusCode,l=f.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(u,l),Promise.reject(`Unable to contact server. StatusCode: ${u}, ${this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${l}`)}delay(s){return new Promise(c=>this.privSetTimeout(c,s))}writeBufferToConsole(s){let c="Buffer Size: ";if(s===null)c+="null";else{const u=new Uint8Array(s);c+=`${s.byteLength}\r
`;for(let l=0;l<s.byteLength;l++)c+=u[l].toString(16).padStart(2,"0")+" ",(l+1)%16===0&&(console.info(c),c="")}console.info(c)}async sendFinalAudio(){await(await this.fetchConnection()).send(new i.SpeechConnectionMessage(e.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const s=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(s):(await this.sendSpeechServiceConfig(s,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(s,!1),s)}};return Uo.ServiceRecognizerBase=o,o.telemetryDataEnabled=!0,Uo}var qo={},ny;function vD(){if(ny)return qo;ny=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.ConversationServiceRecognizer=void 0;const t=A(),e=M();let r=class extends e.ServiceRecognizerBase{constructor(i,o,a,s,c){super(i,o,a,s,c),this.handleSpeechPhraseMessage=async u=>this.handleSpeechPhrase(u),this.handleSpeechHypothesisMessage=u=>this.handleSpeechHypothesis(u)}processTypeSpecificMessages(i){}handleRecognizedCallback(i,o,a){}handleRecognizingCallback(i,o,a){}async processSpeechMessages(i){let o=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(i.textBody),o=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(i.textBody),o=!0;break}return o}cancelRecognition(i,o,a,s,c){}async handleSpeechPhrase(i){const o=e.SimpleSpeechPhrase.fromJSON(i),a=e.EnumTranslation.implTranslateRecognitionResult(o.RecognitionStatus);let s;const c=new t.PropertyCollection;c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i);const u=o.Offset+this.privRequestSession.currentTurnAudioOffset;let l=u;if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+o.Offset+o.Duration),t.ResultReason.Canceled===a){const p=e.EnumTranslation.implTranslateCancelResult(o.RecognitionStatus),d=e.EnumTranslation.implTranslateCancelErrorCode(o.RecognitionStatus);await this.cancelRecognitionLocal(p,d,e.EnumTranslation.implTranslateErrorDetails(d))}else if(!(this.privRequestSession.isSpeechEnded&&a===t.ResultReason.NoMatch&&o.RecognitionStatus!==e.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(e.OutputFormatPropertyName)===t.OutputFormat[t.OutputFormat.Simple])s=new t.SpeechRecognitionResult(this.privRequestSession.requestId,a,o.DisplayText,o.Duration,u,o.Language,o.LanguageDetectionConfidence,o.SpeakerId,void 0,i,c);else{const p=e.DetailedSpeechPhrase.fromJSON(i),d=p.Offset+this.privRequestSession.currentTurnAudioOffset,h=p.getJsonWithCorrectedOffsets(d);s=new t.SpeechRecognitionResult(this.privRequestSession.requestId,a,p.Text,p.Duration,d,p.Language,p.LanguageDetectionConfidence,p.SpeakerId,void 0,h,c),l=s.offset}this.handleRecognizedCallback(s,l,this.privRequestSession.sessionId)}}handleSpeechHypothesis(i){const o=e.SpeechHypothesis.fromJSON(i),a=o.Offset+this.privRequestSession.currentTurnAudioOffset,s=new t.PropertyCollection;s.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i);const c=new t.SpeechRecognitionResult(this.privRequestSession.requestId,t.ResultReason.RecognizingSpeech,o.Text,o.Duration,a,o.Language,o.LanguageDetectionConfidence,o.SpeakerId,void 0,i,s);this.privRequestSession.onHypothesis(a),this.handleRecognizingCallback(c,o.Duration,this.privRequestSession.sessionId)}};return qo.ConversationServiceRecognizer=r,qo}var Dp={},iy;function gD(){return iy||(iy=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecognizerConfig=t.SpeechResultFormat=t.RecognitionMode=void 0;const e=A(),r=M();var n;(function(o){o[o.Interactive=0]="Interactive",o[o.Conversation=1]="Conversation",o[o.Dictation=2]="Dictation"})(n=t.RecognitionMode||(t.RecognitionMode={})),function(o){o[o.Simple=0]="Simple",o[o.Detailed=1]="Detailed"}(t.SpeechResultFormat||(t.SpeechResultFormat={}));class i{constructor(a,s){this.privSpeechServiceConfig=a||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=s,this.privMaxRetryCount=parseInt(s.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=s.getProperty(e.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(a){this.privRecognitionMode=a,this.privRecognitionActivityTimeout=a===n.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=n[a]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==n.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(e.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const a=[];let s=!1;if(this.autoDetectSourceLanguages!==void 0)for(const c of this.autoDetectSourceLanguages.split(",")){const u=c+e.PropertyId.SpeechServiceConnection_EndpointId.toString(),l=this.parameters.getProperty(u,void 0);l!==void 0?(a.push({language:c,endpoint:l}),s=!0):a.push({language:c,endpoint:""})}return s?a:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(a){this.privEnableSpeakerId=a}}t.RecognizerConfig=i}(Dp)),Dp}var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.WebsocketMessageFormatter=void 0;const dt=L(),oy=`\r
`;class mD{toConnectionMessage(e){const r=new dt.Deferred;try{if(e.messageType===dt.MessageType.Text){const n=e.textContent;let i={},o=null;if(n){const a=n.split(`\r
\r
`);a&&a.length>0&&(i=this.parseHeaders(a[0]),a.length>1&&(o=a[1]))}r.resolve(new dt.ConnectionMessage(e.messageType,o,i,e.id))}else if(e.messageType===dt.MessageType.Binary){const n=e.binaryContent;let i={},o=null;if(!n||n.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const a=new DataView(n),s=a.getInt16(0);if(n.byteLength<s+2)throw new Error("Invalid binary message format. Header content missing.");let c="";for(let u=0;u<s;u++)c+=String.fromCharCode(a.getInt8(u+2));i=this.parseHeaders(c),n.byteLength>s+2&&(o=n.slice(2+s)),r.resolve(new dt.ConnectionMessage(e.messageType,o,i,e.id))}}catch(n){r.reject(`Error formatting the message. Error: ${n}`)}return r.promise}fromConnectionMessage(e){const r=new dt.Deferred;try{if(e.messageType===dt.MessageType.Text){const n=`${this.makeHeaders(e)}${oy}${e.textBody?e.textBody:""}`;r.resolve(new dt.RawWebsocketMessage(dt.MessageType.Text,n,e.id))}else if(e.messageType===dt.MessageType.Binary){const n=this.makeHeaders(e),i=e.binaryBody,o=this.stringToArrayBuffer(n),a=new Int8Array(o),s=a.byteLength,c=new Int8Array(2+s+(i?i.byteLength:0));if(c[0]=s>>8&255,c[1]=s&255,c.set(a,2),i){const l=new Int8Array(i);c.set(l,2+s)}const u=c.buffer;r.resolve(new dt.RawWebsocketMessage(dt.MessageType.Binary,u,e.id))}}catch(n){r.reject(`Error formatting the message. ${n}`)}return r.promise}makeHeaders(e){let r="";if(e.headers)for(const n in e.headers)n&&(r+=`${n}: ${e.headers[n]}${oy}`);return r}parseHeaders(e){const r={};if(e){const n=e.match(/[^\r\n]+/g);if(r){for(const i of n)if(i){const o=i.indexOf(":"),a=o>0?i.substr(0,o).trim().toLowerCase():i,s=o>0&&i.length>o+1?i.substr(o+1).trim():"";r[a]=s}}}return r}stringToArrayBuffer(e){const r=new ArrayBuffer(e.length),n=new DataView(r);for(let i=0;i<e.length;i++)n.setUint8(i,e.charCodeAt(i));return r}}ml.WebsocketMessageFormatter=mD;var Vo={},sy;function yD(){if(sy)return Vo;sy=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.SpeechConnectionFactory=void 0;const t=Ie(),e=M(),r=A(),n=Nt(),i=M(),o=Te,a=Dt;let s=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(u,l,p){let d=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const h=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),f=n.ConnectionFactoryBase.getHostSuffix(h),g=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+h+".stt.speech"+f),y={},v=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),m=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(v?(!d||d.search(a.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(y[a.QueryParameterNames.CustomSpeechDeploymentId]=v):m&&(!d||d.search(a.QueryParameterNames.Language)===-1)&&(y[a.QueryParameterNames.Language]=m),(!d||d.search(a.QueryParameterNames.Format)===-1)&&(y[a.QueryParameterNames.Format]=u.parameters.getProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()),u.autoDetectSourceLanguages!==void 0&&(y[a.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(u,y,d),!d)switch(u.recognitionMode){case i.RecognitionMode.Conversation:u.parameters.getProperty(e.ForceDictationPropertyName,"false")==="true"?d=g+this.dictationRelativeUri:u.recognitionEndpointVersion!==void 0&&parseInt(u.recognitionEndpointVersion,10)>1?d=`${g}${this.universalUri}${u.recognitionEndpointVersion}`:d=g+this.conversationRelativeUri;break;case i.RecognitionMode.Dictation:d=g+this.dictationRelativeUri;break;default:u.recognitionEndpointVersion!==void 0&&parseInt(u.recognitionEndpointVersion,10)>1?d=`${g}${this.universalUri}${u.recognitionEndpointVersion}`:d=g+this.interactiveRelativeUri;break}const S={};l.token!==void 0&&l.token!==""&&(S[l.headerName]=l.token),S[o.HeaderNames.ConnectionId]=p;const C=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",R=new t.WebsocketConnection(d,y,S,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),C,p),w=R.uri;return u.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,w),R}};return Vo.SpeechConnectionFactory=s,Vo}var Ho={},ay;function SD(){if(ay)return Ho;ay=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.ConversationTranscriberConnectionFactory=void 0;const t=Ie(),e=A(),r=M(),n=Nt(),i=M(),o=Te,a=Dt;let s=class extends n.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(u,l,p){let d=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);const h=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,void 0),f=n.ConnectionFactoryBase.getHostSuffix(h),g=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,"wss://"+h+".stt.speech"+f),y={},v=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_EndpointId,void 0),m=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);v?(!d||d.search(a.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(y[a.QueryParameterNames.CustomSpeechDeploymentId]=v):m&&(!d||d.search(a.QueryParameterNames.Language)===-1)&&(y[a.QueryParameterNames.Language]=m),u.autoDetectSourceLanguages!==void 0&&(y[a.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(u,y,d),d||(d=`${g}${this.universalUri}`);const S={};l.token!==void 0&&l.token!==""&&(S[l.headerName]=l.token),S[o.HeaderNames.ConnectionId]=p;const C=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",R=new t.WebsocketConnection(d,y,S,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),C,p),w=R.uri;return u.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,w),R}setV2UrlParams(u,l,p){new Map([[e.PropertyId.Speech_SegmentationSilenceTimeoutMs,a.QueryParameterNames.SegmentationSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_EnableAudioLogging,a.QueryParameterNames.EnableAudioLogging],[e.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,a.QueryParameterNames.EndSilenceTimeoutMs],[e.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,a.QueryParameterNames.InitialSilenceTimeoutMs],[e.PropertyId.SpeechServiceResponse_PostProcessingOption,a.QueryParameterNames.Postprocessing],[e.PropertyId.SpeechServiceResponse_ProfanityOption,a.QueryParameterNames.Profanity],[e.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,a.QueryParameterNames.StableIntermediateThreshold]]).forEach((f,g)=>{this.setUrlParameter(g,f,u,l,p)});const h=JSON.parse(u.parameters.getProperty(r.ServicePropertiesPropertyName,"{}"));Object.keys(h).forEach(f=>{l[f]=h[f]})}};return Ho.ConversationTranscriberConnectionFactory=s,Ho}var Wo={},cy;function CD(){if(cy)return Wo;cy=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.TranscriberConnectionFactory=void 0;const t=Ie(),e=A(),r=Nt(),n=M(),i=Te,o=Dt;let a=class extends r.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(c,u,l){let p=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);const d=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,"centralus"),h=r.ConnectionFactoryBase.getHostSuffix(d),f="wss://transcribe."+d+".cts.speech"+h+this.multiaudioRelativeUri,g=c.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,f),y={};this.setQueryParams(y,c,p),p||(p=g);const v={};u.token!==void 0&&u.token!==""&&(v[u.headerName]=u.token),v[i.HeaderNames.ConnectionId]=l,c.parameters.setProperty(e.PropertyId.SpeechServiceConnection_Url,p);const m=c.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(p,y,v,new n.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(c),m,l)}setQueryParams(c,u,l){const p=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_EndpointId,void 0),d=u.parameters.getProperty(e.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);p&&!(o.QueryParameterNames.CustomSpeechDeploymentId in c)&&(c[o.QueryParameterNames.CustomSpeechDeploymentId]=p),d&&!(o.QueryParameterNames.Language in c)&&(c[o.QueryParameterNames.Language]=d);const h=u.parameters.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true",f=u.parameters.getProperty(n.OutputFormatPropertyName,e.OutputFormat[e.OutputFormat.Simple])!==e.OutputFormat[e.OutputFormat.Simple];(h||f)&&(c[o.QueryParameterNames.Format]=e.OutputFormat[e.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(u,c,l)}};return Wo.TranscriberConnectionFactory=a,Wo}var Ko={},uy;function PD(){if(uy)return Ko;uy=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.TranslationConnectionFactory=void 0;const t=Ie(),e=Aa,r=A(),n=Nt(),i=M(),o=Te,a=Dt;let s=class extends n.ConnectionFactoryBase{create(u,l,p){const d=this.getEndpointUrl(u),h={};u.autoDetectSourceLanguages!==void 0&&(h[a.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(h,u,d);const f={};l.token!==void 0&&l.token!==""&&(f[l.headerName]=l.token),f[o.HeaderNames.ConnectionId]=p,u.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,d);const g=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(d,h,f,new i.WebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),g,p)}getEndpointUrl(u,l){const p=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),d=n.ConnectionFactoryBase.getHostSuffix(p);let h=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);return h||(u.autoDetectSourceLanguages!==void 0?h=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+d)+"/speech/universal/v2":h=u.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+d)+"/speech/translation/cognitiveservices/v1"),l===!0?h:e.StringUtils.formatString(h,{region:p})}setQueryParams(u,l,p){u.from=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage),u.to=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages),u.scenario=l.recognitionMode===i.RecognitionMode.Interactive?"interactive":l.recognitionMode===i.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(l,u,p),this.setUrlParameter(r.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,a.QueryParameterNames.StableTranslation,l,u,p);const d=l.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);d!==void 0&&(u.voice=d,u.features="texttospeech")}};return Ko.TranslationConnectionFactory=s,Ko}var Jo={},ly;function RD(){if(ly)return Jo;ly=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.EnumTranslation=void 0;const t=A(),e=M();let r=class{static implTranslateRecognitionResult(i,o=!1){let a=t.ResultReason.Canceled;switch(i){case e.RecognitionStatus.Success:a=t.ResultReason.RecognizedSpeech;break;case e.RecognitionStatus.EndOfDictation:a=o?t.ResultReason.RecognizedSpeech:t.ResultReason.NoMatch;break;case e.RecognitionStatus.NoMatch:case e.RecognitionStatus.InitialSilenceTimeout:case e.RecognitionStatus.BabbleTimeout:a=t.ResultReason.NoMatch;break;case e.RecognitionStatus.Error:case e.RecognitionStatus.BadRequest:case e.RecognitionStatus.Forbidden:default:a=t.ResultReason.Canceled;break}return a}static implTranslateCancelResult(i){let o=t.CancellationReason.EndOfStream;switch(i){case e.RecognitionStatus.Success:case e.RecognitionStatus.EndOfDictation:case e.RecognitionStatus.NoMatch:o=t.CancellationReason.EndOfStream;break;case e.RecognitionStatus.InitialSilenceTimeout:case e.RecognitionStatus.BabbleTimeout:case e.RecognitionStatus.Error:case e.RecognitionStatus.BadRequest:case e.RecognitionStatus.Forbidden:default:o=t.CancellationReason.Error;break}return o}static implTranslateCancelErrorCode(i){let o=t.CancellationErrorCode.NoError;switch(i){case e.RecognitionStatus.Error:o=t.CancellationErrorCode.ServiceError;break;case e.RecognitionStatus.TooManyRequests:o=t.CancellationErrorCode.TooManyRequests;break;case e.RecognitionStatus.BadRequest:o=t.CancellationErrorCode.BadRequestParameters;break;case e.RecognitionStatus.Forbidden:o=t.CancellationErrorCode.Forbidden;break;default:o=t.CancellationErrorCode.NoError;break}return o}static implTranslateErrorDetails(i){let o="The speech service encountered an internal error and could not continue.";switch(i){case t.CancellationErrorCode.Forbidden:o="The recognizer is using a free subscription that ran out of quota.";break;case t.CancellationErrorCode.BadRequestParameters:o="Invalid parameter or unsupported audio format in the request.";break;case t.CancellationErrorCode.TooManyRequests:o="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return o}};return Jo.EnumTranslation=r,Jo}var $w={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionStatus=t.SynthesisStatus=void 0,function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(t.SynthesisStatus||(t.SynthesisStatus={})),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation",e[e.TooManyRequests=6]="TooManyRequests",e[e.BadRequest=7]="BadRequest",e[e.Forbidden=8]="Forbidden"}(t.RecognitionStatus||(t.RecognitionStatus={}))})($w);var Go={},py;function wD(){if(py)return Go;py=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.TranslationSynthesisEnd=void 0;const t=M();let e=class Uw{constructor(n){this.privSynthesisEnd=JSON.parse(n),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=t.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=t.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(n){return new Uw(n)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}};return Go.TranslationSynthesisEnd=e,Go}var yl={};Object.defineProperty(yl,"__esModule",{value:!0});yl.TranslationHypothesis=void 0;const ED=F,TD=Bu;class Kc{constructor(e){this.privTranslationHypothesis=e,this.privTranslationHypothesis.Translation.TranslationStatus=TD.TranslationStatus[this.privTranslationHypothesis.Translation.TranslationStatus]}static fromJSON(e){return new Kc(JSON.parse(e))}static fromTranslationResponse(e){ED.Contracts.throwIfNullOrUndefined(e,"translationHypothesis");const r=e.SpeechHypothesis;return e.SpeechHypothesis=void 0,r.Translation=e,new Kc(r)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){var e;return(e=this.privTranslationHypothesis.PrimaryLanguage)==null?void 0:e.Language}}yl.TranslationHypothesis=Kc;var Qo={},dy;function ID(){if(dy)return Qo;dy=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.TranslationPhrase=void 0;const t=F,e=M(),r=Bu;let n=class Qd{constructor(o){this.privTranslationPhrase=o,this.privTranslationPhrase.RecognitionStatus=e.RecognitionStatus[this.privTranslationPhrase.RecognitionStatus],this.privTranslationPhrase.Translation!==void 0&&(this.privTranslationPhrase.Translation.TranslationStatus=r.TranslationStatus[this.privTranslationPhrase.Translation.TranslationStatus])}static fromJSON(o){return new Qd(JSON.parse(o))}static fromTranslationResponse(o){t.Contracts.throwIfNullOrUndefined(o,"translationResponse");const a=o.SpeechPhrase;return o.SpeechPhrase=void 0,a.Translation=o,a.Text=a.DisplayText,new Qd(a)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){var o;return(o=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:o.Language}get Confidence(){var o;return(o=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:o.Confidence}get Translation(){return this.privTranslationPhrase.Translation}};return Qo.TranslationPhrase=n,Qo}var Xo={},hy;function AD(){if(hy)return Xo;hy=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.TranslationServiceRecognizer=void 0;const t=L(),e=A(),r=M();let n=class extends r.ConversationServiceRecognizer{constructor(o,a,s,c,u){super(o,a,s,c,u),this.privTranslationRecognizer=u,this.connectionEvents.attach(l=>{l.name==="ConnectionEstablishedEvent"&&this.privTranslationRecognizer.onConnection()})}async processTypeSpecificMessages(o){const a=new e.PropertyCollection;let s=await this.processSpeechMessages(o);if(s)return!0;const c=async l=>{if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+l.Offset+l.Duration),l.RecognitionStatus===r.RecognitionStatus.Success){const p=this.fireEventForResult(l,a);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,p)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(p.result)}catch(d){this.privErrorCallback&&this.privErrorCallback(d)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const p=r.EnumTranslation.implTranslateRecognitionResult(l.RecognitionStatus),d=new e.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,p,l.Text,l.Duration,this.privRequestSession.currentTurnAudioOffset+l.Offset,l.Language,l.Confidence,void 0,o.textBody,a);if(p===e.ResultReason.Canceled){const h=r.EnumTranslation.implTranslateCancelResult(l.RecognitionStatus),f=r.EnumTranslation.implTranslateCancelErrorCode(l.RecognitionStatus);await this.cancelRecognitionLocal(h,f,r.EnumTranslation.implTranslateErrorDetails(f))}else{if(!(this.privRequestSession.isSpeechEnded&&p===e.ResultReason.NoMatch&&l.RecognitionStatus!==r.RecognitionStatus.InitialSilenceTimeout)){const h=new e.TranslationRecognitionEventArgs(d,d.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,h)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(d)}catch(h){this.privErrorCallback&&this.privErrorCallback(h)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}s=!0}},u=(l,p)=>{const d=this.fireEventForResult(l,p);if(this.privRequestSession.onHypothesis(this.privRequestSession.currentTurnAudioOffset+d.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,d)}catch{}s=!0};switch(o.messageType===t.MessageType.Text&&a.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o.textBody),o.path.toLowerCase()){case"translation.hypothesis":u(r.TranslationHypothesis.fromJSON(o.textBody),a);break;case"translation.response":const l=JSON.parse(o.textBody);if(l.SpeechPhrase)await c(r.TranslationPhrase.fromTranslationResponse(l));else{const d=JSON.parse(o.textBody);d.SpeechHypothesis&&u(r.TranslationHypothesis.fromTranslationResponse(d),a)}break;case"translation.phrase":await c(r.TranslationPhrase.fromJSON(o.textBody));break;case"translation.synthesis":this.sendSynthesisAudio(o.binaryBody,this.privRequestSession.sessionId),s=!0;break;case"audio.end":case"translation.synthesis.end":const p=r.TranslationSynthesisEnd.fromJSON(o.textBody);switch(p.SynthesisStatus){case r.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const d=new e.TranslationSynthesisResult(e.ResultReason.Canceled,void 0),h=new e.TranslationSynthesisEventArgs(d,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,h)}catch{}}if(this.privTranslationRecognizer.canceled){const d=new e.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,e.CancellationReason.Error,p.FailureReason,e.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,d)}catch{}}break;case r.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break}s=!0;break}return s}cancelRecognition(o,a,s,c,u){const l=new e.PropertyCollection;if(l.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[c]),this.privTranslationRecognizer.canceled){const p=new e.TranslationRecognitionCanceledEventArgs(o,s,u,c,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,p)}catch{}}if(this.privSuccessCallback){const p=new e.TranslationRecognitionResult(void 0,a,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,u,void 0,l);try{this.privSuccessCallback(p),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(o,a,s){try{const c=new e.TranslationRecognitionEventArgs(e.TranslationRecognitionResult.fromSpeechRecognitionResult(o),a,s);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,c)}catch{}}handleRecognizedCallback(o,a,s){try{const c=new e.TranslationRecognitionEventArgs(e.TranslationRecognitionResult.fromSpeechRecognitionResult(o),a,s);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,c)}catch{}}fireEventForResult(o,a){let s;if(o.Translation.Translations!==void 0){s=new e.Translations;for(const f of o.Translation.Translations)s.set(f.Language,f.Text||f.DisplayText)}let c,u;o instanceof r.TranslationPhrase?(o.Translation&&o.Translation.TranslationStatus===t.TranslationStatus.Success?c=e.ResultReason.TranslatedSpeech:c=e.ResultReason.RecognizedSpeech,u=o.Confidence):c=e.ResultReason.TranslatingSpeech;const l=o.Language,p=o.Offset+this.privRequestSession.currentTurnAudioOffset,d=new e.TranslationRecognitionResult(s,this.privRequestSession.requestId,c,o.Text,o.Duration,p,l,u,o.Translation.FailureReason,JSON.stringify(o),a);return new e.TranslationRecognitionEventArgs(d,p,this.privRequestSession.sessionId)}sendSynthesisAudio(o,a){const s=o===void 0?e.ResultReason.SynthesizingAudioCompleted:e.ResultReason.SynthesizingAudio,c=new e.TranslationSynthesisResult(s,o),u=new e.TranslationSynthesisEventArgs(c,a);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,u)}catch{}}};return Xo.TranslationServiceRecognizer=n,Xo}var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.SpeechDetected=void 0;class Rf{constructor(e){this.privSpeechStartDetected=JSON.parse(e)}static fromJSON(e){return new Rf(e)}get Offset(){return this.privSpeechStartDetected.Offset}}Sl.SpeechDetected=Rf;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.SpeechHypothesis=void 0;class wf{constructor(e){this.privSpeechHypothesis=JSON.parse(e)}static fromJSON(e){return new wf(e)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}Cl.SpeechHypothesis=wf;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.SpeechKeyword=void 0;class Ef{constructor(e){this.privSpeechKeyword=JSON.parse(e)}static fromJSON(e){return new Ef(e)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}}Pl.SpeechKeyword=Ef;var Yo={},fy;function _D(){if(fy)return Yo;fy=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.SpeechServiceRecognizer=void 0;const t=A(),e=M();let r=class extends e.ServiceRecognizerBase{constructor(i,o,a,s,c){super(i,o,a,s,c),this.privSpeechRecognizer=c}async processTypeSpecificMessages(i){let o;const a=new t.PropertyCollection;a.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i.textBody);let s=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=e.SpeechHypothesis.fromJSON(i.textBody),u=c.Offset+this.privRequestSession.currentTurnAudioOffset;o=new t.SpeechRecognitionResult(this.privRequestSession.requestId,t.ResultReason.RecognizingSpeech,c.Text,c.Duration,u,c.Language,c.LanguageDetectionConfidence,void 0,void 0,i.textBody,a),this.privRequestSession.onHypothesis(u);const l=new t.SpeechRecognitionEventArgs(o,c.Duration,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,l)}catch{}s=!0;break;case"speech.phrase":const p=e.SimpleSpeechPhrase.fromJSON(i.textBody),d=e.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+p.Offset+p.Duration),t.ResultReason.Canceled===d){const h=e.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),f=e.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(h,f,e.EnumTranslation.implTranslateErrorDetails(f))}else{if(!(this.privRequestSession.isSpeechEnded&&d===t.ResultReason.NoMatch&&p.RecognitionStatus!==e.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(e.OutputFormatPropertyName)===t.OutputFormat[t.OutputFormat.Simple])o=new t.SpeechRecognitionResult(this.privRequestSession.requestId,d,p.DisplayText,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,void 0,void 0,i.textBody,a);else{const f=e.DetailedSpeechPhrase.fromJSON(i.textBody),g=f.Offset+this.privRequestSession.currentTurnAudioOffset,y=f.getJsonWithCorrectedOffsets(g);o=new t.SpeechRecognitionResult(this.privRequestSession.requestId,d,f.RecognitionStatus===e.RecognitionStatus.Success?f.NBest[0].Display:void 0,f.Duration,g,f.Language,f.LanguageDetectionConfidence,void 0,void 0,y,a)}const h=new t.SpeechRecognitionEventArgs(o,o.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,h)}catch{}}if(this.privSuccessCallback){try{this.privSuccessCallback(o)}catch(h){this.privErrorCallback&&this.privErrorCallback(h)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}s=!0;break}return s}cancelRecognition(i,o,a,s,c){const u=new t.PropertyCollection;if(u.setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[s]),this.privSpeechRecognizer.canceled){const l=new t.SpeechRecognitionCanceledEventArgs(a,c,s,void 0,i);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,l)}catch{}}if(this.privSuccessCallback){const l=new t.SpeechRecognitionResult(o,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,u);try{this.privSuccessCallback(l),this.privSuccessCallback=void 0}catch{}}}};return Yo.SpeechServiceRecognizer=r,Yo}var Zo={},vy;function bD(){if(vy)return Zo;vy=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.ConversationTranscriptionServiceRecognizer=void 0;const t=A(),e=M();let r=class extends e.ServiceRecognizerBase{constructor(i,o,a,s,c){super(i,o,a,s,c),this.privConversationTranscriber=c,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const i=this.privSpeechContext.getSection("phraseDetection");i.mode="Conversation";const o={};o.mode="Anonymous",o.audioSessionId=this.privDiarizationSessionId,o.audioOffsetMs=0,i.speakerDiarization=o,this.privSpeechContext.setSection("phraseDetection",i)}}async processTypeSpecificMessages(i){let o;const a=new t.PropertyCollection;a.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,i.textBody);let s=!1;switch(i.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=e.SpeechHypothesis.fromJSON(i.textBody),u=c.Offset+this.privRequestSession.currentTurnAudioOffset;o=new t.ConversationTranscriptionResult(this.privRequestSession.requestId,t.ResultReason.RecognizingSpeech,c.Text,c.Duration,u,c.Language,c.LanguageDetectionConfidence,void 0,void 0,i.textBody,a),this.privRequestSession.onHypothesis(u);const l=new t.ConversationTranscriptionEventArgs(o,c.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,l)}catch{}s=!0;break;case"speech.phrase":const p=e.SimpleSpeechPhrase.fromJSON(i.textBody),d=e.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+p.Offset+p.Duration),t.ResultReason.Canceled===d){const h=e.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),f=e.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(h,f,e.EnumTranslation.implTranslateErrorDetails(f))}else if(!(this.privRequestSession.isSpeechEnded&&d===t.ResultReason.NoMatch&&p.RecognitionStatus!==e.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(e.OutputFormatPropertyName)===t.OutputFormat[t.OutputFormat.Simple])o=new t.ConversationTranscriptionResult(this.privRequestSession.requestId,d,p.DisplayText,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,p.SpeakerId,void 0,i.textBody,a);else{const f=e.DetailedSpeechPhrase.fromJSON(i.textBody),g=f.Offset+this.privRequestSession.currentTurnAudioOffset,y=f.getJsonWithCorrectedOffsets(g);o=new t.ConversationTranscriptionResult(this.privRequestSession.requestId,d,f.RecognitionStatus===e.RecognitionStatus.Success?f.NBest[0].Display:void 0,f.Duration,g,f.Language,f.LanguageDetectionConfidence,p.SpeakerId,void 0,y,a)}const h=new t.ConversationTranscriptionEventArgs(o,o.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,h)}catch{}}s=!0;break}return s}cancelRecognition(i,o,a,s,c){if(new t.PropertyCollection().setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[s]),this.privConversationTranscriber.canceled){const l=new t.ConversationTranscriptionCanceledEventArgs(a,c,s,void 0,i);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,l)}catch{}}}};return Zo.ConversationTranscriptionServiceRecognizer=r,Zo}var es={},gy;function kD(){if(gy)return es;gy=1,Object.defineProperty(es,"__esModule",{value:!0}),es.TranscriptionServiceRecognizer=void 0;const t=L(),e=A(),r=M(),n=pr;let i=class extends r.ConversationServiceRecognizer{constructor(a,s,c,u,l){super(a,s,c,u,l),this.privTranscriberRecognizer=l,this.sendPrePayloadJSONOverride=p=>this.sendTranscriptionStartJSON(p),this.privRecognizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)==="true"&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(a,s){if(this.privRequestSession.isRecognizing){const c=await this.fetchConnection();await this.sendSpeechEvent(c,this.createSpeechEventPayload(a,s))}}async sendMeetingSpeechEventAsync(a,s){if(this.privRequestSession.isRecognizing){const c=await this.fetchConnection();await this.sendSpeechEvent(c,this.createMeetingSpeechEventPayload(a,s))}}processTypeSpecificMessages(a){return this.processSpeechMessages(a)}handleRecognizedCallback(a,s,c){try{const u=new e.SpeechRecognitionEventArgs(a,s,c);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,u),this.privSuccessCallback){try{this.privSuccessCallback(a)}catch(l){this.privErrorCallback&&this.privErrorCallback(l)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch{}}handleRecognizingCallback(a,s,c){try{const u=new e.SpeechRecognitionEventArgs(a,s,c);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,u)}catch{}}cancelRecognition(a,s,c,u,l){const p=new e.PropertyCollection;if(p.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[u]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const d=new e.MeetingTranscriptionCanceledEventArgs(c,l,u,void 0,a);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,d)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const d=new e.ConversationTranscriptionCanceledEventArgs(c,l,u,void 0,a);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,d)}catch{}}if(this.privSuccessCallback){const d=new e.SpeechRecognitionResult(s,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,l,void 0,p);try{this.privSuccessCallback(d),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(a){if(await this.sendSpeechContext(a,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const s=this.privTranscriberRecognizer.getMeetingInfo(),c=this.createMeetingSpeechEventPayload(s,"start");await this.sendSpeechEvent(a,c)}else{const s=this.privTranscriberRecognizer.getConversationInfo(),c=this.createSpeechEventPayload(s,"start");await this.sendSpeechEvent(a,c)}await this.sendWaveHeader(a)}sendSpeechEvent(a,s){const c=JSON.stringify(s);if(c)return a.send(new n.SpeechConnectionMessage(t.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",c))}createSpeechEventPayload(a,s){const c={id:"meeting",name:s,meeting:a.conversationProperties};return c.meeting.id=a.id,c.meeting.attendees=a.participants,c}createMeetingSpeechEventPayload(a,s){const c={id:"meeting",name:s,meeting:a.meetingProperties};return c.meeting.id=a.id,c.meeting.attendees=a.participants,c}};return es.TranscriptionServiceRecognizer=i,es}var ts={},my;function OD(){if(my)return ts;my=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.DetailedSpeechPhrase=void 0;const t=M();let e=class qw{constructor(n){this.privDetailedSpeechPhrase=JSON.parse(n),this.privDetailedSpeechPhrase.RecognitionStatus=t.RecognitionStatus[this.privDetailedSpeechPhrase.RecognitionStatus]}static fromJSON(n){return new qw(n)}getJsonWithCorrectedOffsets(n){if(this.privDetailedSpeechPhrase.NBest){let i;for(const o of this.privDetailedSpeechPhrase.NBest)if(o.Words&&o.Words[0]){i=o.Words[0].Offset;break}if(i&&i<n){const o=n-i;for(const a of this.privDetailedSpeechPhrase.NBest){if(a.Words)for(const s of a.Words)s.Offset+=o;if(a.DisplayWords)for(const s of a.DisplayWords)s.Offset+=o}}}return JSON.stringify(this.privDetailedSpeechPhrase)}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}};return ts.DetailedSpeechPhrase=e,ts}var rs={},yy;function MD(){if(yy)return rs;yy=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.SimpleSpeechPhrase=void 0;const t=M();let e=class Vw{constructor(n){this.privSimpleSpeechPhrase=JSON.parse(n),this.privSimpleSpeechPhrase.RecognitionStatus=t.RecognitionStatus[this.privSimpleSpeechPhrase.RecognitionStatus]}static fromJSON(n){return new Vw(n)}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}};return rs.SimpleSpeechPhrase=e,rs}var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.AddedLmIntent=void 0;class DD{constructor(e,r){this.modelImpl=e,this.intentName=r}}Rl.AddedLmIntent=DD;var ns={},Sy;function ND(){if(Sy)return ns;Sy=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.IntentServiceRecognizer=void 0;const t=L(),e=A(),r=M();let n=class extends r.ServiceRecognizerBase{constructor(o,a,s,c,u){super(o,a,s,c,u),this.privIntentRecognizer=u,this.privIntentDataSent=!1}setIntents(o,a){this.privAddedLmIntents=o,this.privUmbrellaIntent=a,this.privIntentDataSent=!0}processTypeSpecificMessages(o){let a,s,c=!1;const u=new e.PropertyCollection;switch(o.messageType===t.MessageType.Text&&u.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o.textBody),o.path.toLowerCase()){case"speech.hypothesis":const p=r.SpeechHypothesis.fromJSON(o.textBody);if(a=new e.IntentRecognitionResult(void 0,this.privRequestSession.requestId,e.ResultReason.RecognizingIntent,p.Text,p.Duration,p.Offset+this.privRequestSession.currentTurnAudioOffset,p.Language,p.LanguageDetectionConfidence,void 0,o.textBody,u),this.privRequestSession.onHypothesis(a.offset),s=new e.IntentRecognitionEventArgs(a,p.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,s)}catch{}c=!0;break;case"speech.phrase":const d=r.SimpleSpeechPhrase.fromJSON(o.textBody);a=new e.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.EnumTranslation.implTranslateRecognitionResult(d.RecognitionStatus),d.DisplayText,d.Duration,d.Offset+this.privRequestSession.currentTurnAudioOffset,d.Language,d.LanguageDetectionConfidence,void 0,o.textBody,u),s=new e.IntentRecognitionEventArgs(a,a.offset,this.privRequestSession.sessionId);const h=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,s)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(a)}catch(g){this.privErrorCallback&&this.privErrorCallback(g)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};this.privIntentDataSent===!1||e.ResultReason.NoMatch===s.result.reason?(this.privRequestSession.onPhraseRecognized(s.offset+s.result.duration),h()):this.privPendingIntentArgs=s,c=!0;break;case"response":if(s=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,s===void 0){if(o.textBody==="")return;s=new e.IntentRecognitionEventArgs(new e.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const f=r.IntentResponse.fromJSON(o.textBody);if(f!==null&&f.topScoringIntent&&f.topScoringIntent.intent){let g=this.privAddedLmIntents[f.topScoringIntent.intent];if(this.privUmbrellaIntent!==void 0&&(g=this.privUmbrellaIntent),g){const y=g===void 0||g.intentName===void 0?f.topScoringIntent.intent:g.intentName;let v=s.result.reason;y!==void 0&&(v=e.ResultReason.RecognizedIntent);const m=s.result.properties!==void 0?s.result.properties:new e.PropertyCollection;m.setProperty(e.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,o.textBody),s=new e.IntentRecognitionEventArgs(new e.IntentRecognitionResult(y,s.result.resultId,v,s.result.text,s.result.duration,s.result.offset,void 0,void 0,s.result.errorDetails,s.result.json,m),s.offset,s.sessionId)}}if(this.privRequestSession.onPhraseRecognized(s.offset+s.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,s)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(s.result)}catch(g){this.privErrorCallback&&this.privErrorCallback(g)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}c=!0;break}const l=new t.Deferred;return l.resolve(c),l.promise}cancelRecognition(o,a,s,c,u){const l=new e.PropertyCollection;if(l.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[c]),this.privIntentRecognizer.canceled){const p=new e.IntentRecognitionCanceledEventArgs(s,u,c,void 0,void 0,o);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,p)}catch{}}if(this.privSuccessCallback){const p=new e.IntentRecognitionResult(void 0,a,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,u,void 0,l);try{this.privSuccessCallback(p),this.privSuccessCallback=void 0}catch{}}}};return ns.IntentServiceRecognizer=n,ns}var wl={};Object.defineProperty(wl,"__esModule",{value:!0});wl.IntentResponse=void 0;class Tf{constructor(e){e===""?this.privIntentResponse={}:this.privIntentResponse=JSON.parse(e)}static fromJSON(e){return new Tf(e)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}}wl.IntentResponse=Tf;var Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});var El={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.ServiceTelemetryListener=void 0;const Qt=L(),Cy=gl;class xD{constructor(e,r,n){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=e,this.privAudioSourceId=r,this.privAudioNodeId=n,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}onEvent(e){this.privIsDisposed||(e instanceof Cy.RecognitionTriggeredEvent&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof Qt.AudioStreamNodeAttachingEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof Qt.AudioStreamNodeAttachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof Qt.AudioSourceErrorEvent&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Qt.AudioStreamNodeErrorEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Qt.AudioStreamNodeDetachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof Cy.ConnectingToServiceEvent&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof Qt.ConnectionStartEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof Qt.ConnectionEstablishedEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof Qt.ConnectionEstablishErrorEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof Qt.ConnectionMessageReceivedEvent&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path&&(this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array),this.privReceivedMessages[e.message.headers.path].length<50&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)))}getTelemetry(){const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const r={Metrics:e,ReceivedMessages:this.privReceivedMessages},n=JSON.stringify(r);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],n}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}Tl.ServiceTelemetryListener=xD;Object.defineProperty(El,"__esModule",{value:!0});El.RequestSession=void 0;const Mn=L(),Za=gl,LD=Tl;class zD{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=e,this.privRequestId=Mn.createNoDashGuid(),this.privAudioNodeId=Mn.createNoDashGuid(),this.privTurnDeferral=new Mn.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new LD.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new Za.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(e,r){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,r?await this.onComplete():this.onEvent(new Za.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(e,r){this.privAuthFetchEventId=e,this.privSessionId=r,this.onEvent(new Za.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(e){e&&await this.onComplete()}async onConnectionEstablishCompleted(e,r){if(e===200){this.onEvent(new Za.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else e===403&&await this.onComplete()}async onServiceTurnEndResponse(e){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=Mn.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new Mn.Deferred}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}onAudioSent(e){this.privBytesSent+=e,this.privRecognitionBytesSent+=e}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),Mn.Events.instance.onEvent(e)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}}El.RequestSession=zD;var Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.SpeechContext=void 0;class jD{constructor(e){this.privContext={},this.privDynamicGrammar=e}getSection(e){return this.privContext[e]||{}}setSection(e,r){this.privContext[e]=r}setPronunciationAssessmentParams(e,r,n=!1){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment===void 0&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),n&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),this.privContext.phraseOutput.detailed.options.indexOf("SNR")===-1&&this.privContext.phraseOutput.detailed.options.push("SNR"),r&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:r},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")===-1&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(e){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=e}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",e),JSON.stringify(this.privContext)}}Il.SpeechContext=jD;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.DynamicGrammarBuilder=void 0;class FD{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const e={};if(e.ReferenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const r=[];this.privPhrases.forEach(n=>{r.push({Text:n})}),e.Groups=[{Type:"Generic",Items:r}]}return e}}Al.DynamicGrammarBuilder=FD;var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});var is={},_l={},bl={},If={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDataStreamType=t.ActivityPayloadResponse=void 0;class e{constructor(n){this.privActivityResponse=JSON.parse(n)}static fromJSON(n){return new e(n)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}t.ActivityPayloadResponse=e,function(r){r[r.None=0]="None",r[r.TextToSpeechAudio=1]="TextToSpeechAudio"}(t.MessageDataStreamType||(t.MessageDataStreamType={}))})(If);Object.defineProperty(bl,"__esModule",{value:!0});bl.DialogServiceTurnState=void 0;const BD=Hr,$D=be,UD=If;class qD{constructor(e,r){this.privRequestId=r,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=e,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(e,r){return e.messageDataStreamType===UD.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=$D.AudioOutputStream.createPullStream(),this.privAudioStream.format=r!==void 0?r:BD.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){this.privAudioStream!==null&&!this.privAudioStream.isClosed&&this.privAudioStream.close()}complete(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(()=>{this.privTurnManager.CompleteTurn(this.privRequestId)},2e3)}}bl.DialogServiceTurnState=qD;Object.defineProperty(_l,"__esModule",{value:!0});_l.DialogServiceTurnStateManager=void 0;const Py=Oe,VD=bl;class HD{constructor(){this.privTurnMap=new Map}StartTurn(e){if(this.privTurnMap.has(e))throw new Py.InvalidOperationError("Service error: There is already a turn with id:"+e);const r=new VD.DialogServiceTurnState(this,e);return this.privTurnMap.set(e,r),this.privTurnMap.get(e)}GetTurn(e){return this.privTurnMap.get(e)}CompleteTurn(e){if(!this.privTurnMap.has(e))throw new Py.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+e);const r=this.privTurnMap.get(e);return r.complete(),this.privTurnMap.delete(e),r}}_l.DialogServiceTurnStateManager=HD;var Ry;function WD(){if(Ry)return is;Ry=1,Object.defineProperty(is,"__esModule",{value:!0}),is.DialogServiceAdapter=void 0;const t=Ie(),e=En,r=L(),n=Hr,i=A(),o=_l,a=M(),s=If,c=pr;let u=class extends a.ServiceRecognizerBase{constructor(p,d,h,f,g){super(p,d,h,f,g),this.privEvents=new r.EventSource,this.privDialogServiceConnector=g,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new o.DialogServiceTurnStateManager,this.recognizeOverride=(y,v,m)=>this.listenOnce(y,v,m),this.postConnectImplOverride=y=>this.dialogConnectImpl(y),this.configConnectionOverride=y=>this.configConnection(y),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=h,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach(y=>{y.name==="ConnectionClosedEvent"&&(this.terminateMessageLoop=!0)})}async sendMessage(p){const d=r.createGuid(),h=r.createNoDashGuid(),f={context:{interactionId:d},messagePayload:JSON.parse(p),version:.5},g=JSON.stringify(f);await(await this.fetchConnection()).send(new c.SpeechConnectionMessage(r.MessageType.Text,"agent",h,"application/json",g))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(p){const d=new i.PropertyCollection;p.messageType===r.MessageType.Text&&d.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,p.textBody);let h,f;switch(p.path.toLowerCase()){case"speech.phrase":const y=a.SimpleSpeechPhrase.fromJSON(p.textBody);if(this.privRequestSession.onPhraseRecognized(this.privRequestSession.currentTurnAudioOffset+y.Offset+y.Duration),y.RecognitionStatus!==a.RecognitionStatus.TooManyRequests&&y.RecognitionStatus!==a.RecognitionStatus.Error){const w=this.fireEventForResult(y,d);if(this.privLastResult=w.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,w)}catch{}}f=!0;break;case"speech.hypothesis":const v=a.SpeechHypothesis.fromJSON(p.textBody),m=v.Offset+this.privRequestSession.currentTurnAudioOffset;h=new i.SpeechRecognitionResult(this.privRequestSession.requestId,i.ResultReason.RecognizingSpeech,v.Text,v.Duration,m,v.Language,v.LanguageDetectionConfidence,void 0,void 0,p.textBody,d),this.privRequestSession.onHypothesis(m);const S=new i.SpeechRecognitionEventArgs(h,v.Duration,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,S)}catch{}f=!0;break;case"speech.keyword":const C=a.SpeechKeyword.fromJSON(p.textBody);h=new i.SpeechRecognitionResult(this.privRequestSession.requestId,C.Status==="Accepted"?i.ResultReason.RecognizedKeyword:i.ResultReason.NoMatch,C.Text,C.Duration,C.Offset,void 0,void 0,void 0,void 0,p.textBody,d),C.Status!=="Accepted"&&(this.privLastResult=h);const R=new i.SpeechRecognitionEventArgs(h,h.duration,h.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,R)}catch{}f=!0;break;case"audio":{const w=p.requestId.toUpperCase(),T=this.privTurnStateManager.GetTurn(w);try{p.binaryBody?T.audioStream.write(p.binaryBody):T.endAudioStream()}catch{}}f=!0;break;case"response":this.handleResponseMessage(p),f=!0;break}const g=new r.Deferred;return g.resolve(f),g.promise}async cancelRecognition(p,d,h,f,g){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const y=new i.PropertyCollection;y.setProperty(a.CancellationErrorCodePropertyName,i.CancellationErrorCode[f]);const v=new i.SpeechRecognitionCanceledEventArgs(h,g,f,void 0,p);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,v)}catch{}if(this.privSuccessCallback){const m=new i.SpeechRecognitionResult(void 0,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,g,void 0,y);try{this.privSuccessCallback(m),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(p,d,h){this.privRecognizerConfig.recognitionMode=p,this.privSuccessCallback=d,this.privErrorCallback=h,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(i.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const f=this.connectImpl(),g=this.sendPreAudioMessages(),y=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),v=await this.privDialogAudioSource.format,m=await this.privDialogAudioSource.deviceInfo,S=new t.ReplayableAudioNode(y,v.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(S,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:m};try{await f,await g}catch(w){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.ConnectionFailure,w),Promise.resolve()}const C=new i.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,C),this.sendAudio(S).then(()=>{},async w=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,w)})}dialogConnectImpl(p){return this.privConnectionLoop=this.startMessageLoop(),p}receiveDialogMessageOverride(){const p=new r.Deferred,d=async()=>{try{const h=this.isDisposed(),f=!this.isDisposed()&&this.terminateMessageLoop;if(h||f){p.resolve(void 0);return}const y=await(await this.fetchConnection()).read();if(!y)return d();const v=c.SpeechConnectionMessage.fromConnectionMessage(y);switch(v.path.toLowerCase()){case"turn.start":{const E=v.requestId.toUpperCase(),x=this.privRequestSession.requestId.toUpperCase();E!==x?this.privTurnStateManager.StartTurn(E):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const S=a.SpeechDetected.fromJSON(v.textBody),C=new i.RecognitionEventArgs(S.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,C);break;case"speech.enddetected":let R;v.textBody.length>0?R=v.textBody:R="{ Offset: 0 }";const w=a.SpeechDetected.fromJSON(R);this.privRequestSession.onServiceRecognized(w.Offset+this.privRequestSession.currentTurnAudioOffset);const T=new i.RecognitionEventArgs(w.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,T);break;case"turn.end":{const E=v.requestId.toUpperCase(),x=this.privRequestSession.requestId.toUpperCase();if(E!==x)this.privTurnStateManager.CompleteTurn(E);else{const N=new i.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),(!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)&&this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,N),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(U){this.privErrorCallback&&this.privErrorCallback(U)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(v)||this.serviceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(v.path.toLowerCase(),v.textBody))}catch{}}return d()}catch{this.terminateMessageLoop=!0,p.resolve()}};return d().catch(h=>{r.Events.instance.onEvent(new r.BackgroundEvent(h))}),p.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(p){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,p)}return Promise.resolve()}async configConnection(p){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(p,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(p),p)}async sendPreAudioMessages(){const p=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(p,!0),await this.sendAgentContext(p),await this.sendWaveHeader(p)}sendAgentConfig(p){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(i.PropertyId.Conversation_DialogType)===i.DialogServiceConfig.DialogTypes.CustomCommands){const h=this.agentConfig.get();h.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(h)}this.onEvent(new e.SendingAgentContextMessageEvent(this.agentConfig));const d=this.agentConfig.toJsonString();return this.agentConfigSent=!0,p.send(new c.SpeechConnectionMessage(r.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",d))}}sendAgentContext(p){const d=r.createGuid(),h=this.privDialogServiceConnector.properties.getProperty(i.PropertyId.Conversation_Speech_Activity_Template),g=JSON.stringify({channelData:"",context:{interactionId:d},messagePayload:typeof h===void 0?void 0:h,version:.5});return p.send(new c.SpeechConnectionMessage(r.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",g))}fireEventForResult(p,d){const h=a.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus),f=p.Offset+this.privRequestSession.currentTurnAudioOffset,g=new i.SpeechRecognitionResult(this.privRequestSession.requestId,h,p.DisplayText,p.Duration,f,p.Language,p.LanguageDetectionConfidence,void 0,void 0,JSON.stringify(p),d);return new i.SpeechRecognitionEventArgs(g,f,this.privRequestSession.sessionId)}handleResponseMessage(p){const d=JSON.parse(p.textBody);switch(d.messageType.toLowerCase()){case"message":const h=p.requestId.toUpperCase(),f=s.ActivityPayloadResponse.fromJSON(p.textBody),g=this.privTurnStateManager.GetTurn(h);if(f.conversationId){const m=this.agentConfig.get();m.botInfo.conversationId=f.conversationId,this.agentConfig.set(m)}const y=g.processActivityPayload(f,n.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),v=new i.ActivityReceivedEventArgs(f.messagePayload,y);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,v)}catch{}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new i.TurnStatusReceivedEventArgs(p.textBody))}catch{}break;default:r.Events.instance.onEvent(new r.BackgroundEvent(`Unexpected response of type ${d.messageType}. Ignoring.`));break}}onEvent(p){this.privEvents.onEvent(p),r.Events.instance.onEvent(p)}addKeywordContextData(){const p=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(p===void 0)return;const d=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),h=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),f=p.split(";"),g=d===void 0?[]:d.split(";"),y=h===void 0?[]:h.split(";"),v=[];for(let m=0;m<f.length;m++){const S={};S.text=f[m],m<g.length&&(S.offset=Number(g[m])),m<y.length&&(S.duration=Number(y[m])),v.push(S)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:v,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}};return is.DialogServiceAdapter=u,is}var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.AgentConfig=void 0;class KD{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}kl.AgentConfig=KD;var Np={},os={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.ConversationConnectionConfig=void 0;const JD=_a;class Ue extends JD.RestConfigBase{static get host(){return Ue.privHost}static get apiVersion(){return Ue.privApiVersion}static get clientAppId(){return Ue.privClientAppId}static get defaultLanguageCode(){return Ue.privDefaultLanguageCode}static get restPath(){return Ue.privRestPath}static get webSocketPath(){return Ue.privWebSocketPath}static get transcriptionEventKeys(){return Ue.privTranscriptionEventKeys}}Ci.ConversationConnectionConfig=Ue;Ue.privHost="dev.microsofttranslator.com";Ue.privRestPath="/capito/room";Ue.privApiVersion="2.0";Ue.privDefaultLanguageCode="en-US";Ue.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15";Ue.privWebSocketPath="/capito/translate";Ue.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"];var wy;function GD(){if(wy)return os;wy=1,Object.defineProperty(os,"__esModule",{value:!0}),os.ConversationManager=void 0;const t=Ie(),e=F,r=A(),n=Ci;let i=class{constructor(){this.privRequestParams=n.ConversationConnectionConfig.configParams,this.privErrors=n.ConversationConnectionConfig.restErrors,this.privHost=n.ConversationConnectionConfig.host,this.privApiVersion=n.ConversationConnectionConfig.apiVersion,this.privRestPath=n.ConversationConnectionConfig.restPath,this.privRestAdapter=new t.RestMessageAdapter({})}createOrJoin(a,s,c,u){try{e.Contracts.throwIfNullOrUndefined(a,"args");const l=a.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,n.ConversationConnectionConfig.defaultLanguageCode),p=a.getProperty(r.PropertyId.ConversationTranslator_Name,"conversation_host"),d=a.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),h=a.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),f=a.getProperty(r.PropertyId.SpeechServiceConnection_Key),g=a.getProperty(r.PropertyId.SpeechServiceConnection_Region),y=a.getProperty(r.PropertyId.SpeechServiceAuthorization_Token);e.Contracts.throwIfNullOrWhitespace(l,"languageCode"),e.Contracts.throwIfNullOrWhitespace(p,"nickname"),e.Contracts.throwIfNullOrWhitespace(d,"endpointHost");const v={};v[this.privRequestParams.apiVersion]=this.privApiVersion,v[this.privRequestParams.languageCode]=l,v[this.privRequestParams.nickname]=p;const m={};h&&(m[this.privRequestParams.correlationId]=h),m[this.privRequestParams.clientAppId]=n.ConversationConnectionConfig.clientAppId,s!==void 0?v[this.privRequestParams.roomId]=s:(e.Contracts.throwIfNullOrUndefined(g,this.privErrors.authInvalidSubscriptionRegion),m[this.privRequestParams.subscriptionRegion]=g,f?m[this.privRequestParams.subscriptionKey]=f:y?m[this.privRequestParams.authorization]=`Bearer ${y}`:e.Contracts.throwIfNullOrUndefined(f,this.privErrors.authInvalidSubscriptionKey));const S={};S.headers=m,this.privRestAdapter.options=S;const C=`https://${d}${this.privRestPath}`;this.privRestAdapter.request(t.RestRequestType.Post,C,v,null).then(R=>{const w=t.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,R.headers);if(!R.ok){if(u){let E=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",R.status.toString()),x;try{x=JSON.parse(R.data),E+=` [${x.error.code}: ${x.error.message}]`}catch{E+=` [${R.data}]`}w&&(E+=` ${w}`),u(E)}return}const T=JSON.parse(R.data);if(T&&(T.requestId=w),c){try{c(T)}catch(E){u&&u(E)}c=void 0}}).catch(()=>{})}catch(l){if(u)if(l instanceof Error){const p=l;u(p.name+": "+p.message)}else u(l)}}leave(a,s){return new Promise((c,u)=>{try{e.Contracts.throwIfNullOrUndefined(a,this.privErrors.invalidArgs.replace("{arg}","config")),e.Contracts.throwIfNullOrWhitespace(s,this.privErrors.invalidArgs.replace("{arg}","token"));const l=a.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),p=a.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),d={};d[this.privRequestParams.apiVersion]=this.privApiVersion,d[this.privRequestParams.sessionToken]=s;const h={};p&&(h[this.privRequestParams.correlationId]=p);const f={};f.headers=h,this.privRestAdapter.options=f;const g=`https://${l}${this.privRestPath}`;this.privRestAdapter.request(t.RestRequestType.Delete,g,d,null).then(y=>{y.ok,c()}).catch(()=>{})}catch(l){if(l instanceof Error){const p=l;u(p.name+": "+p.message)}else u(l)}})}};return os.ConversationManager=i,os}var sn={},ss={},Ol={},ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.ConversationConnectionMessage=void 0;const QD=L();class XD extends QD.ConnectionMessage{constructor(e,r,n,i){super(e,r,n,i);const o=JSON.parse(this.textBody);o.type!==void 0&&(this.privConversationMessageType=o.type)}get conversationMessageType(){return this.privConversationMessageType}}ba.ConversationConnectionMessage=XD;Object.defineProperty(Ol,"__esModule",{value:!0});Ol.ConversationWebsocketMessageFormatter=void 0;const an=L(),Ey=ba;class YD{toConnectionMessage(e){const r=new an.Deferred;try{if(e.messageType===an.MessageType.Text){const n=new Ey.ConversationConnectionMessage(e.messageType,e.textContent,{},e.id);r.resolve(n)}else e.messageType===an.MessageType.Binary&&r.resolve(new Ey.ConversationConnectionMessage(e.messageType,e.binaryContent,void 0,e.id))}catch(n){r.reject(`Error formatting the message. Error: ${n}`)}return r.promise}fromConnectionMessage(e){const r=new an.Deferred;try{if(e.messageType===an.MessageType.Text){const n=`${e.textBody?e.textBody:""}`;r.resolve(new an.RawWebsocketMessage(an.MessageType.Text,n,e.id))}}catch(n){r.reject(`Error formatting the message. ${n}`)}return r.promise}}Ol.ConversationWebsocketMessageFormatter=YD;var Ty;function ZD(){if(Ty)return ss;Ty=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.ConversationConnectionFactory=void 0;const t=Ie(),e=L(),r=F,n=A(),i=Nt(),o=Ci,a=Ol;let s=class extends i.ConnectionFactoryBase{create(u,l,p){const d=u.parameters.getProperty(n.PropertyId.ConversationTranslator_Host,o.ConversationConnectionConfig.host),h=u.parameters.getProperty(n.PropertyId.ConversationTranslator_CorrelationId,e.createGuid()),f=`wss://${d}${o.ConversationConnectionConfig.webSocketPath}`,g=u.parameters.getProperty(n.PropertyId.ConversationTranslator_Token,void 0);r.Contracts.throwIfNullOrUndefined(g,"token");const y={};y[o.ConversationConnectionConfig.configParams.apiVersion]=o.ConversationConnectionConfig.apiVersion,y[o.ConversationConnectionConfig.configParams.token]=g,y[o.ConversationConnectionConfig.configParams.correlationId]=h;const v=u.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new t.WebsocketConnection(f,y,{},new a.ConversationWebsocketMessageFormatter,t.ProxyInfo.fromRecognizerConfig(u),v,p)}};return ss.ConversationConnectionFactory=s,ss}var as={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ConversationRequestSession=void 0;const xp=L();class eN{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=e,this.privRequestId=xp.createNoDashGuid(),this.privRequestCompletionDeferral=new xp.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(e,r){this.privSessionId=r}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){e!==200&&e===403&&this.onComplete()}onServiceTurnEndResponse(e){e?this.privRequestId=xp.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach()}}onComplete(){}}Ml.ConversationRequestSession=eN;var We={},Iy;function Kw(){if(Iy)return We;Iy=1,Object.defineProperty(We,"__esModule",{value:!0}),We.ConversationReceivedTranslationEventArgs=We.ParticipantsListEventArgs=We.ParticipantAttributeEventArgs=We.ParticipantEventArgs=We.LockRoomEventArgs=We.MuteAllEventArgs=void 0;const t=A();class e extends t.SessionEventArgs{constructor(c,u){super(u),this.privIsMuted=c}get isMuted(){return this.privIsMuted}}We.MuteAllEventArgs=e;class r extends t.SessionEventArgs{constructor(c,u){super(u),this.privIsLocked=c}get isMuted(){return this.privIsLocked}}We.LockRoomEventArgs=r;class n extends t.SessionEventArgs{constructor(c,u){super(u),this.privParticipant=c}get participant(){return this.privParticipant}}We.ParticipantEventArgs=n;class i extends t.SessionEventArgs{constructor(c,u,l,p){super(p),this.privKey=u,this.privValue=l,this.privParticipantId=c}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}We.ParticipantAttributeEventArgs=i;class o extends t.SessionEventArgs{constructor(c,u,l,p,d,h,f,g,y){super(y),this.privRoomId=c,this.privSessionToken=u,this.privTranslateTo=l,this.privProfanityFilter=p,this.privRoomProfanityFilter=d,this.privIsRoomLocked=h,this.privIsRoomLocked=f,this.privParticipants=g}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}We.ParticipantsListEventArgs=o;class a{constructor(c,u,l){this.privPayload=u,this.privCommand=c,this.privSessionId=l}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}return We.ConversationReceivedTranslationEventArgs=a,We}var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.ConversationTranslatorCommandTypes=ir.ConversationTranslatorMessageTypes=ir.InternalParticipants=void 0;class tN{constructor(e=[],r){this.participants=e,this.meId=r}addOrUpdateParticipant(e){if(e===void 0)return;const r=this.getParticipantIndex(e.id);return r>-1?this.participants.splice(r,1,e):this.participants.push(e),this.getParticipant(e.id)}getParticipantIndex(e){return this.participants.findIndex(r=>r.id===e)}getParticipant(e){return this.participants.find(r=>r.id===e)}deleteParticipant(e){this.participants=this.participants.filter(r=>r.id!==e)}get host(){return this.participants.find(e=>e.isHost===!0)}get me(){return this.getParticipant(this.meId)}}ir.InternalParticipants=tN;ir.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"};ir.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"};var Jw={},Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.CommandResponsePayload=void 0;const rN=t=>JSON.parse(t);class Af{constructor(e){this.privCommandResponse=rN(e)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(e){return new Af(e)}}Dl.CommandResponsePayload=Af;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.ParticipantPayloadResponse=li.ParticipantsListPayloadResponse=void 0;const nN=t=>JSON.parse(t),iN=t=>JSON.parse(t);class _f{constructor(e){this.privParticipantsPayloadResponse=nN(e)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(e){return new _f(e)}}li.ParticipantsListPayloadResponse=_f;class bf{constructor(e){this.privParticipantPayloadResponse=iN(e)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(e){return new bf(e)}}li.ParticipantPayloadResponse=bf;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.TextResponsePayload=pi.SpeechResponsePayload=void 0;const oN=t=>JSON.parse(t),sN=t=>JSON.parse(t);class kf{constructor(e){this.privSpeechResponse=oN(e)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return this.privSpeechResponse.type==="final"}static fromJSON(e){return new kf(e)}}pi.SpeechResponsePayload=kf;class Of{constructor(e){this.privTextResponse=sN(e)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(e){return new Of(e)}}pi.TextResponsePayload=Of;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Dl;Object.defineProperty(t,"CommandResponsePayload",{enumerable:!0,get:function(){return e.CommandResponsePayload}});var r=li;Object.defineProperty(t,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(t,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var n=pi;Object.defineProperty(t,"SpeechResponsePayload",{enumerable:!0,get:function(){return n.SpeechResponsePayload}}),Object.defineProperty(t,"TextResponsePayload",{enumerable:!0,get:function(){return n.TextResponsePayload}})})(Jw);var Ay;function aN(){if(Ay)return as;Ay=1,Object.defineProperty(as,"__esModule",{value:!0}),as.ConversationServiceAdapter=void 0;const t=L(),e=A(),r=M(),n=ba,i=Ml,o=Kw(),a=ir,s=Jw;let c=class extends r.ServiceRecognizerBase{constructor(l,p,d,h,f){super(l,p,d,h,f),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=f,this.privConversationAuthentication=l,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=g=>this.conversationConnectImpl(g),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new i.ConversationRequestSession(t.createNoDashGuid()),this.privConversationConnectionFactory=p,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(l){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise!==void 0&&await(await this.privConnectionConfigPromise).dispose(l),await super.dispose(l)}async sendMessage(l){return(await this.fetchConnection()).send(new n.ConversationConnectionMessage(t.MessageType.Text,l))}async sendMessageAsync(l){await(await this.fetchConnection()).send(new n.ConversationConnectionMessage(t.MessageType.Text,l))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,e.CancellationReason.Error,e.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(l,p,d,h,f){this.terminateMessageLoop=!0;const g=new e.ConversationTranslationCanceledEventArgs(d,f,h,void 0,l);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,g)}catch{}}async conversationConnectImpl(l){return this.privConnectionLoop=this.startMessageLoop(),l}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const l=new t.Deferred;try{const d=await(await this.fetchConnection()).read();if(this.isDisposed()||this.terminateMessageLoop)return l.resolve(),Promise.resolve();if(!d)return this.receiveConversationMessageOverride();const h=this.privConversationRequestSession.sessionId,f=d.conversationMessageType.toLowerCase();let g=!1;try{switch(f){case"info":case"participant_command":case"command":const y=s.CommandResponsePayload.fromJSON(d.textBody);switch(y.command.toLowerCase()){case"participantlist":const w=s.ParticipantsListPayloadResponse.fromJSON(d.textBody),T=w.participants.map(Y=>({avatar:Y.avatar,displayName:Y.nickname,id:Y.participantId,isHost:Y.ishost,isMuted:Y.ismuted,isUsingTts:Y.usetts,preferredLanguage:Y.locale}));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new o.ParticipantsListEventArgs(w.roomid,w.token,w.translateTo,w.profanityFilter,w.roomProfanityFilter,w.roomLocked,w.muteAll,T,h));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(y.participantId,a.ConversationTranslatorCommandTypes.setTranslateToLanguages,y.value,h));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(y.participantId,a.ConversationTranslatorCommandTypes.setProfanityFiltering,y.value,h));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(y.participantId,a.ConversationTranslatorCommandTypes.setMute,y.value,h));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new o.MuteAllEventArgs(y.value,h));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new e.ConversationExpirationEventArgs(y.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(y.participantId,a.ConversationTranslatorCommandTypes.setUseTTS,y.value,h));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new o.LockRoomEventArgs(y.value,h));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new o.ParticipantAttributeEventArgs(y.participantId,a.ConversationTranslatorCommandTypes.changeNickname,y.value,h));break;case"joinsession":const E=s.ParticipantPayloadResponse.fromJSON(d.textBody),x={avatar:E.avatar,displayName:E.nickname,id:E.participantId,isHost:E.ishost,isMuted:E.ismuted,isUsingTts:E.usetts,preferredLanguage:E.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new o.ParticipantEventArgs(x,h));break;case"leavesession":const N={id:y.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new o.ParticipantEventArgs(N,h));break;case"disconnectsession":const U={id:y.participantId};break;case"token":const j=new r.CognitiveTokenAuthentication(()=>{const Y=y.token;return Promise.resolve(Y)},()=>{const Y=y.token;return Promise.resolve(Y)});this.authentication=j,this.privConversationServiceConnector.onToken(j);break;default:break}break;case"partial":case"final":const v=s.SpeechResponsePayload.fromJSON(d.textBody),m=f==="final"?e.ResultReason.TranslatedParticipantSpeech:e.ResultReason.TranslatingParticipantSpeech,S=new e.ConversationTranslationResult(v.participantId,this.getTranslations(v.translations),v.language,v.id,m,v.recognition,void 0,void 0,d.textBody,void 0);v.isFinal?((S.text!==void 0&&S.text.length>0||v.id===this.privLastPartialUtteranceId)&&(g=!0),g&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new o.ConversationReceivedTranslationEventArgs(a.ConversationTranslatorMessageTypes.final,S,h))):S.text!==void 0&&(this.privLastPartialUtteranceId=v.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new o.ConversationReceivedTranslationEventArgs(a.ConversationTranslatorMessageTypes.partial,S,h)));break;case"translated_message":const C=s.TextResponsePayload.fromJSON(d.textBody),R=new e.ConversationTranslationResult(C.participantId,this.getTranslations(C.translations),C.language,void 0,void 0,C.originalText,void 0,void 0,void 0,d.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new o.ConversationReceivedTranslationEventArgs(a.ConversationTranslatorMessageTypes.instantMessage,R,h));break;default:break}}catch{}return this.receiveConversationMessageOverride()}catch{this.terminateMessageLoop=!0}return l.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const l=this.receiveConversationMessageOverride();try{return await l}catch(p){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",e.CancellationReason.Error,e.CancellationErrorCode.RuntimeError,p),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise!==void 0?this.privConnectionConfigPromise.then(l=>l.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise,()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection())):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then(l=>l),this.privConnectionConfigPromise)}getTranslations(l){let p;if(l!==void 0){p=new e.Translations;for(const d of l)p.set(d.lang,d.translation)}return p}};return as.ConversationServiceAdapter=c,as}var _y;function cN(){if(_y)return sn;_y=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.ConversationTranslatorRecognizer=sn.ConversationRecognizerFactory=void 0;const t=M(),e=L(),r=F,n=A(),i=ZD(),o=aN();class a{static fromConfig(u,l,p){return new s(u,l,p)}}sn.ConversationRecognizerFactory=a;let s=class extends n.Recognizer{constructor(u,l,p){const d=l;r.Contracts.throwIfNull(d,"speechConfig");const h=u;r.Contracts.throwIfNull(h,"conversationImpl"),super(p,d.properties,new i.ConversationConnectionFactory),this.privConversation=h,this.privIsDisposed=!1,this.privProperties=d.properties.clone(),this.privConnection=n.Connection.fromRecognizer(this),this.privProperties.getProperty(n.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?(this.privSetTimeout=e.Timeout.setTimeout,this.privClearTimeout=e.Timeout.clearTimeout):typeof window<"u"?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(u){this.privConnection.connected=u}set disconnected(u){this.privConnection.disconnected=u}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(u,l,p){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfNullOrWhitespace(u,"token"),this.privReco.conversationTranslatorToken=u,this.resetConversationTimeout(),this.privReco.connectAsync(l,p)}catch(d){if(p)if(d instanceof Error){const h=d;p(h.name+": "+h.message)}else p(d)}}disconnect(u,l){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then(()=>{u&&u()},p=>{l&&l(p)})}catch(p){if(l)if(p instanceof Error){const d=p;l(d.name+": "+d.message)}else l(p);this.dispose(!0).catch(d=>{e.Events.instance.onEvent(new e.BackgroundEvent(d))})}}sendRequest(u,l,p){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(u,l,p)}catch(d){if(p)if(d instanceof Error){const h=d;p(h.name+": "+h.message)}else p(d);this.dispose(!0).catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})}}onToken(u){this.privConversation.onToken(u)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(u){this.privIsDisposed||u&&(this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(u))}createRecognizerConfig(u){return new t.RecognizerConfig(u,this.privProperties)}createServiceRecognizer(u,l,p,d){const h=p;return new o.ConversationServiceAdapter(u,l,h,d,this)}sendMessage(u,l,p){const d=this.privReco;((f,g,y)=>{f!==void 0?f.then(()=>{try{g&&g()}catch(v){y&&y(`'Unhandled error on promise callback: ${v}'`)}},v=>{try{y&&y(v)}catch{}}):y&&y("Null promise")})(d.sendMessageAsync(u),l,p),this.resetConversationTimeout()}resetConversationTimeout(){this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout(()=>{this.sendRequest(this.privConversation.getKeepAlive())},6e4)}};return sn.ConversationTranslatorRecognizer=s,sn}var cs={},by;function uN(){if(by)return cs;by=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.TranscriberRecognizer=void 0;const t=L(),e=F,r=A(),n=M();let i=class extends r.Recognizer{constructor(a,s){const c=a;e.Contracts.throwIfNull(c,"speechTranslationConfig");const u=s;e.Contracts.throwIfNull(u,"audioConfigImpl"),e.Contracts.throwIfNullOrWhitespace(c.speechRecognitionLanguage,r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage]),super(s,c.properties,new n.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return e.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){e.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,a)}set conversation(a){e.Contracts.throwIfNullOrUndefined(a,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=a}getConversationInfo(){return e.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(a){e.Contracts.throwIfNullOrUndefined(a,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=a}getMeetingInfo(){return e.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(a,s){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),a,s)}stopContinuousRecognitionAsync(a,s){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,s)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(a,s){const c=this.privReco;e.Contracts.throwIfNullOrUndefined(c,"serviceRecognizer"),await c.sendSpeechEventAsync(a,s)}async pushMeetingEvent(a,s){const c=this.privReco;e.Contracts.throwIfNullOrUndefined(c,"serviceRecognizer"),await c.sendMeetingSpeechEventAsync(a,s)}async enforceAudioGating(){const c=(await this.audioConfig.format).channels;if(c===1){if(this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()!=="true")throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(c!==8)throw new Error(`Unsupported audio configuration: Detected ${c}-channel audio`)}connectMeetingCallbacks(a){this.isMeetingRecognizer=!0,this.canceled=(s,c)=>{a.canceled&&a.canceled(a,c)},this.recognizing=(s,c)=>{a.transcribing&&a.transcribing(a,c)},this.recognized=(s,c)=>{a.transcribed&&a.transcribed(a,c)},this.sessionStarted=(s,c)=>{a.sessionStarted&&a.sessionStarted(a,c)},this.sessionStopped=(s,c)=>{a.sessionStopped&&a.sessionStopped(a,c)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(a){this.privDisposedRecognizer||(a&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(a))}createRecognizerConfig(a){return new n.RecognizerConfig(a,this.properties)}createServiceRecognizer(a,s,c,u){const l=c;return new n.TranscriptionServiceRecognizer(a,s,l,u,this)}};return cs.TranscriberRecognizer=i,cs}var ky;function lN(){return ky||(ky=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=GD();Object.defineProperty(t,"ConversationManager",{enumerable:!0,get:function(){return e.ConversationManager}});var r=Ci;Object.defineProperty(t,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var n=cN();Object.defineProperty(t,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return n.ConversationRecognizerFactory}});var i=uN();Object.defineProperty(t,"TranscriberRecognizer",{enumerable:!0,get:function(){return i.TranscriberRecognizer}});var o=Kw();Object.defineProperty(t,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return o.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(t,"LockRoomEventArgs",{enumerable:!0,get:function(){return o.LockRoomEventArgs}}),Object.defineProperty(t,"MuteAllEventArgs",{enumerable:!0,get:function(){return o.MuteAllEventArgs}}),Object.defineProperty(t,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return o.ParticipantAttributeEventArgs}}),Object.defineProperty(t,"ParticipantEventArgs",{enumerable:!0,get:function(){return o.ParticipantEventArgs}}),Object.defineProperty(t,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return o.ParticipantsListEventArgs}});var a=ir;Object.defineProperty(t,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return a.ConversationTranslatorCommandTypes}}),Object.defineProperty(t,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return a.ConversationTranslatorMessageTypes}}),Object.defineProperty(t,"InternalParticipants",{enumerable:!0,get:function(){return a.InternalParticipants}})}(Np)),Np}var Mf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAudioMetadata=t.MetadataType=void 0,function(r){r.WordBoundary="WordBoundary",r.Bookmark="Bookmark",r.Viseme="Viseme",r.SentenceBoundary="SentenceBoundary",r.SessionEnd="SessionEnd",r.AvatarSignal="TalkingAvatarSignal"}(t.MetadataType||(t.MetadataType={}));class e{constructor(n){this.privSynthesisAudioMetadata=JSON.parse(n)}static fromJSON(n){return new e(n)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}t.SynthesisAudioMetadata=e})(Mf);var us={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.SynthesisStartedEvent=Ft.ConnectingToSynthesisServiceEvent=Ft.SynthesisTriggeredEvent=Ft.SpeechSynthesisEvent=void 0;const Oy=L();class Nl extends Oy.PlatformEvent{constructor(e,r,n=Oy.EventType.Info){super(e,n),this.privRequestId=r}get requestId(){return this.privRequestId}}Ft.SpeechSynthesisEvent=Nl;class pN extends Nl{constructor(e,r,n){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=r,this.privTurnAudioDestinationId=n}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}Ft.SynthesisTriggeredEvent=pN;class dN extends Nl{constructor(e,r){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=r}get authFetchEventId(){return this.privAuthFetchEventId}}Ft.ConnectingToSynthesisServiceEvent=dN;class hN extends Nl{constructor(e,r){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=r}get authFetchEventId(){return this.privAuthFetchEventId}}Ft.SynthesisStartedEvent=hN;var My;function fN(){if(My)return us;My=1,Object.defineProperty(us,"__esModule",{value:!0}),us.SynthesisTurn=void 0;const t=L(),e=be,r=A(),n=Mf,i=Ft;let o=class Xd{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=t.createNoDashGuid(),this.privTurnDeferral=new t.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(s){this.privStreamId=s}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(s){this.privAudioOutputFormat=s}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const s=new r.PropertyCollection;return s.setProperty(r.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),s}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const s=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(s),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()}startNewSynthesis(s,c,u,l){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=s,this.privRawText=c,this.privIsSSML=u,this.privAudioOutputStream=new e.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",l!==void 0&&(this.privTurnAudioDestination=l,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new i.SynthesisTriggeredEvent(this.requestId,void 0,l===void 0?void 0:l.id()))}onPreConnectionStart(s){this.privAuthFetchEventId=s,this.onEvent(new i.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(s){s&&this.onComplete()}onConnectionEstablishCompleted(s){if(s===200){this.onEvent(new i.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else s===403&&this.onComplete()}onServiceResponseMessage(s){const c=JSON.parse(s);this.streamId=c.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(s){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new t.Deferred;const c=JSON.parse(s);c.webrtc&&(this.privWebRTCSDP=c.webrtc.connectionString)}onAudioChunkReceived(s){this.isSynthesizing&&(this.privAudioOutputStream.write(s),this.privBytesReceived+=s.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(s))}onTextBoundaryEvent(s){this.updateTextOffset(s.Data.text.Text,s.Type)}onVisemeMetadataReceived(s){s.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=s.Data.AnimationChunk)}onSessionEnd(s){this.privAudioDuration=s.Data.Offset}async constructSynthesisResult(){const s=await this.getAllReceivedAudioWithHeader();return new r.SpeechSynthesisResult(this.requestId,r.ResultReason.SynthesizingAudioCompleted,s,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const s=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",s}onEvent(s){t.Events.instance.onEvent(s)}static isXmlTag(s){return s.length>=2&&s[0]==="<"&&s[s.length-1]===">"}updateTextOffset(s,c){c===n.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(s,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+s.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!Xd.isXmlTag(s)&&this.updateTextOffset(s,c))):(this.privSentenceOffset=this.privRawText.indexOf(s,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+s.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!Xd.isXmlTag(s)&&this.updateTextOffset(s,c)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(s){return this.privRawText.indexOf("<",s+1)>this.privRawText.indexOf(">",s+1)}};return us.SynthesisTurn=o,us}var ls={},Dy;function vN(){if(Dy)return ls;Dy=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.SynthesisAdapterBase=void 0;const t=L(),e=A(),r=M(),n=pr;let i=class{constructor(a,s,c,u){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!a)throw new t.ArgumentNullError("authentication");if(!s)throw new t.ArgumentNullError("connectionFactory");if(!c)throw new t.ArgumentNullError("synthesizerConfig");this.privAuthentication=a,this.privConnectionFactory=s,this.privSynthesizerConfig=c,this.privIsDisposed=!1,this.privSessionAudioDestination=u,this.privSynthesisTurn=new r.SynthesisTurn,this.privConnectionEvents=new t.EventSource,this.privServiceEvents=new t.EventSource,this.privSynthesisContext=new r.SynthesisContext,this.privAgentConfig=new r.AgentConfig,this.connectionEvents.attach(l=>{if(l.name==="ConnectionClosedEvent"){const p=l;p.statusCode!==1e3&&this.cancelSynthesisLocal(e.CancellationReason.Error,p.statusCode===1007?e.CancellationErrorCode.BadRequestParameters:e.CancellationErrorCode.ConnectionFailure,`${p.reason} websocket error code: ${p.statusCode}`)}})}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(a){this.privActivityTemplate=a}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(a){this.privAudioOutputFormat=a,this.privSynthesisTurn.audioOutputFormat=a,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=a),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=a)}isDisposed(){return this.privIsDisposed}async dispose(a){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&await(await this.privConnectionConfigurationPromise).dispose(a)}async connect(){await this.connectImpl()}async sendNetworkMessage(a,s){const c=typeof s=="string"?t.MessageType.Text:t.MessageType.Binary,u=typeof s=="string"?"application/json":"";return(await this.fetchConnection()).send(new n.SpeechConnectionMessage(c,a,this.privSynthesisTurn.requestId,u,s))}async Speak(a,s,c,u,l,p){let d;if(s?d=a:d=this.privSynthesizer.buildSsml(a),this.speakOverride!==void 0)return this.speakOverride(d,c,u,l);this.privSuccessCallback=u,this.privErrorCallback=l,this.privSynthesisTurn.startNewSynthesis(c,a,s,p);try{await this.connectImpl();const h=await this.fetchConnection();await this.sendSynthesisContext(h),await this.sendSsmlMessage(h,d,c),this.onSynthesisStarted(c),this.receiveMessage()}catch(h){return this.cancelSynthesisLocal(e.CancellationReason.Error,e.CancellationErrorCode.ConnectionFailure,h),Promise.reject(h)}}async stopSpeaking(){return await this.connectImpl(),(await this.fetchConnection()).send(new n.SpeechConnectionMessage(t.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(a,s,c,u){const l=new e.PropertyCollection;l.setProperty(r.CancellationErrorCodePropertyName,e.CancellationErrorCode[c]);const p=new e.SpeechSynthesisResult(a,e.ResultReason.Canceled,void 0,u,l);if(this.onSynthesisCancelled(p),this.privSuccessCallback)try{this.privSuccessCallback(p)}catch{}}cancelSynthesisLocal(a,s,c){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,a,s,c))}processTypeSpecificMessages(a){return!0}async receiveMessage(){try{const s=await(await this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!s)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const c=n.SpeechConnectionMessage.fromConnectionMessage(s);if(c.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(c.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(c.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(c.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===c.streamId.toLowerCase()&&c.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(c.binaryBody),this.onSynthesizing(c.binaryBody),this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(c.binaryBody));break;case"audio.metadata":const u=r.SynthesisAudioMetadata.fromJSON(c.textBody).Metadata;for(const p of u)switch(p.Type){case r.MetadataType.WordBoundary:case r.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(p);const d=new e.SpeechSynthesisWordBoundaryEventArgs(p.Data.Offset,p.Data.Duration,p.Data.text.Text,p.Data.text.Length,p.Type===r.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,p.Data.text.BoundaryType);this.onWordBoundary(d);break;case r.MetadataType.Bookmark:const h=new e.SpeechSynthesisBookmarkEventArgs(p.Data.Offset,p.Data.Bookmark);this.onBookmarkReached(h);break;case r.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(p),p.Data.IsLastAnimation){const f=new e.SpeechSynthesisVisemeEventArgs(p.Data.Offset,p.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(f)}break;case r.MetadataType.AvatarSignal:this.onAvatarEvent(p);break;case r.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(p);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let l;try{l=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(l)}catch(p){this.privErrorCallback&&this.privErrorCallback(p)}this.onSynthesisCompleted(l);break;default:this.processTypeSpecificMessages(c)||this.privServiceEvents&&this.serviceEvents.onEvent(new t.ServiceEvent(c.path.toLowerCase(),c.textBody))}return this.receiveMessage()}catch{}}sendSynthesisContext(a){this.setSynthesisContextSynthesisSection();const s=this.synthesisContext.toJSON();if(s)return a.send(new n.SpeechConnectionMessage(t.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",s))}setSpeechConfigSynthesisSection(){}connectImpl(a=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(c=>c.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=t.createNoDashGuid(),this.privConnectionId=t.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const s=a?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=s.then(async c=>{this.privSynthesisTurn.onAuthCompleted(!1);const u=this.privConnectionFactory.create(this.privSynthesizerConfig,c,this.privConnectionId);u.events.attach(p=>{this.connectionEvents.onEvent(p)});const l=await u.open();return l.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(l.statusCode),Promise.resolve(u)):l.statusCode===403&&!a?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(l.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${l.statusCode},
                    ${this.privSynthesizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Url)} Reason: ${l.reason}`))},c=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(c)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(a,s){if(s)return a.send(new n.SpeechConnectionMessage(t.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",s))}sendSsmlMessage(a,s,c){return a.send(new n.SpeechConnectionMessage(t.MessageType.Text,"ssml",c,"application/ssml+xml",s))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const a=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(a):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(a,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),a)}onAvatarEvent(a){}onSynthesisStarted(a){}onSynthesizing(a){}onSynthesisCancelled(a){}onSynthesisCompleted(a){}onWordBoundary(a){}onVisemeReceived(a){}onBookmarkReached(a){}};return ls.SynthesisAdapterBase=i,i.telemetryDataEnabled=!0,ls}var ps={},Ny;function gN(){if(Ny)return ps;Ny=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.AvatarSynthesisAdapter=void 0;const t=A(),e=M();let r=class extends e.SynthesisAdapterBase{constructor(i,o,a,s,c){super(i,o,a,void 0),this.privAvatarSynthesizer=s,this.privSynthesizer=s,this.privAvatarConfig=c}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){var i,o,a,s,c,u,l,p,d,h,f,g,y,v,m,S;this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:(i=this.privAvatarConfig.videoFormat)==null?void 0:i.bitrate,codec:(o=this.privAvatarConfig.videoFormat)==null?void 0:o.codec,crop:{bottomRight:{x:(c=(s=(a=this.privAvatarConfig.videoFormat)==null?void 0:a.cropRange)==null?void 0:s.bottomRight)==null?void 0:c.x,y:(p=(l=(u=this.privAvatarConfig.videoFormat)==null?void 0:u.cropRange)==null?void 0:l.bottomRight)==null?void 0:p.y},topLeft:{x:(f=(h=(d=this.privAvatarConfig.videoFormat)==null?void 0:d.cropRange)==null?void 0:h.topLeft)==null?void 0:f.x,y:(v=(y=(g=this.privAvatarConfig.videoFormat)==null?void 0:g.cropRange)==null?void 0:y.topLeft)==null?void 0:v.y}},resolution:{height:(m=this.privAvatarConfig.videoFormat)==null?void 0:m.height,width:(S=this.privAvatarConfig.videoFormat)==null?void 0:S.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(t.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style}}}onAvatarEvent(i){if(this.privAvatarSynthesizer.avatarEventReceived){const o=new t.AvatarEventArgs(i.Data.Offset,i.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,o)}catch{}}}};return ps.AvatarSynthesisAdapter=r,ps}var ds={},xy;function mN(){if(xy)return ds;xy=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.SpeechSynthesisAdapter=void 0;const t=A(),e=M();let r=class extends e.SynthesisAdapterBase{constructor(i,o,a,s,c){super(i,o,a,c),this.privSpeechSynthesizer=s,this.privSynthesizer=s}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(i){const o=new t.SpeechSynthesisEventArgs(new t.SpeechSynthesisResult(i,t.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,o)}onSynthesizing(i){if(this.privSpeechSynthesizer.synthesizing)try{const o=this.privSynthesisTurn.audioOutputFormat.addHeader(i),a=new t.SpeechSynthesisEventArgs(new t.SpeechSynthesisResult(this.privSynthesisTurn.requestId,t.ResultReason.SynthesizingAudio,o));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,a)}catch{}}onSynthesisCancelled(i){if(this.privSpeechSynthesizer.SynthesisCanceled){const o=new t.SpeechSynthesisEventArgs(i);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,o)}catch{}}}onSynthesisCompleted(i){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new t.SpeechSynthesisEventArgs(i))}catch{}}onWordBoundary(i){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,i)}catch{}}onVisemeReceived(i){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,i)}catch{}}onBookmarkReached(i){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,i)}catch{}}};return ds.SpeechSynthesisAdapter=r,ds}var hs={},Ly;function yN(){if(Ly)return hs;Ly=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.SynthesisRestAdapter=void 0;const t=Ie(),e=A(),r=Nt(),n=Te;let i=class{constructor(a,s){let c=a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!c){const l=a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Region,"westus"),p=r.ConnectionFactoryBase.getHostSuffix(l);c=a.parameters.getProperty(e.PropertyId.SpeechServiceConnection_Host,`https://${l}.tts.speech${p}`)}this.privUri=`${c}/cognitiveservices/voices/list`;const u=t.RestConfigBase.requestOptions;this.privRestAdapter=new t.RestMessageAdapter(u),this.privAuthentication=s}getVoicesList(a){return this.privRestAdapter.setHeaders(n.HeaderNames.ConnectionId,a),this.privAuthentication.fetch(a).then(s=>(this.privRestAdapter.setHeaders(s.headerName,s.token),this.privRestAdapter.request(t.RestRequestType.Get,this.privUri)))}};return hs.SynthesisRestAdapter=i,hs}var Lp={},zy;function SN(){return zy||(zy=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesizerConfig=t.SynthesisServiceType=void 0;const e=M();var r;(function(i){i[i.Standard=0]="Standard",i[i.Custom=1]="Custom"})(r=t.SynthesisServiceType||(t.SynthesisServiceType={}));class n{constructor(o,a){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=o||new e.SpeechServiceConfig(new e.Context(null)),this.privParameters=a}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(o){this.privSynthesisServiceType=o}set synthesisVideoSection(o){this.privSpeechServiceConfig.Context.synthesis={video:o}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}t.SynthesizerConfig=n}(Lp)),Lp}var fs={},jy;function CN(){if(jy)return fs;jy=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.SynthesisContext=void 0;const t=A();let e=class{constructor(){this.privContext={}}setSection(n,i){this.privContext[n]=i}set audioOutputFormat(n){this.privAudioOutputFormat=n}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(n){const i=this.buildSynthesisContext(n);this.setSection("synthesis",i)}buildSynthesisContext(n){return{audio:{metadataOptions:{bookmarkEnabled:!!(n!=null&&n.bookmarkReached),punctuationBoundaryEnabled:n==null?void 0:n.properties.getProperty(t.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!(n!=null&&n.wordBoundary)),sentenceBoundaryEnabled:n==null?void 0:n.properties.getProperty(t.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!(n!=null&&n.visemeReceived),wordBoundaryEnabled:n==null?void 0:n.properties.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!(n!=null&&n.wordBoundary))},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:n==null?void 0:n.autoDetectSourceLanguage}}}};return fs.SynthesisContext=e,fs}var vs={},Fy;function PN(){if(Fy)return vs;Fy=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.SpeakerRecognitionConfig=void 0;const t=M();let e=class{constructor(n,i){this.privContext=n||new t.Context(null),this.privParameters=i}get parameters(){return this.privParameters}get Context(){return this.privContext}};return vs.SpeakerRecognitionConfig=e,vs}var gs={},By;function RN(){if(By)return gs;By=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.SpeakerServiceRecognizer=void 0;const t=Ie(),e=L(),r=A(),n=M(),i=pr;let o=class extends n.ServiceRecognizerBase{constructor(s,c,u,l,p){super(s,c,u,l,p),this.privSpeakerRecognizer=p,this.privSpeakerAudioSource=u,this.recognizeSpeaker=d=>this.recognizeSpeakerOnce(d),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(s){let c=!1;const u=new r.PropertyCollection;switch(s.messageType===e.MessageType.Text&&u.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,s.textBody),s.path.toLowerCase()){case"speaker.response":const p=JSON.parse(s.textBody);let d;p.status.statusCode.toLowerCase()!=="success"?d=new r.SpeakerRecognitionResult(p,r.ResultReason.Canceled,r.CancellationErrorCode.ServiceError,p.status.reason):d=new r.SpeakerRecognitionResult(p,r.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(d),c=!0;break}const l=new e.Deferred;return l.resolve(c),l.promise}cancelRecognition(s,c,u,l,p){if(new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[l]),this.privResultDeferral){const h=new r.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:p,reason:p}},r.ResultReason.Canceled,l,p);try{this.privResultDeferral.resolve(h)}catch(f){this.privResultDeferral.reject(f)}}}async recognizeSpeakerOnce(s){this.privSpeakerModel=s,this.voiceProfileType=s.scenario,this.privResultDeferral||(this.privResultDeferral=new e.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const c=this.connectImpl(),u=this.sendPreAudioMessages(this.extractSpeakerContext(s)),l=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),p=await this.privSpeakerAudioSource.format,d=await this.privSpeakerAudioSource.deviceInfo,h=new t.ReplayableAudioNode(l,p.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(h,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:d};try{await c,await u}catch(y){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,y)}const f=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,f),this.receiveMessage(),this.sendAudio(h).then(()=>{},y=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,y)}),this.privResultDeferral.promise}async sendPreAudioMessages(s){const c=await this.fetchConnection();await this.sendSpeakerRecognition(c,s)}async sendSpeakerRecognition(s,c){const u=JSON.stringify(c);return s.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",u))}extractSpeakerContext(s){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:s.profileIds,scenario:s.scenario}}};return gs.SpeakerServiceRecognizer=o,gs}var ms={},$y;function wN(){if($y)return ms;$y=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.VoiceServiceRecognizer=void 0;const t=Ie(),e=L(),r=A(),n=M(),i=pr;let o=class extends n.ServiceRecognizerBase{constructor(s,c,u,l,p){super(s,c,u,l,p),this.privDeferralMap=new e.DeferralMap,this.privSpeakerAudioSource=u,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(s){this.privSpeakerAudioSource=s}processTypeSpecificMessages(s){let c=!1;const u=new r.PropertyCollection;switch(s.messageType===e.MessageType.Text&&u.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,s.textBody),s.path.toLowerCase()){case"speaker.profiles":const p=JSON.parse(s.textBody);switch(p.operation.toLowerCase()){case"create":this.handleCreateResponse(p,s.requestId);break;case"delete":case"reset":this.handleResultResponse(p,s.requestId);break;case"fetch":const g=JSON.parse(s.textBody);this.handleFetchResponse(g,s.requestId);break}c=!0;break;case"speaker.phrases":const d=JSON.parse(s.textBody);this.handlePhrasesResponse(d,s.requestId),c=!0;break;case"speaker.profile.enrollment":const h=JSON.parse(s.textBody),f=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(h.enrollment?h.enrollment.enrollmentStatus:h.status.statusCode),h.enrollment?JSON.stringify(h.enrollment):void 0,h.status.reason);this.privDeferralMap.getId(s.requestId)&&this.privDeferralMap.complete(s.requestId,f),this.privRequestSession.onSpeechEnded(),c=!0;break}const l=new e.Deferred;return l.resolve(c),l.promise}cancelRecognition(s,c,u,l,p){new r.PropertyCollection().setProperty(n.CancellationErrorCodePropertyName,r.CancellationErrorCode[l]);const h=new r.VoiceProfileEnrollmentResult(r.ResultReason.Canceled,p,p);this.privDeferralMap.getId(c)&&this.privDeferralMap.complete(c,h)}async createProfile(s,c){this.voiceProfileType=s.toString();const u=this.connectImpl();try{const l=new e.Deferred;return await u,await this.sendCreateProfile(l,s,c),this.receiveMessage(),l.promise}catch(l){throw l}}async resetProfile(s){return this.voiceProfileType=s.profileType.toString(),this.sendCommonRequest("reset",s.profileType,s)}async deleteProfile(s){return this.voiceProfileType=s.profileType.toString(),this.sendCommonRequest("delete",s.profileType,s)}async retrieveEnrollmentResult(s){return this.voiceProfileType=s.profileType.toString(),this.privExpectedProfileId=s.profileId,this.sendCommonRequest("fetch",s.profileType,s)}async getAllProfiles(s){return this.voiceProfileType=s.toString(),this.sendCommonRequest("fetch",s)}async getActivationPhrases(s,c){this.voiceProfileType=s.toString();const u=this.connectImpl();try{const l=new e.Deferred;return await u,await this.sendPhrasesRequest(l,s,c),this.receiveMessage(),l.promise}catch(l){throw l}}async enrollProfile(s){this.voiceProfileType=s.profileType.toString();const c=new e.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const u=this.connectImpl(),l=this.sendPreAudioMessages(s,c),p=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),d=await this.privSpeakerAudioSource.format,h=await this.privSpeakerAudioSource.deviceInfo,f=new t.ReplayableAudioNode(p,d.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(f,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:h};try{await u,await l}catch(v){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,v)}const g=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,g),this.receiveMessage(),this.sendAudio(f).then(()=>{},v=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,v)}),c.promise}async sendPreAudioMessages(s,c){const u=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,c),await this.sendBaseRequest(u,"enroll",this.scenarioFrom(s.profileType),s)}async sendPhrasesRequest(s,c,u){const l=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,s);const p=this.scenarioFrom(c),d={locale:u,scenario:p};return l.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(d)))}async sendCreateProfile(s,c,u){const l=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,s);const p=c===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":c===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",d={locale:u,number:"1",scenario:p};return l.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(d)))}async sendCommonRequest(s,c,u=void 0){const l=this.connectImpl();try{const p=new e.Deferred;this.privRequestSession.onSpeechContext(),await l;const d=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,p),await this.sendBaseRequest(d,s,this.scenarioFrom(c),u),this.receiveMessage(),p.promise}catch(p){throw p}}async sendBaseRequest(s,c,u,l){const p={scenario:u};return l?p.profileIds=[l.profileId]:p.maxPageSize=-1,s.send(new i.SpeechConnectionMessage(e.MessageType.Text,`speaker.profile.${c}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(p)))}extractSpeakerContext(s){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:s.profileIds,scenario:s.scenario}}handlePhrasesResponse(s,c){if(this.privDeferralMap.getId(c))if(s.status.statusCode.toLowerCase()!=="success"){const u=r.ResultReason.Canceled,l=new r.VoiceProfilePhraseResult(u,s.status.statusCode,s.passPhraseType,[]);this.privDeferralMap.complete(c,l)}else if(s.phrases&&s.phrases.length>0){const u=r.ResultReason.EnrollingVoiceProfile,l=new r.VoiceProfilePhraseResult(u,s.status.statusCode,s.passPhraseType,s.phrases);this.privDeferralMap.complete(c,l)}else throw new Error("Voice Profile get activation phrases failed, no phrases received");else throw new Error(`Voice Profile get activation phrases request for requestID ${c} not found`)}handleCreateResponse(s,c){if(s.profiles&&s.profiles.length>0)if(this.privDeferralMap.getId(c)){const u=s.profiles.map(l=>l.profileId);this.privDeferralMap.complete(c,u)}else throw new Error(`Voice Profile create request for requestID ${c} not found`);else throw new Error("Voice Profile create failed, no profile id received")}handleResultResponse(s,c){if(this.privDeferralMap.getId(c)){const u=s.operation.toLowerCase()==="delete"?r.ResultReason.DeletedVoiceProfile:r.ResultReason.ResetVoiceProfile,l=s.status.statusCode.toLowerCase()==="success"?u:r.ResultReason.Canceled,p=new r.VoiceProfileResult(l,`statusCode: ${s.status.statusCode}, errorDetails: ${s.status.reason}`);this.privDeferralMap.complete(c,p)}else throw new Error(`Voice Profile create request for requestID ${c} not found`)}handleFetchResponse(s,c){if(this.privDeferralMap.getId(c)&&s.profiles[0]){if(this.privExpectedProfileId&&s.profiles.length===1&&s.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const u=s.profiles[0],l=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(u.enrollmentStatus),JSON.stringify(u),s.status.reason);this.privDeferralMap.complete(c,l)}else if(s.profiles.length>0){const u=s.profiles,l=[];for(const p of u)l.push(new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(p.enrollmentStatus),JSON.stringify(p),s.status.reason));this.privDeferralMap.complete(c,l)}}else throw new Error(`Voice Profile fetch request for requestID ${c} not found`)}enrollmentReasonFrom(s){switch(s.toLowerCase()){case"enrolled":return r.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return r.ResultReason.Canceled;default:return r.ResultReason.EnrollingVoiceProfile}}scenarioFrom(s){return s===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":s===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}};return ms.VoiceServiceRecognizer=o,ms}var Gw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.connectivity=t.Device=t.OS=t.System=t.Context=t.SpeechServiceConfig=void 0;class e{constructor(s){this.context=s}serialize(){return JSON.stringify(this,(s,c)=>{if(c&&typeof c=="object"&&!Array.isArray(c)){const u={};for(const l in c)Object.hasOwnProperty.call(c,l)&&(u[l&&l.charAt(0).toLowerCase()+l.substring(1)]=c[l]);return u}return c})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(s){this.recognition=s.toLowerCase()}}t.SpeechServiceConfig=e;class r{constructor(s){this.system=new n,this.os=s}}t.Context=r;class n{constructor(){const s="1.35.0";this.name="SpeechSDK",this.version=s,this.build="JavaScript",this.lang="JavaScript"}}t.System=n;class i{constructor(s,c,u){this.platform=s,this.name=c,this.version=u}}t.OS=i;class o{constructor(s,c,u){this.manufacturer=s,this.model=c,this.version=u}}t.Device=o,function(a){a.Bluetooth="Bluetooth",a.Wired="Wired",a.WiFi="WiFi",a.Cellular="Cellular",a.InBuilt="InBuilt",a.Unknown="Unknown"}(t.connectivity||(t.connectivity={})),function(a){a.Phone="Phone",a.Speaker="Speaker",a.Car="Car",a.Headset="Headset",a.Thermostat="Thermostat",a.Microphones="Microphones",a.Deskphone="Deskphone",a.RemoteControl="RemoteControl",a.Unknown="Unknown",a.File="File",a.Stream="Stream"}(t.type||(t.type={}))})(Gw);var Uy;function M(){return Uy||(Uy=1,function(t){var e=W&&W.__createBinding||(Object.create?function(o,a,s,c){c===void 0&&(c=s),Object.defineProperty(o,c,{enumerable:!0,get:function(){return a[s]}})}:function(o,a,s,c){c===void 0&&(c=s),o[c]=a[s]}),r=W&&W.__exportStar||function(o,a){for(var s in o)s!=="default"&&!a.hasOwnProperty(s)&&e(a,o,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguagesOpenRangeOptionName=t.ForceDictationPropertyName=t.ServicePropertiesPropertyName=t.CancellationErrorCodePropertyName=t.OutputFormatPropertyName=void 0,r(Pu,t),r(Uu,t),r(Si,t),r(WR,t),r(KR,t),r(dD(),t),r(hD(),t),r(gl,t),r(fD(),t),r(vD(),t),r(gD(),t),r(Bw,t),r(ml,t),r(yD(),t),r(SD(),t),r(CD(),t),r(PD(),t),r(zw(),t),r(RD(),t),r($w,t),r(wD(),t),r(yl,t),r(ID(),t),r(AD(),t),r(Sl,t),r(Cl,t),r(Pl,t),r(_D(),t),r(bD(),t),r(kD(),t),r(OD(),t),r(MD(),t),r(Rl,t),r(ND(),t),r(wl,t),r(Hw,t),r(El,t),r(Il,t),r(Al,t),r(Ww,t),r(WD(),t),r(kl,t),r(lN(),t),r(Mf,t),r(fN(),t),r(vN(),t);var n=gN();Object.defineProperty(t,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return n.AvatarSynthesisAdapter}});var i=mN();Object.defineProperty(t,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return i.SpeechSynthesisAdapter}}),r(yN(),t),r(SN(),t),r(CN(),t),r(PN(),t),r(RN(),t),r(wN(),t),r(Gw,t),t.OutputFormatPropertyName="OutputFormat",t.CancellationErrorCodePropertyName="CancellationErrorCode",t.ServicePropertiesPropertyName="ServiceProperties",t.ForceDictationPropertyName="ForceDictation",t.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"}(gp)),gp}(function(t){var e=W&&W.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),r=W&&W.__exportStar||function(i,o){for(var a in i)a!=="default"&&!o.hasOwnProperty(a)&&e(o,i,a)};Object.defineProperty(t,"__esModule",{value:!0});const n=M();new n.AgentConfig,r(A(),t)})(Is);const ln=class ln{constructor(e,r){dr(this,"speechToken");dr(this,"speechRegion");dr(this,"onRecognizing",()=>{});dr(this,"onRecognitionDone",()=>{});dr(this,"speechRecognizer");this.speechToken=e,this.speechRegion=r}static getInstance(e,r){return ln.instance||(ln.instance=new ln(e,r)),ln.instance}startRecognition(e,r){this.onRecognizing=e,this.onRecognitionDone=r;const n=Is.SpeechConfig.fromAuthorizationToken(this.speechToken,this.speechRegion);n.speechRecognitionLanguage="fr-FR",this.recognizeFromMicrophone(n)}stopRecognition(){var e;(e=this.speechRecognizer)==null||e.stopContinuousRecognitionAsync()}recognizeFromMicrophone(e){const r=Is.AudioConfig.fromDefaultMicrophoneInput();this.speechRecognizer=new Is.SpeechRecognizer(e,r);const n=Is.PhraseListGrammar.fromRecognizer(this.speechRecognizer);n.addPhrase("Skyincap"),n.addPhrase("Skyconseil"),n.addPhrase("Guidor"),n.addPhrase("Vercel"),n.addPhrase("Bitbucket"),n.addPhrase("Jira"),n.addPhrase("Vitest"),n.addPhrase("Sharik"),n.addPhrase("Playwright"),n.addPhrase("la doc"),n.addPhrase("Chat GPT"),n.addPhrase("Source Tree"),this.speechRecognizer.recognizing=(i,o)=>{const a=o.result.text;this.onRecognizing(a)},this.speechRecognizer.recognized=(i,o)=>{const a=o.result.text;this.onRecognitionDone(a)},this.speechRecognizer.startContinuousRecognitionAsync()}};dr(ln,"instance");let Yd=ln;const EN=FP("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Zd=P.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},o)=>{const a=n?na:"button";return H.jsx(a,{className:$r(EN({variant:e,size:r,className:t})),ref:o,...i})});Zd.displayName="Button";/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Qw=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:c,...u},l)=>P.createElement("svg",{ref:l,...TN,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${IN(t)}`,s].join(" "),...u},[...e.map(([p,d])=>P.createElement(p,d)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Qw("Speech",[["path",{d:"M8.8 20v-4.1l1.9.2a2.3 2.3 0 0 0 2.164-2.1V8.3A5.37 5.37 0 0 0 2 8.25c0 2.8.656 3.054 1 4.55a5.77 5.77 0 0 1 .029 2.758L2 20",key:"11atix"}],["path",{d:"M19.8 17.8a7.5 7.5 0 0 0 .003-10.603",key:"yol142"}],["path",{d:"M17 15a3.5 3.5 0 0 0-.025-4.975",key:"ssbmkc"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Qw("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);function bN(){const{navigateTo:t}=P.useContext(Gh),{t:e}=of(),[r,n]=P.useState(""),[i,o]=P.useState(!1),[a,s]=P.useState(null),c=P.useRef(null);P.useEffect(()=>{var v;const y=(v=tr.fromCookie("accessToken"))==null?void 0:v.toString();y?s(Yd.getInstance(y,"francecentral")):t(ft.Home)},[t]),P.useEffect(()=>{const y=()=>{document.visibilityState==="hidden"&&g()};return document.addEventListener("visibilitychange",y),()=>{document.removeEventListener("visibilitychange",y)}}),P.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[r]);let u=0,l=0;const p=["","",""];function d(){o(!0),n(e("listening")),a==null||a.startRecognition(h,f)}function h(y){y.length>0&&(p[u%3]=y,n(p[l%3]+`
`+p[(l+1)%3]+`
`+p[(l+2)%3]))}function f(y){y.length>0&&(p[u%3]=y,n(p[l%3]+`
`+p[(l+1)%3]+`
`+p[(l+2)%3]),u++,u>2&&l++)}function g(){o(!1),a==null||a.stopRecognition()}return H.jsx(H.Fragment,{children:H.jsxs("div",{className:"fixed bottom-0 inset-x-0 flex flex-col h-full w-full",children:[H.jsx("div",{ref:c,className:"flex-grow m-auto w-full p-2 text-4xl text-left leading-snug max-w-6xl overflow-auto",children:r}),H.jsx("div",{className:"flex items-center justify-center py-4 border-t-2 border-gray-500",children:i?H.jsxs(Zd,{onClick:g,children:[H.jsx(_N,{className:"mr-2 h-4 w-4"})," ",e("stop")]}):H.jsxs(Zd,{onClick:d,children:[H.jsx(AN,{className:"mr-2 h-4 w-4"})," ",e("start")]})})]})})}function kN(){const{t}=of(),{toast:e}=XP(),[r,n]=P.useState(ft.Home);P.useEffect(()=>{if(r!==ft.Home)return;const a=tr.fromCookie("accessToken"),s=tr.fromCookie("refreshToken");a&&!a.isExpired?o(ft.Speech):s&&!s.isExpired?CR.refreshToken(s.toString()).then(c=>{new tr(c.accessToken).storeInCookie("accessToken"),new tr(c.refreshToken).storeInCookie("refreshToken"),o(ft.Speech)}).catch(c=>{var p;const u=(p=c.response)==null?void 0:p.data,l=qd.getErrorMessage(t,u);i(l),o(ft.Login)}):o(ft.Login)},[r]);const i=a=>{e({variant:"destructive",description:a,duration:5e3})},o=a=>{n(a)};return H.jsx(ET,{defaultTheme:"system",storageKey:"vite-ui-theme",children:H.jsxs(Gh.Provider,{value:{displayToast:i,navigateTo:o},children:[r==ft.Login&&H.jsx(Q_,{}),r==ft.Speech&&H.jsx(bN,{}),r==ft.Home&&H.jsx("div",{className:"absolute inset-0 grid place-content-center",children:H.jsx(PR,{})}),H.jsx(sA,{})]})})}function ON(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ca(t){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(t)}function MN(t,e){if(ca(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DN(t){var e=MN(t,"string");return ca(e)=="symbol"?e:String(e)}function qy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DN(n.key),n)}}function NN(t,e,r){return e&&qy(t.prototype,e),r&&qy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Xw=[],xN=Xw.forEach,LN=Xw.slice;function zN(t){return xN.call(LN.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}var Vy=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,jN=function(e,r,n){var i=n||{};i.path=i.path||"/";var o=encodeURIComponent(r),a="".concat(e,"=").concat(o);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!Vy.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!Vy.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var c=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Hy={create:function(e,r,n,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),i&&(o.domain=i),document.cookie=jN(e,encodeURIComponent(r),o)},read:function(e){for(var r="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(r)===0)return o.substring(r.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},FN={name:"cookie",lookup:function(e){var r;if(e.lookupCookie&&typeof document<"u"){var n=Hy.read(e.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupCookie&&typeof document<"u"&&Hy.create(r.lookupCookie,e,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},BN={name:"querystring",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),o=i.split("&"),a=0;a<o.length;a++){var s=o[a].indexOf("=");if(s>0){var c=o[a].substring(0,s);c===e.lookupQuerystring&&(r=o[a].substring(s+1))}}}return r}},ys=null,Wy=function(){if(ys!==null)return ys;try{ys=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ys=!1}return ys},$N={name:"localStorage",lookup:function(e){var r;if(e.lookupLocalStorage&&Wy()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupLocalStorage&&Wy()&&window.localStorage.setItem(r.lookupLocalStorage,e)}},Ss=null,Ky=function(){if(Ss!==null)return Ss;try{Ss=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ss=!1}return Ss},UN={name:"sessionStorage",lookup:function(e){var r;if(e.lookupSessionStorage&&Ky()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupSessionStorage&&Ky()&&window.sessionStorage.setItem(r.lookupSessionStorage,e)}},qN={name:"navigator",lookup:function(e){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},VN={name:"htmlTag",lookup:function(e){var r,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},HN={name:"path",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;r=n[e.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},WN={name:"subdomain",lookup:function(e){var r=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};function KN(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Yw=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ON(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}return NN(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=zN(n,this.options||{},KN()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(FN),this.addDetector(BN),this.addDetector($N),this.addDetector(UN),this.addDetector(qN),this.addDetector(VN),this.addDetector(HN),this.addDetector(WN)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var i=[];return r.forEach(function(o){if(n.detectors[o]){var a=n.detectors[o].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(o){return n.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(r,i.options)}))}}]),t}();Yw.type="languageDetector";const JN={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Jc{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||JN,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Jc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Jc(this.logger,e)}}var Bt=new Jc;class xl{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[s,c]=a;for(let u=0;u<c;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[s,c]=a;for(let u=0;u<c;u++)s.apply(s,[e,...n])})}}function Cs(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function Jy(t){return t==null?"":""+t}function GN(t,e,r){t.forEach(n=>{e[n]&&(r[n]=e[n])})}const QN=/###/g;function Fs(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(QN,"."):s}function i(){return!t||typeof t=="string"}const o=typeof e!="string"?e:e.split(".");let a=0;for(;a<o.length-1;){if(i())return{};const s=n(o[a]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++a}return i()?{}:{obj:t,k:n(o[a])}}function Gy(t,e,r){const{obj:n,k:i}=Fs(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let o=e[e.length-1],a=e.slice(0,e.length-1),s=Fs(t,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Fs(t,a,Object),s&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=r}function XN(t,e,r,n){const{obj:i,k:o}=Fs(t,e,Object);i[o]=i[o]||[],n&&(i[o]=i[o].concat(r)),n||i[o].push(r)}function Gc(t,e){const{obj:r,k:n}=Fs(t,e);if(r)return r[n]}function YN(t,e,r){const n=Gc(t,r);return n!==void 0?n:Gc(e,r)}function Zw(t,e,r){for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):Zw(t[n],e[n],r):t[n]=e[n]);return t}function Dn(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ZN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ex(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>ZN[e]):t}class tx{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const rx=[" ",",","?","!",";"],nx=new tx(20);function ix(t,e,r){e=e||"",r=r||"";const n=rx.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const i=nx.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(t);if(!o){const a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(o=!0)}return o}function eh(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let a,s="";for(let c=o;c<n.length;++c)if(c!==o&&(s+=r),s+=n[c],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;o+=c-o+1;break}i=a}return i}function Qc(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Qy extends xl{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):typeof n=="string"&&o?s.push(...n.split(o)):s.push(n)));const c=Gc(this.data,s);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),c||!a||typeof n!="string"?c:eh(this.data&&this.data[e]&&this.data[e][r],n,o)}addResource(e,r,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),Gy(this.data,s,i),o.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(typeof n[o]=="string"||Object.prototype.toString.apply(n[o])==="[object Array]")&&this.addResource(e,r,o,n[o],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let c=Gc(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Zw(c,n,o):c={...c,...n},Gy(this.data,s,c),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var eE={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,r,n,i))}),e}};const Xy={};class Xc extends xl{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),GN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Bt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!ix(e,n,i);if(a&&!s){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:o};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(i)}return typeof o=="string"&&(o=[o]),{key:e,namespaces:o}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],r),c=s[s.length-1],u=r.lng||this.language,l=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){const C=r.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${C}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${C}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:a}const p=this.resolve(e,r);let d=p&&p.res;const h=p&&p.usedKey||a,f=p&&p.exactUsedKey||a,g=Object.prototype.toString.apply(d),y=["[object Number]","[object Function]","[object RegExp]"],v=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&y.indexOf(g)<0&&!(typeof v=="string"&&g==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...r,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(p.res=C,p.usedParams=this.getUsedParamsDetails(r),p):C}if(o){const C=g==="[object Array]",R=C?[]:{},w=C?f:h;for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T)){const E=`${w}${o}${T}`;R[T]=this.translate(E,{...r,joinArrays:!1,ns:s}),R[T]===E&&(R[T]=d[T])}d=R}}else if(m&&typeof v=="string"&&g==="[object Array]")d=d.join(v),d&&(d=this.extendTranslation(d,e,r,n));else{let C=!1,R=!1;const w=r.count!==void 0&&typeof r.count!="string",T=Xc.hasDefaultValue(r),E=w?this.pluralResolver.getSuffix(u,r.count,r):"",x=r.ordinal&&w?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",N=w&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),U=N&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${E}`]||r[`defaultValue${x}`]||r.defaultValue;!this.isValidLookup(d)&&T&&(C=!0,d=U),this.isValidLookup(d)||(R=!0,d=a);const Y=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:d,O=T&&U!==d&&this.options.updateMissing;if(R||C||O){if(this.logger.log(O?"updateKey":"missingKey",u,c,a,O?U:d),o){const b=this.resolve(a,{...r,keySeparator:!1});b&&b.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let b=0;b<te.length;b++)ee.push(te[b]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(r.lng||this.language):ee.push(r.lng||this.language);const Se=(b,D,z)=>{const Q=T&&z!==d?z:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(b,c,D,Q,O,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(b,c,D,Q,O,r),this.emit("missingKey",b,c,D,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?ee.forEach(b=>{const D=this.pluralResolver.getSuffixes(b,r);N&&r[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(z=>{Se([b],a+z,r[`defaultValue${z}`]||U)})}):Se(ee,a,U))}d=this.extendTranslation(d,e,r,p,n),R&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${c}:${a}`),(R||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,C?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(p.res=d,p.usedParams=this.getUsedParamsDetails(r),p):d}extendTranslation(e,r,n,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(u){const d=e.match(this.interpolator.nestingRegexp);l=d&&d.length}let p=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language,n),u){const d=e.match(this.interpolator.nestingRegexp),h=d&&d.length;l<h&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return o&&o[0]===h[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):a.translate(...h,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,c=typeof s=="string"?[s]:s;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=eE.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,o,a,s;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),l=u.key;i=l;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const d=r.count!==void 0&&typeof r.count!="string",h=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),f=r.context!==void 0&&(typeof r.context=="string"||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);p.forEach(y=>{this.isValidLookup(n)||(s=y,!Xy[`${g[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Xy[`${g[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(v=>{if(this.isValidLookup(n))return;a=v;const m=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,l,v,y,r);else{let C;d&&(C=this.pluralResolver.getSuffix(v,r.count,r));const R=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(m.push(l+C),r.ordinal&&C.indexOf(w)===0&&m.push(l+C.replace(w,this.options.pluralSeparator)),h&&m.push(l+R)),f){const T=`${l}${this.options.contextSeparator}${r.context}`;m.push(T),d&&(m.push(T+C),r.ordinal&&C.indexOf(w)===0&&m.push(T+C.replace(w,this.options.pluralSeparator)),h&&m.push(T+R))}}let S;for(;S=m.pop();)this.isValidLookup(n)||(o=S,n=this.getResource(v,y,S,r))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string";let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const o of r)delete i[o]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}function zp(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Yy{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Bt.create("languageUtils")}getScriptPartFromCode(e){if(e=Qc(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Qc(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=zp(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=zp(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=zp(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):typeof e=="string"&&o(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let ox=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],sx={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const ax=["v1","v2","v3"],cx=["v4"],Zy={zero:0,one:1,two:2,few:3,many:4,other:5};function ux(){const t={};return ox.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:sx[e.fc]}})}),t}class lx{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Bt.create("pluralResolver"),(!this.options.compatibilityJSON||cx.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ux()}addRule(e,r){this.rules[e]=r}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Qc(e==="dev"?"en":e),{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,o)=>Zy[i]-Zy[o]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!ax.includes(this.options.compatibilityJSON)}}function eS(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=YN(t,e,r);return!o&&i&&typeof r=="string"&&(o=eh(t,r,n),o===void 0&&(o=eh(e,r,n))),o}class px{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const r=e.interpolation;this.escape=r.escape!==void 0?r.escape:ex,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Dn(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Dn(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Dn(r.nestingPrefix):r.nestingPrefixEscaped||Dn("$t("),this.nestingSuffix=r.nestingSuffix?Dn(r.nestingSuffix):r.nestingSuffixEscaped||Dn(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let o,a,s;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(f){return f.replace(/\$/g,"$$$$")}const l=f=>{if(f.indexOf(this.formatSeparator)<0){const m=eS(r,c,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,n,{...i,...r,interpolationkey:f}):m}const g=f.split(this.formatSeparator),y=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(eS(r,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...i,...r,interpolationkey:y})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>u(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?u(this.escape(f)):u(f)}].forEach(f=>{for(s=0;o=f.regex.exec(e);){const g=o[1].trim();if(a=l(g),a===void 0)if(typeof p=="function"){const v=p(e,o,i);a=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(d){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=Jy(a));const y=f.safeValue(a);if(e=e.replace(o[0],y),d?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=o[0].length):f.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;function s(c,u){const l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;const p=c.split(new RegExp(`${l}[ ]*{`));let d=`{${p[1]}`;c=p[0],d=this.interpolate(d,a);const h=d.match(/'/g),f=d.match(/"/g);(h&&h.length%2===0&&!f||f.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${l}${d}`}return delete a.defaultValue,c}for(;i=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const l=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=l.shift(),c=l,u=!0}if(o=r(s.call(this,i[1].trim(),a),a),o&&i[0]===e&&typeof o!="string")return o;typeof o!="string"&&(o=Jy(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),u&&(o=c.reduce((l,p)=>this.format(l,p,n.lng,{...n,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}function dx(t){let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(!a)return;const[s,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,"");r[s.trim()]||(r[s.trim()]=u),u==="false"&&(r[s.trim()]=!1),u==="true"&&(r[s.trim()]=!0),isNaN(u)||(r[s.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:r}}function Nn(t){const e={};return function(n,i,o){const a=i+JSON.stringify(o);let s=e[a];return s||(s=t(Qc(i),o),e[a]=s),s(n)}}class hx{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Bt.create("formatter"),this.options=e,this.formats={number:Nn((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return o=>i.format(o)}),currency:Nn((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return o=>i.format(o)}),datetime:Nn((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return o=>i.format(o)}),relativetime:Nn((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return o=>i.format(o,n.range||"day")}),list:Nn((r,n)=>{const i=new Intl.ListFormat(r,{...n});return o=>i.format(o)})},this.init(e)}init(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Nn(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.split(this.formatSeparator).reduce((s,c)=>{const{formatName:u,formatOptions:l}=dx(c);if(this.formats[u]){let p=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=d.locale||d.lng||i.locale||i.lng||n;p=this.formats[u](s,h,{...l,...i,...d})}catch(d){this.logger.warn(d)}return p}else this.logger.warn(`there was no format function for ${u}`);return s},e)}}function fx(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class vx extends xl{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Bt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const o={},a={},s={},c={};return e.forEach(u=>{let l=!0;r.forEach(p=>{const d=`${u}|${p}`;!n.reload&&this.store.hasResourceBundle(u,p)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,l=!1,a[d]===void 0&&(a[d]=!0),o[d]===void 0&&(o[d]=!0),c[p]===void 0&&(c[p]=!0)))}),l||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),o=i[0],a=i[1];r&&this.emit("failedLoading",o,a,r),n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2;const s={};this.queue.forEach(c=>{XN(c.loaded,[o],a),fx(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{s[u]||(s[u]={});const l=c.loaded[u];l.length&&l.forEach(p=>{s[u][p]===void 0&&(s[u][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,o*2,a)},o);return}a(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(l=>s(null,l)).catch(s):s(null,u)}catch(u){s(u)}return}return c(e,r,s)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof r=="string"&&(r=[r]);const o=this.queueLoad(e,r,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${r}loaded namespace ${o} for language ${i}`,s),this.loaded(e,a,s)})}saveMissing(e,r,n,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(e,r,n,i,c):l=u(e,r,n,i),l&&typeof l.then=="function"?l.then(p=>s(null,p)).catch(s):s(null,l)}catch(l){s(l)}else u(e,r,n,i,s,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}function tS(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let r={};if(typeof e[1]=="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function rS(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ec(){}function gx(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}class ua extends xl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=rS(e),this.services={},this.logger=Bt,this.modules={external:[]},gx(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(typeof r.ns=="string"?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=tS();this.options={...i,...this.options,...rS(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);function o(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?Bt.init(o(this.modules.logger),this.options):Bt.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=hx);const p=new Yy(this.options);this.store=new Qy(this.options.resources,this.options);const d=this.services;d.logger=Bt,d.resourceStore=this.store,d.languageUtils=p,d.pluralResolver=new lx(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=o(l),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new px(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new vx(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var f=arguments.length,g=new Array(f>1?f-1:0),y=1;y<f;y++)g[y-1]=arguments[y];e.emit(h,...g)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Xc(this.services,this.options),this.translator.on("*",function(h){for(var f=arguments.length,g=new Array(f>1?f-1:0),y=1;y<f;y++)g[y-1]=arguments[y];e.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ec),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});const c=Cs(),u=()=>{const l=(p,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(d),n(p,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ec;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){const i=Cs();return e||(e=this.languages),r||(r=this.options.ns),n||(n=ec),this.services.backendConnector.reload(e,r,o=>{i.resolve(),n(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&eE.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=Cs();this.emit("languageChanging",e);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},s=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{a(l,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,n){var i=this;const o=function(a,s){let c;if(typeof s!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),p=2;p<u;p++)l[p-2]=arguments[p];c=i.options.overloadTranslationOptionHandler([a,s].concat(l))}else c={...s};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix=c.keyPrefix||n||o.keyPrefix;const d=i.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(a)?h=a.map(f=>`${c.keyPrefix}${d}${f}`):h=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a,i.t(h,c)};return typeof e=="string"?o.lng=e:o.lngs=e,o.ns=r,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(s,c)=>{const u=this.services.backendConnector.state[`${s}|${c}`];return u===-1||u===2};if(r.precheck){const s=r.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(o,e)))}loadNamespaces(e,r){const n=Cs();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Cs();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],o=e.filter(a=>i.indexOf(a)<0);return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Yy(tS());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new ua(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ec;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new ua(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new Qy(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Xc(o.services,i),o.translator.on("*",function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];o.emit(s,...u)}),o.init(i,r),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const He=ua.createInstance();He.createInstance=ua.createInstance;He.createInstance;He.dir;He.init;He.loadResources;He.reloadResources;He.use;He.changeLanguage;He.getFixedT;He.t;He.exists;He.setDefaultNamespace;He.hasLoadedNamespace;He.loadNamespaces;He.loadLanguages;const mx="Start",yx="Stop",Sx="Listening...",Cx={default:"Something went wrong. Please try again later.",invalidHostedDomain:"Please log in with your Skyincap account",userAccessRevoked:"Your access has been revoked. Please contact your administrator."},Px={start:mx,stop:yx,listening:Sx,backendError:Cx},Rx="Démarrer",wx="Arrêter",Ex="En écoute...",Tx={default:"Une erreur est survenue. Veuillez réessayer plus tard.",invalidHostedDomain:"Veuillez vous connecter avec votre compte Skyincap",userAccessRevoked:"Votre accès a été révoqué. Veuillez contacter votre administrateur."},Ix={start:Rx,stop:wx,listening:Ex,backendError:Tx};He.use(H_).use(Yw).init({debug:!1,fallbackLng:"en",resources:{en:{translation:Px},fr:{translation:Ix}}});jp.createRoot(document.getElementById("root")).render(H.jsx(cA,{clientId:"798545760720-dunacdvavoftqbj6sb81d20857sbncil.apps.googleusercontent.com",children:H.jsx(kN,{})}));
